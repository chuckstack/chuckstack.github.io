<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Production Open Source Chat with Work Instructions</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <script data-host="https://app.microanalytics.io" data-dnt="false" src="https://app.microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ul class="chapter">
                    <li><a class="active" href="../">chuck-stack Home</a></li> <!--chuboe changed-->
                </ul>
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="picture-success.html"><strong aria-hidden="true">2.</strong> Picture of Success</a></li><li class="chapter-item expanded "><a href="success-factor.html"><strong aria-hidden="true">3.</strong> Success Factors</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="success-hr.html"><strong aria-hidden="true">3.1.</strong> Success with HR</a></li><li class="chapter-item expanded "><a href="success-ai.html"><strong aria-hidden="true">3.2.</strong> Success with AI</a></li><li class="chapter-item expanded "><a href="success-cli.html"><strong aria-hidden="true">3.3.</strong> Success with CLI</a></li><li class="chapter-item expanded "><a href="success-linux.html"><strong aria-hidden="true">3.4.</strong> Success with Linux</a></li><li class="chapter-item expanded "><a href="success-postgresql.html"><strong aria-hidden="true">3.5.</strong> Success with PostgreSQL</a></li><li class="chapter-item expanded "><a href="success-api.html"><strong aria-hidden="true">3.6.</strong> Success with API</a></li></ol></li><li class="chapter-item expanded "><a href="getting-started.html"><strong aria-hidden="true">4.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="stack-faq.html"><strong aria-hidden="true">5.</strong> Stack FAQ</a></li><li class="chapter-item expanded "><a href="stack-tools.html"><strong aria-hidden="true">6.</strong> Stack Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tool-incus.html"><strong aria-hidden="true">6.1.</strong> Incus</a></li><li class="chapter-item expanded "><a href="tool-linux.html"><strong aria-hidden="true">6.2.</strong> Linux</a></li><li class="chapter-item expanded "><a href="tool-postgresql.html"><strong aria-hidden="true">6.3.</strong> PostgreSQL</a></li><li class="chapter-item expanded "><a href="tool-postgrest.html"><strong aria-hidden="true">6.4.</strong> PostgREST</a></li><li class="chapter-item expanded "><a href="tool-aichat.html"><strong aria-hidden="true">6.5.</strong> AIChat</a></li><li class="chapter-item expanded "><a href="tool-nushell.html"><strong aria-hidden="true">6.6.</strong> Nushell</a></li><li class="chapter-item expanded "><a href="tool-zellij.html"><strong aria-hidden="true">6.7.</strong> Zellij</a></li><li class="chapter-item expanded "><a href="tool-git.html"><strong aria-hidden="true">6.8.</strong> Git</a></li><li class="chapter-item expanded "><a href="tool-obsidian.html"><strong aria-hidden="true">6.9.</strong> Obsidian</a></li><li class="chapter-item expanded "><a href="tool-netbird.html"><strong aria-hidden="true">6.10.</strong> Netbird</a></li><li class="chapter-item expanded "><a href="tool-idempiere.html"><strong aria-hidden="true">6.11.</strong> iDempiere</a></li><li class="chapter-item expanded "><a href="tool-htmx.html"><strong aria-hidden="true">6.12.</strong> htmx</a></li><li class="chapter-item expanded "><a href="tool-discourse.html"><strong aria-hidden="true">6.13.</strong> Discourse</a></li><li class="chapter-item expanded "><a href="tool-mdbook.html"><strong aria-hidden="true">6.14.</strong> mdBook</a></li><li class="chapter-item expanded "><a href="tool-others.html"><strong aria-hidden="true">6.15.</strong> Others</a></li></ol></li><li class="chapter-item expanded "><a href="stack-architecture.html"><strong aria-hidden="true">7.</strong> Stack Architecture</a></li><li class="chapter-item expanded "><a href="stack-application.html"><strong aria-hidden="true">8.</strong> Stack Application</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="application-deploy.html"><strong aria-hidden="true">8.1.</strong> Deployment</a></li><li class="chapter-item expanded "><a href="application-workflow.html"><strong aria-hidden="true">8.2.</strong> Workflow</a></li><li class="chapter-item expanded "><a href="application-attribute.html"><strong aria-hidden="true">8.3.</strong> Attribute Tagging</a></li></ol></li><li class="chapter-item expanded "><a href="best-practices.html"><strong aria-hidden="true">9.</strong> Stack Best Practices</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="best-practices-operation.html"><strong aria-hidden="true">9.1.</strong> Operation Best Practices</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="best-practices-operation-say.html"><strong aria-hidden="true">9.1.1.</strong> Say What We Do</a></li><li class="chapter-item expanded "><a href="best-practices-operation-do.html"><strong aria-hidden="true">9.1.2.</strong> Do What We Said</a></li><li class="chapter-item expanded "><a href="best-practices-operation-prove.html"><strong aria-hidden="true">9.1.3.</strong> Prove We Did It</a></li><li class="chapter-item expanded "><a href="best-practices-operation-feedback.html"><strong aria-hidden="true">9.1.4.</strong> Welcome Feedback</a></li><li class="chapter-item expanded "><a href="best-practices-operation-improve.html"><strong aria-hidden="true">9.1.5.</strong> Continuously Improve</a></li></ol></li><li class="chapter-item expanded "><a href="postgres-conventions.html"><strong aria-hidden="true">9.2.</strong> Postgres Conventions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="postgres-convention/schema.html"><strong aria-hidden="true">9.2.1.</strong> Private and API Schema</a></li><li class="chapter-item expanded "><a href="postgres-convention/abbreviation.html"><strong aria-hidden="true">9.2.2.</strong> Abbreviation</a></li><li class="chapter-item expanded "><a href="postgres-convention/table-convention.html"><strong aria-hidden="true">9.2.3.</strong> Table Convention</a></li><li class="chapter-item expanded "><a href="postgres-convention/column-convention.html"><strong aria-hidden="true">9.2.4.</strong> Column Convention</a></li><li class="chapter-item expanded "><a href="postgres-convention/table-record-convention.html"><strong aria-hidden="true">9.2.5.</strong> Table and Record</a></li><li class="chapter-item expanded "><a href="postgres-convention/uuid.html"><strong aria-hidden="true">9.2.6.</strong> UUID</a></li><li class="chapter-item expanded "><a href="postgres-convention/json-array-table-column.html"><strong aria-hidden="true">9.2.7.</strong> JSON vs Array vs Table</a></li><li class="chapter-item expanded "><a href="postgres-convention/enum-type-convention.html"><strong aria-hidden="true">9.2.8.</strong> enum and Type</a></li><li class="chapter-item expanded "><a href="postgres-convention/partition-convention.html"><strong aria-hidden="true">9.2.9.</strong> Partition</a></li><li class="chapter-item expanded "><a href="postgres-convention/function-convention.html"><strong aria-hidden="true">9.2.10.</strong> Function</a></li><li class="chapter-item expanded "><a href="postgres-convention/trigger-convention.html"><strong aria-hidden="true">9.2.11.</strong> Trigger</a></li><li class="chapter-item expanded "><a href="postgres-convention/comment.html"><strong aria-hidden="true">9.2.12.</strong> Comments</a></li><li class="chapter-item expanded "><a href="postgres-convention/sample-table-convention.html"><strong aria-hidden="true">9.2.13.</strong> Sample Table</a></li><li class="chapter-item expanded "><a href="postgres-convention/scalability-convention.html"><strong aria-hidden="true">9.2.14.</strong> Scalability</a></li><li class="chapter-item expanded "><a href="postgres-convention/nushell.html"><strong aria-hidden="true">9.2.15.</strong> Nushell psql</a></li><li class="chapter-item expanded "><a href="postgres-convention/to-be-resolved-convention.html"><strong aria-hidden="true">9.2.16.</strong> To Be Resolved</a></li></ol></li><li class="chapter-item expanded "><a href="postgres-services.html"><strong aria-hidden="true">9.3.</strong> Postgres Services</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="postgres-convention/async.html"><strong aria-hidden="true">9.3.1.</strong> Async</a></li><li class="chapter-item expanded "><a href="postgres-convention/attribute-tag.html"><strong aria-hidden="true">9.3.2.</strong> Attribute Tagging</a></li><li class="chapter-item expanded "><a href="postgres-convention/change-log.html"><strong aria-hidden="true">9.3.3.</strong> Change Log</a></li><li class="chapter-item expanded "><a href="postgres-convention/event.html"><strong aria-hidden="true">9.3.4.</strong> Event</a></li><li class="chapter-item expanded "><a href="postgres-convention/notify.html"><strong aria-hidden="true">9.3.5.</strong> Notify</a></li><li class="chapter-item expanded "><a href="postgres-convention/request.html"><strong aria-hidden="true">9.3.6.</strong> Request Workflow</a></li><li class="chapter-item expanded "><a href="postgres-convention/statistics-convention.html"><strong aria-hidden="true">9.3.7.</strong> Statistics</a></li><li class="chapter-item expanded "><a href="postgres-convention/system-configuration-convention.html"><strong aria-hidden="true">9.3.8.</strong> System Configuration</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="stack-academy.html"><strong aria-hidden="true">10.</strong> Stack Academy</a></li><li class="chapter-item expanded "><a href="stack-local.html"><strong aria-hidden="true">11.</strong> Local Community Support</a></li><li class="chapter-item expanded "><a href="terminology.html"><strong aria-hidden="true">12.</strong> Terminology</a></li><li class="chapter-item expanded "><a href="roadmap.html"><strong aria-hidden="true">13.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="project-history.html"><strong aria-hidden="true">14.</strong> Project History</a></li><li class="chapter-item expanded "><a href="reference.html"><strong aria-hidden="true">15.</strong> References</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded "><a href="code-of-conduct.html"><strong aria-hidden="true">16.</strong> Code of Conduct</a></li><li class="chapter-item expanded "><a href="privacy-policy.html"><strong aria-hidden="true">17.</strong> Privacy Policy</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded "><a href="blog.html"><strong aria-hidden="true">18.</strong> Blog</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="blog-incus-netbird-phoenixnap-isolated.html"><strong aria-hidden="true">18.1.</strong> Isolated Public-Facing Services in Incus</a></li><li class="chapter-item expanded "><a href="blog-local-co-op-funding-help.html"><strong aria-hidden="true">18.2.</strong> Local AI Funding - Time to Bring Back the Co-op</a></li><li class="chapter-item expanded "><a href="blog-llm-ai-production-deploy.html" class="active"><strong aria-hidden="true">18.3.</strong> Production Open Source Chat with Work Instructions</a></li><li class="chapter-item expanded "><a href="blog-chuck-stack-it-job-description-assessment.html"><strong aria-hidden="true">18.4.</strong> chuck-stack IT Job Description</a></li><li class="chapter-item expanded "><a href="blog-rsync-net.html"><strong aria-hidden="true">18.5.</strong> Immutable Off-site Backups are Imperative</a></li><li class="chapter-item expanded "><a href="blog-llm-ai-operations-automation.html"><strong aria-hidden="true">18.6.</strong> Operations AI LLM Automation in 2025</a></li><li class="chapter-item expanded "><a href="blog-incus-netbird-phoenixnap.html"><strong aria-hidden="true">18.7.</strong> Hybrid Cloud Strategy: Incus + Netbird + PhoenixNAP</a></li><li class="chapter-item expanded "><a href="blog-letter-ceo.html"><strong aria-hidden="true">18.8.</strong> Letter to the CEO</a></li><li class="chapter-item expanded "><a href="blog-cli-better.html"><strong aria-hidden="true">18.9.</strong> The CLI is better than...</a></li><li class="chapter-item expanded "><a href="blog-conversational-enterprise-computing.html"><strong aria-hidden="true">18.10.</strong> Why Conversational Enterprise Computing Matters</a></li><li class="chapter-item expanded "><a href="blog-work-instruction-sexy.html"><strong aria-hidden="true">18.11.</strong> Work Instructions Make your Organization Sexy</a></li><li class="chapter-item expanded "><a href="blog-live-markdown-world.html"><strong aria-hidden="true">18.12.</strong> We Live in a Markdown World</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <!-- add things here that will go above the body navigation -->
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="production-open-source-chat-with-work-instructions"><a class="header" href="#production-open-source-chat-with-work-instructions">Production Open Source Chat with Work Instructions</a></h1>
<ul>
<li>Published: 2025-03-06</li>
<li>Updated: 2025-03-17</li>
<li>Author: Chuck Boecking</li>
<li>Discussion: <a href="https://team.chuck-stack.org/t/production-open-source-chat-with-work-instructions/81">https://team.chuck-stack.org/t/production-open-source-chat-with-work-instructions/81</a></li>
<li>Status: Drafted (TODO: more coming...)</li>
</ul>
<h2 id="create-your-first-work-instruction-book-with-chat"><a class="header" href="#create-your-first-work-instruction-book-with-chat">Create Your First Work Instruction Book with Chat</a></h2>
<p>The purpose of this post is to help you get your first work instructions published with chat capabilities.</p>
<p>Here is the benefit story:</p>
<ul>
<li>You will thrust your AI capabilities ahead of 90% of all organizations in a single step.</li>
<li>You will create a platform for building future automation around your work instructions.</li>
</ul>
<blockquote>
<p>It is important to note that I am a champion of small to medium organizations. You are my target audience. This post was written for you!</p>
</blockquote>
<p>As a result of this article, you can:</p>
<ul>
<li>deploy a production quality system in minutes</li>
<li>use a framework to publish work instructions with zero additional effort</li>
<li>connect to most (if not all) of the world's most powerful language models (LLM) with no code change</li>
<li>improve your work instructions with AI assistance at near real-time speed where changes are based on actual human usage and feedback</li>
<li>set your organization on a path to achieve the world highest quality awards</li>
</ul>
<h2 id="toc"><a class="header" href="#toc">TOC</a></h2>
<ul>
<li><a href="#problem-statements">Problem Statements</a></li>
<li><a href="#getting-started">Getting Started</a>
<ul>
<li><a href="#before-we-start">Before We Start</a></li>
<li><a href="#linux">Linux</a></li>
<li><a href="#prepare-system">Prepare System</a></li>
<li><a href="#install-sample-work-instruction">Install Sample Work Instruction</a></li>
<li><a href="#search-documents">Search Documents</a></li>
<li><a href="#edit-online">Edit Online</a></li>
<li><a href="#always-up-to-date">Always Up to Date</a></li>
<li><a href="#talk-to-any-llm">Talk to Any LLM</a></li>
<li><a href="#control-the-user-experience">Control the User Experience</a></li>
<li><a href="#responses-and-improvement-workflow">Responses and Improvement Workflow</a></li>
</ul>
</li>
<li><a href="#architecture-overview">Architecture Overview</a>
<ul>
<li><a href="#tools">Tools</a></li>
<li><a href="#walk-through">Walk Through</a></li>
<li><a href="#ttyd">ttyd</a></li>
<li><a href="#aichat-tools">AIChat Tools</a></li>
<li><a href="#global-vpn">Global VPN</a></li>
<li><a href="#local-chat-and-more">Local Chat and More</a></li>
</ul>
</li>
<li><a href="#more-possibilities">More Possibilities</a>
<ul>
<li><a href="#multiple-roles">Multiple Roles</a></li>
<li><a href="#multiple-work-instructions">Multiple Work Instructions</a></li>
<li><a href="#multiple-chats">Multiple Chats</a></li>
</ul>
</li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#frequently-asked-questions">Frequently Asked Questions</a>
<ul>
<li><a href="#can-i-use-claude-or-other-llms-instead-of-openai-chatgpt">Can I use Claude or other LLMs instead of OpenAI (ChatGPT)</a></li>
<li><a href="#why-markdown---why-not-google-docs-or-ms-word">Why Markdown - Why Not Google Docs or MS Word?</a></li>
<li><a href="#i-cannot-access-my-website">I cannot access my website</a></li>
<li><a href="#why-does-this-example-look-like-the-chuck-stack">Why does this example look like the chuck-stack?</a></li>
<li><a href="#how-do-you-create-a-new-work-instruction-document-from-scratch">How do you create a new work instruction document from scratch?</a></li>
</ul>
</li>
<li><a href="#learn-more">Learn More</a></li>
</ul>
<h2 id="problem-statements"><a class="header" href="#problem-statements">Problem Statements</a></h2>
<p>Here are the problem statements we want to address:</p>
<p><strong>Problem #1:</strong> AI is complicated to understand much less create a solution around AI.</p>
<p><strong>Problem #2:</strong> The vast majority AI tutorials are based around writing code and they are limited to just a few LLMs and a few scenarios.</p>
<p><strong>Problem #3:</strong> Deploying code to production is complicated if you do not have the expertise.</p>
<p><strong>Problem #4:</strong> Creating a plan for AI success in a small and medium organization is not obvious.</p>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<p>If you want help implementing these concepts in your organization, join the <a href="./stack-academy.html">stack-academy</a>.</p>
<p>Here is what we will do:</p>
<ul>
<li>We are going to implement <a href="./blog-llm-ai-operations-automation.html">the system you see here</a>. Please watch the videos on this link first to see the big picture if you have not done so yet.</li>
<li>We will configure a <a href="./tool-linux.html">Linux</a> server to deploy existing open source applications (<a href="./tool-aichat.html">AIChat</a> and <a href="./tool-mdbook.html">mdBook</a>).</li>
<li>We publish our work instruction with chat capabilities using these tools.</li>
<li>We will use Linux's scheduler (cron) to keep everything up to date over time.</li>
</ul>
<p>TODO: video of picture of success</p>
<ul>
<li>use anywhere in the world (cloud, hybrid, on-premise, desktop)</li>
<li>this is just the beginning... (roles, context, tools, ...)</li>
<li>use almost any llm in the world (including local llm)</li>
<li>Show example of how many releases from mdBook and aichat - newest models</li>
<li>keep your data safe (local if needed and protected by your intranet)</li>
<li>Three types of AI use (puts you in the top 90% or much better)
<ul>
<li>AI to help create work instructions</li>
<li>AI to help answer questions</li>
<li>AI to help review review results and recommend changes</li>
</ul>
</li>
<li>Script
<ul>
<li>at first look - just another chat with docs, this is just the first step... We want augmentation and automation at the hands of everyday users</li>
<li>there is going to be a day when much of what we do is automated.</li>
<li>systems will magically assist or perform much of the manual work.</li>
<li>How do we tell it what to do?</li>
<li>How do we start getting ready for that day - today?</li>
<li>Asked another way, what is the minimum amount of effort I can do today to produce the most benefit in tomorrow's world</li>
<li>This outline will thrust you ahead of 90% of other companies,</li>
<li>We will combine best practice that align you with quality awards like the Baldrige award and start the augmentation/automation path?</li>
<li>We will get your people ready for the rapidly approaching ai augmented workforce!</li>
<li>Starting augmenting and automating today</li>
</ul>
</li>
</ul>
<h3 id="before-we-start"><a class="header" href="#before-we-start">Before We Start</a></h3>
<p>There are a couple of items you should note before we get started:</p>
<ul>
<li>We assume you are publishing private work instructions for your organizations.</li>
<li>This example should not be exposed to the public internet for any appreciable period of time.</li>
</ul>
<h3 id="linux"><a class="header" href="#linux">Linux</a></h3>
<p>If you do not know how to create your first Linux server, here are some resources to help you get started:</p>
<ul>
<li><a href="./getting-started.html#get-linux">Getting Started with Linux</a></li>
<li>Join the <a href="./stack-academy.html">stack-academy</a> - we will walk you through getting started</li>
<li>Ask a Linux friend to help.</li>
</ul>
<p>Note that we will be using either Debian or Ubuntu on x86 (not ARM).</p>
<h3 id="prepare-system"><a class="header" href="#prepare-system">Prepare System</a></h3>
<p>We need to install a few applications. The single easiest way to get your system prepared is using the <a href="https://github.com/chuboe/chuboe-system-configurator">chuboe system configurator</a>.</p>
<p>Here is the process. You can simply copy all commands at once, paste and execute.</p>
<pre><code class="language-bash">cd ~
sudo apt update
sudo apt install git -y
git clone https://github.com/chuboe/chuboe-system-configurator
cd chuboe-system-configurator
./init.sh
</code></pre>
<video poster="./img/chat-with-work-instruction-part1-system-prep-final.png" controls>
  <source src="./video/chat-with-work-instruction-part1-system-prep-final.mp4" type="video/mp4">
</video>
<h3 id="install-sample-work-instruction"><a class="header" href="#install-sample-work-instruction">Install Sample Work Instruction</a></h3>
<p>We need to install the sample work instruction repository.</p>
<p>Note: if you forked this repository, please update the below reference to <code>chuckstack</code> with the name of your fork.</p>
<pre><code class="language-bash">cd ~
git clone http://github.com/chuckstack/ai-llm-operations-wi-chat/
cd ai-llm-operations-wi-chat/
./publish.sh init
</code></pre>
<p>Follow the steps that appear on your screen as the process ends to finish the initial configuration.</p>
<p>You should now be able to see your documents via a webpage by simply clicking on the indicated link.</p>
<video poster="./img/chat-with-work-instruction-part-sample-work-instruction.png" controls>
  <source src="./video/chat-with-work-instruction-part-sample-work-instruction.mp4" type="video/mp4">
</video>
<p>Here are some notes about the installation based on user feedback:</p>
<ul>
<li>The script attempts to get your IP. If you are installing the sample work instructions using AWS, the observed IP will be your server's <strong>private</strong> IP. This will most likely prevent you from connecting from your AWS server since you need to use its <strong>public</strong> IP.</li>
<li>Also regarding AWS, make sure your security group allows for communication from only your IP. If you are not familiar with security groups, join the <a href="./stack-academy.html">stack-academy</a>, and we will help you configure your server securely.</li>
<li>If you need to use a different IP, be sure to update the following file accordingly: /opt/work-instruction/chuckstack/ai-llm-operations-wi-chat/theme/head.hbs and execute the <code>./publish.sh rebuild</code> command.</li>
</ul>
<p>Let's spend a moment discussing the airole-starter.md document. This text gets passed along side every prompt. This document gives you control over the user experience.</p>
<video controls>
  <source src="./video/chat-with-work-instruction-part3-airole-start.mp4" type="video/mp4">
</video>
<p>Soon we will discuss advanced topics related to balancing concise responses with the ability to ask for more details.</p>
<h3 id="search-documents"><a class="header" href="#search-documents">Search Documents</a></h3>
<p>Chat is powerful; however, there are times when you need to simply search for something. Search is a powerful feature of this solution. We use <a href="./tool-mdbook.html">mdBook</a> to publish your work instructions and make them easily accessible to everyone in your organization.</p>
<p>Here are the ways to search:</p>
<ul>
<li><code>ctrl+f</code> (control + f key) to use the browser</li>
<li><code>s</code> to search</li>
</ul>
<video poster="./img/chat-with-work-instruction-part4-search-start.png" controls>
  <source src="./video/chat-with-work-instruction-part4-search.mp4" type="video/mp4">
</video>
<h3 id="edit-online"><a class="header" href="#edit-online">Edit Online</a></h3>
<p>Everyone in your organization should be able to easily contribute. The purpose of this section is to highlight just how easy it is.</p>
<p>Note that this example assumes many of the work instructions already exist. We will talk about how to get started creating your work instructions from scratch in a different section.</p>
<video poster="./img/chat-with-work-instructions-part6-editing-end.png" controls>
  <source src="./video/chat-with-work-instructions-part6-editing.mp4" type="video/mp4">
</video>
<p>In the video we are using <a href="./tool-git.html">GitHub</a> to host our work instructions. GitHub (and tools like it) provide online editing and advanced workflow to support change approval processes.</p>
<p>See the below <a href="#frequently-asked-questions">FAQ</a> for how to create a new work instruction from scratch.</p>
<h3 id="always-up-to-date"><a class="header" href="#always-up-to-date">Always Up to Date</a></h3>
<p>The goal is to keep your published work instructions as up to date as is possible. Let's see how to automate updates.</p>
<p>Note: the rebuild section of the publish.sh script has git statements that need to be uncommented to support live updates. Look for <code>###change-me###</code> next to the git sections.</p>
<p>Here are the details:</p>
<ul>
<li>Configure git</li>
<li>Run manually</li>
<li>Run via cron</li>
</ul>
<video poster="./img/chat-with-work-instruction-part5-rebuild.png" controls>
  <source src="./video/chat-with-work-instruction-part5-rebuild.mp4" type="video/mp4">
</video>
<p>Note that your cron file might be named differently depending on what you are deploying. It will always start with 'cron-...'.</p>
<h3 id="talk-to-any-llm"><a class="header" href="#talk-to-any-llm">Talk to Any LLM</a></h3>
<p>Quickly switch between almost any large language model (LLM) including local models. <a href="./tool-aichat.html">AIChat</a> helps you focus on choosing the best model for the task making the testing and deploy almost trivial. AIChat not only powers this article, it is also one of the inspirations for creating the chuck-stack.</p>
<video poster="./img/chat-with-work-instructions-part7-models-splash.png" controls>
  <source src="./video/chat-with-work-instructions-part7-models.mp4" type="video/mp4">
</video>
<h3 id="control-the-user-experience"><a class="header" href="#control-the-user-experience">Control the User Experience</a></h3>
<p>You can greatly influence how your chat responds to users.</p>
<video poster="./img/chat-with-work-instructions-part10-prompt-splash.png" controls>
  <source src="./video/chat-with-work-instructions-part10-prompt.mp4" type="video/mp4">
</video>
<p>References:</p>
<ul>
<li>You can find the above prompt in your /opt/work-instruction/chuckstack/ai-llm-operations-wi-chat/src-work-instructions/airole-starter.md.</li>
<li>AIChat has a symbolic link that connects the /home/cathy/.config/aichat/roles/ to the airole-starter.md prompt.</li>
<li><a href="https://docs.anthropic.com/en/release-notes/system-prompts">Claude system prompts</a> - This is a great study guide to help you understand how to talk to the LLM and get what you want. We are fortunate that Claude makes these prompts available to the public!</li>
</ul>
<h3 id="responses-and-improvement-workflow"><a class="header" href="#responses-and-improvement-workflow">Responses and Improvement Workflow</a></h3>
<p>We use AI LLM to help you review and improve the previous day's questions and answers in an incredibly convenient way.</p>
<ul>
<li>The review process is built into the <a href="#always-up-to-date">Always Up to Date</a> automated deploy process.</li>
<li>The actual questions, responses and AI assessment are automatically uploaded to Obsidian so that work instruction creators can use the feedback directly in the same tool.</li>
<li>We use this feedback to a) improve the LLM prompt, b) improve the work instructions, and c) improve the <a href="https://github.com/chuckstack/ai-llm-operations-wi-chat/blob/main/src-work-instructions/airole-message-review.md">airole-message-review.md</a>.</li>
</ul>
<p>Note the below video is pulled from <a href="./blog-llm-ai-operations-automation.html#feedback-loop">here</a> to help demonstrate how the work instruction creators interact with the AI feedback directly inside Obsidian.</p>
<video poster="./img/07-gen-wi-demo-feedback-loop-splash.png" controls>
  <source src="./video/07-gen-wi-demo-feedback-loop.mp4" type="video/mp4">
</video>
<h2 id="architecture-overview"><a class="header" href="#architecture-overview">Architecture Overview</a></h2>
<p>Here are the tools we use to minimize effort and maximize user agency.</p>
<h3 id="tools"><a class="header" href="#tools">Tools</a></h3>
<p>Here are the tools we use:</p>
<ul>
<li>We use <a href="./tool-obsidian.html">Obsidian</a> to help our work instruction creators write documents in markdown.
<ul>
<li>It includes AI assisted writing plugins.</li>
<li>It includes <a href="./tool-git.html">git</a> plugins to automatically track and publish changes to the website.</li>
</ul>
</li>
<li>We use <a href="./tool-mdbook.html">mdBook</a> to convert our published markdown work instructions into a website.</li>
<li>We use <a href="./tool-aichat.html">AIChat</a> to:
<ul>
<li>embed the work instructions</li>
<li>deliver a kind and patient 'chat' experience</li>
<li>evaluate user interactions with the 'chat' tool</li>
<li>propose improvements to work instructions</li>
</ul>
</li>
<li>We use <a href="./tool-others.html#important-tools">ttyd</a> to expose AIChat and other terminal tools to our people.</li>
<li>We use <code>nginx</code> to host the mdBook website, reverse proxy <code>ttyd</code>, and terminate https/ssl connections.</li>
</ul>
<h3 id="walk-through"><a class="header" href="#walk-through">Walk Through</a></h3>
<p>The purpose of this section is to help you see how the tools fit together. It is important to note that just about any Linux admin in the world will understand these bullets and how they fit together.</p>
<p>Note, the following details assume you did not modify the default publish installation variables.</p>
<ul>
<li>When you navigate to https://your.ip/chat.html, you see a static site being hosted by nginx showing chat.html with an iframe that embeds the ttyd chat feature in the collapsed section.</li>
<li>The iframe is made available via /opt/work-instruction/chuckstack/ai-llm-operations-wi-chat/src-work-instructions/chat.md whose class name is associated with javascript inside /opt/work-instruction/chuckstack/ai-llm-operations-wi-chat/theme/head.hbs.</li>
<li>The iframe calls on an nginx reverse proxy to publishing ttyd.</li>
<li>nginx (both static and reverse proxy) is configured in /etc/nginx/sites-available/ai-llm-operations-wi-chat-airole-starter.</li>
<li>ttyd is made available via a systemd service whose service name is <code>ai-llm-operations-wi-chat-airole-starter.service</code></li>
<li>The <code>ai-llm-operations-wi-chat-airole-starter.service</code> is configured in cat /etc/systemd/system/ai-llm-operations-wi-chat-airole-starter.service.</li>
</ul>
<h3 id="ttyd"><a class="header" href="#ttyd">ttyd</a></h3>
<p>ttyd is an important and simple command line tool to convert a terminal into a website. We use ttyd to make AIChat available everywhere.</p>
<video poster="./img/chat-with-work-instructions-part8-splash.png" controls>
  <source src="./video/chat-with-work-instructions-part8.mp4" type="video/mp4">
</video>
<h3 id="aichat-tools"><a class="header" href="#aichat-tools">AIChat Tools</a></h3>
<p>AIChat has the ability to call on additional tools to get additional information and perform additional tasks. We demonstrate this feature in the following way:</p>
<ul>
<li>The chat.md page passes the name of the page when expanding the chat section.</li>
<li>The theme/head.hbs script passes the page name as an argument when loading the iframe.</li>
<li>ttyd systemd service (that runs in the iframe) passes the argument to the util/ai-launcher.sh where it exports it to an environment variable.</li>
<li>The airole-starter.md knows about the get_env_var (AIChat) tool and it is instructed to use it to get the page name.</li>
</ul>
<p>This is just a silly example of a very powerful concept. We can now use AIChat to:</p>
<ul>
<li>Capture current user context</li>
<li>Get live or historical information from anywhere on the local network or world-wide internet based on context</li>
<li>Perform tasks on behalf of the user based on context + live data + historical information</li>
</ul>
<h3 id="global-vpn"><a class="header" href="#global-vpn">Global VPN</a></h3>
<p>See <a href="./blog-incus-netbird-phoenixnap.html">Incus-Netbird-PhoenixNAP</a> for how to create a multi-location, cloud-hybrid network to expose this chat feature to all your locations and remote users in a secure and private way.</p>
<h3 id="local-chat-and-more"><a class="header" href="#local-chat-and-more">Local Chat and More</a></h3>
<p>AIChat can be run almost anywhere. It works on Windows, Mac, Linux and more. This means the same tool that you use on a server inside your website, ERP and other tools can also run locally.</p>
<blockquote>
<p>It truly is a "learn once and run everywhere" tool.</p>
</blockquote>
<p>We (chuck-stack) run AIChat on almost every machine. We use the <code>super+t</code> (windows key + the letter t) from anywhere to instantly open a terminal and ask any question. Here is an example:</p>
<pre><code class="language-bash">aichat -- how do I get started using AI LLMs to automate my work instructions?
</code></pre>
<p><a href="./picture-success.html#how-is-this-possible">Here is an example</a> were we use AIChat to automate creating an order in an ERP.</p>
<h2 id="more-possibilities"><a class="header" href="#more-possibilities">More Possibilities</a></h2>
<p>The sample work instructions in this article represent a starting point. Let's talk about how you can easily extend this sample into your organization.</p>
<h3 id="multiple-roles"><a class="header" href="#multiple-roles">Multiple Roles</a></h3>
<p>You may support as many roles as you wish. The ttyd systemd service supports the role-based chat. To create more than one role chat:</p>
<ul>
<li>create more ttyd systemd services on different ports</li>
<li>create more entries in nginx for the respective reverse proxies</li>
<li>include more entries in /opt/work-instruction/chuckstack/ai-llm-operations-wi-chat/theme/head.hbs to call the services</li>
</ul>
<h3 id="multiple-work-instructions"><a class="header" href="#multiple-work-instructions">Multiple Work Instructions</a></h3>
<p>The sample repository in the article only includes a single set of work instruction documents; however, you may maintain and publish as many sets of independent documents as you wish.</p>
<p>You simply iterate across each directory or repository and call <code>mdBook build</code> to publish each of your sets of work instructions. You will have an entry in nginx for each published directory.</p>
<h3 id="multiple-chats"><a class="header" href="#multiple-chats">Multiple Chats</a></h3>
<p>The below code embeds an expandable chat window. You may add this code anywhere in your work instructions. For example, you can have a chat window on every page for convenience.</p>
<pre><code class="language-html">&lt;details ontoggle="handleToggle(this)"&gt;
     &lt;summary&gt;Expand this to start asking...&lt;/summary&gt;
     &lt;div class="ttyd-container"&gt;&lt;/div&gt;
 &lt;/details&gt;
</code></pre>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<p>If you want help implementing these concepts in your organization, join the <a href="./stack-academy.html">stack-academy</a>. We will walk you though the process of:</p>
<ul>
<li>deploying your first Obsidian + Git + website + chat solution in your organization - how to fork and deploy this example...</li>
<li>identifying and creating your first set of work instructions for a target role</li>
<li>teaching your content writers how to write the fewest words possible to achieve the desired result</li>
<li>soliciting feedback from everyone after the initial deployment</li>
</ul>
<h2 id="frequently-asked-questions"><a class="header" href="#frequently-asked-questions">Frequently Asked Questions</a></h2>
<h3 id="can-i-use-claude-or-other-llms-instead-of-openai-chatgpt"><a class="header" href="#can-i-use-claude-or-other-llms-instead-of-openai-chatgpt">Can I use Claude or other LLMs instead of OpenAI (ChatGPT)</a></h3>
<p>Yes. In fact, we recommend you use Claude. It offers a great balance of performance and cost.</p>
<p>Note that at the time of this writing, Claude does not offer an embedding service. This means you will most likely use both OpenAI (for embeddings) and Claude (for prompting).</p>
<h3 id="why-markdown---why-not-google-docs-or-ms-word"><a class="header" href="#why-markdown---why-not-google-docs-or-ms-word">Why Markdown - Why Not Google Docs or MS Word?</a></h3>
<p>See <a href="./blog-live-markdown-world.html">We live in a markdown world</a> for why markdown is so important.</p>
<h3 id="i-cannot-access-my-website"><a class="header" href="#i-cannot-access-my-website">I cannot access my website</a></h3>
<p>See the <a href="#install-sample-work-instruction">Install Sample Work Instruction</a> section below the video for notes about user feedback and issues.</p>
<h3 id="why-does-this-example-look-like-the-chuck-stack"><a class="header" href="#why-does-this-example-look-like-the-chuck-stack">Why does this example look like the chuck-stack?</a></h3>
<p>We do not have time to waste. We want to use as few tools and as few experts as possible to create our self-help chuck-stack. The chuck-stack is just like your work instructions. It is a giant set of work instructions to create your own stack as quickly and easily as possible.</p>
<h3 id="how-do-you-create-a-new-work-instruction-document-from-scratch"><a class="header" href="#how-do-you-create-a-new-work-instruction-document-from-scratch">How do you create a new work instruction document from scratch?</a></h3>
<p>We recommend <a href="./tool-obsidian.html">Obsidian</a> for those who are primarily responsible for creating and evolving work instructions. Obsidian is ideal and enjoyable when writing highly-connected content like work instructions.</p>
<p>Watch this <a href="./blog-llm-ai-operations-automation.html">series of videos</a> to see how we use Obsidian to work instruction authoring easier.</p>
<h2 id="learn-more"><a class="header" href="#learn-more">Learn More</a></h2>
<p>If you want help executing the topics in this article, join the <a href="./stack-academy.html">stack-academy</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>
<p>To discuss this content in more detail, go to <a href="https://team.chuck-stack.org/t/production-open-source-chat-with-work-instructions/81">https://team.chuck-stack.org/t/production-open-source-chat-with-work-instructions/81</a>.</p>

                        <br>
                        <p>Copyright &copy; 2024-<script>document.write(new Date().getFullYear())</script>, CHUBOE LLC. All rights reserved.</p> <!--chuboe changed-->
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="blog-local-co-op-funding-help.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="blog-chuck-stack-it-job-description-assessment.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="blog-local-co-op-funding-help.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="blog-chuck-stack-it-job-description-assessment.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
