<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ul class="chapter">
                    <li><a class="active" href="../">chuck-stack Home</a></li> <!--chuboe changed-->
                </ul>
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="picture-success.html"><strong aria-hidden="true">2.</strong> Picture of Success</a></li><li class="chapter-item expanded "><a href="success-factor.html"><strong aria-hidden="true">3.</strong> Success Factors</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="success-linux.html"><strong aria-hidden="true">3.1.</strong> Success with Linux</a></li><li class="chapter-item expanded "><a href="success-postgresql.html"><strong aria-hidden="true">3.2.</strong> Success with PostgreSQL</a></li><li class="chapter-item expanded "><a href="success-api.html"><strong aria-hidden="true">3.3.</strong> Success with API</a></li></ol></li><li class="chapter-item expanded "><a href="getting-started.html"><strong aria-hidden="true">4.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="stack-faq.html"><strong aria-hidden="true">5.</strong> Stack FAQ</a></li><li class="chapter-item expanded "><a href="stack-tools.html"><strong aria-hidden="true">6.</strong> Stack Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tool-incus.html"><strong aria-hidden="true">6.1.</strong> Incus</a></li><li class="chapter-item expanded "><a href="tool-linux.html"><strong aria-hidden="true">6.2.</strong> Linux</a></li><li class="chapter-item expanded "><a href="tool-postgresql.html"><strong aria-hidden="true">6.3.</strong> PostgreSQL</a></li><li class="chapter-item expanded "><a href="tool-postgrest.html"><strong aria-hidden="true">6.4.</strong> PostgREST</a></li><li class="chapter-item expanded "><a href="tool-aichat.html"><strong aria-hidden="true">6.5.</strong> AIChat</a></li><li class="chapter-item expanded "><a href="tool-nushell.html"><strong aria-hidden="true">6.6.</strong> Nushell</a></li><li class="chapter-item expanded "><a href="tool-zellij.html"><strong aria-hidden="true">6.7.</strong> Zellij</a></li><li class="chapter-item expanded "><a href="tool-git.html"><strong aria-hidden="true">6.8.</strong> Git</a></li><li class="chapter-item expanded "><a href="tool-obsidian.html"><strong aria-hidden="true">6.9.</strong> Obsidian</a></li><li class="chapter-item expanded "><a href="tool-others.html"><strong aria-hidden="true">6.10.</strong> Others</a></li></ol></li><li class="chapter-item expanded "><a href="stack-architecture.html"><strong aria-hidden="true">7.</strong> Stack Architecture</a></li><li class="chapter-item expanded "><a href="best-practices.html"><strong aria-hidden="true">8.</strong> Stack Best Practices</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="postgres-conventions.html"><strong aria-hidden="true">8.1.</strong> Postgres Conventions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="postgres-convention/schema.html"><strong aria-hidden="true">8.1.1.</strong> Private and API Schema</a></li><li class="chapter-item expanded "><a href="postgres-convention/abbreviation.html"><strong aria-hidden="true">8.1.2.</strong> Abbreviation</a></li><li class="chapter-item expanded "><a href="postgres-convention/table-convention.html"><strong aria-hidden="true">8.1.3.</strong> Table Convention</a></li><li class="chapter-item expanded "><a href="postgres-convention/column-convention.html"><strong aria-hidden="true">8.1.4.</strong> Column Convention</a></li><li class="chapter-item expanded "><a href="postgres-convention/table-record-convention.html"><strong aria-hidden="true">8.1.5.</strong> Table and Record</a></li><li class="chapter-item expanded "><a href="postgres-convention/uuid.html"><strong aria-hidden="true">8.1.6.</strong> UUID</a></li><li class="chapter-item expanded "><a href="postgres-convention/json-array-table-column.html"><strong aria-hidden="true">8.1.7.</strong> JSON vs Array vs Table</a></li><li class="chapter-item expanded "><a href="postgres-convention/enum-type-convention.html"><strong aria-hidden="true">8.1.8.</strong> enum and Type</a></li><li class="chapter-item expanded "><a href="postgres-convention/system-configuration-convention.html"><strong aria-hidden="true">8.1.9.</strong> System Configuration</a></li><li class="chapter-item expanded "><a href="postgres-convention/attribute-tag.html"><strong aria-hidden="true">8.1.10.</strong> Attribute Tagging</a></li><li class="chapter-item expanded "><a href="postgres-convention/statistics-convention.html"><strong aria-hidden="true">8.1.11.</strong> Statistics</a></li><li class="chapter-item expanded "><a href="postgres-convention/function-convention.html"><strong aria-hidden="true">8.1.12.</strong> Function</a></li><li class="chapter-item expanded "><a href="postgres-convention/trigger-convention.html"><strong aria-hidden="true">8.1.13.</strong> Trigger</a></li><li class="chapter-item expanded "><a href="postgres-convention/async.html"><strong aria-hidden="true">8.1.14.</strong> Async</a></li><li class="chapter-item expanded "><a href="postgres-convention/notify.html"><strong aria-hidden="true">8.1.15.</strong> Notify</a></li><li class="chapter-item expanded "><a href="postgres-convention/comment.html"><strong aria-hidden="true">8.1.16.</strong> Comments</a></li><li class="chapter-item expanded "><a href="postgres-convention/sample-table-convention.html"><strong aria-hidden="true">8.1.17.</strong> Sample Table</a></li><li class="chapter-item expanded "><a href="postgres-convention/scalability-convention.html"><strong aria-hidden="true">8.1.18.</strong> Scalability</a></li><li class="chapter-item expanded "><a href="postgres-convention/to-be-resolved-convention.html"><strong aria-hidden="true">8.1.19.</strong> To Be Resolved</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="stack-application.html"><strong aria-hidden="true">9.</strong> Stack Application</a></li><li class="chapter-item expanded "><a href="stack-academy.html"><strong aria-hidden="true">10.</strong> Stack Academy</a></li><li class="chapter-item expanded "><a href="terminology.html"><strong aria-hidden="true">11.</strong> Terminology</a></li><li class="chapter-item expanded "><a href="roadmap.html"><strong aria-hidden="true">12.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="project-history.html"><strong aria-hidden="true">13.</strong> Project History</a></li><li class="chapter-item expanded "><a href="reference.html"><strong aria-hidden="true">14.</strong> References</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded "><a href="code-of-conduct.html"><strong aria-hidden="true">15.</strong> Code of Conduct</a></li><li class="chapter-item expanded "><a href="privacy-policy.html"><strong aria-hidden="true">16.</strong> Privacy Policy</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded "><a href="blog.html"><strong aria-hidden="true">17.</strong> Blog</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="blog-letter-ceo.html"><strong aria-hidden="true">17.1.</strong> Letter to the CEO</a></li><li class="chapter-item expanded "><a href="blog-cli-better.html"><strong aria-hidden="true">17.2.</strong> The CLI is better than...</a></li><li class="chapter-item expanded "><a href="blog-conversational-enterprise-computing.html"><strong aria-hidden="true">17.3.</strong> Why Conversational Enterprise Computing Matters</a></li><li class="chapter-item expanded "><a href="blog-work-instruction-sexy.html"><strong aria-hidden="true">17.4.</strong> Work Instructions Make your Organization Sexy</a></li><li class="chapter-item expanded "><a href="blog-live-markdown-world.html"><strong aria-hidden="true">17.5.</strong> We Live in a Markdown World</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <!-- add things here that will go above the body navigation -->
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<!-- copied_from_home_page -->
<p><strong>What makes us special?</strong> <u><i>conversational enterprise computing</i></u> on an open source technology stack... We are tired of ERP's hitting organizations with thousands of barely relevant fields that over complicate processes. We offer a better way for small and medium organizations to manage data, automate processes and build <a href="./terminology.html#superclerk">superclerk</a> talent.</p>
<!-- /copied_from_home_page -->
<p>chuck-stack is a collection of:</p>
<ol>
<li><a href="./stack-tools.html">well understood tools</a></li>
<li><a href="./best-practices.html">business best practices</a></li>
<li><a href="./stack-application.html">application framework</a></li>
</ol>
<p>...that puts self-help automation in the hands of the people who actually do the work. With the chuck-stack, everyday clerks use AI and well-formed work instructions to remove complexity and automate tasks. What was tedious becomes scripted. Scripts become menu options. Options connect to form data <a href="./terminology.html#data-pipeline">pipelines</a>.</p>
<p>We transform 20+ person departments of clerks into 2-person teams of <a href="./terminology.html#superclerk">superclerks</a>. We give operational managers the power to guide their teams with just a few words. We ensure those words are considered in every action.</p>
<p>We help organizations focus on what matters most - its people and value proposition to the world.</p>
<!-- keep just in case useful later
**chuck-stack exists to solve a problem:** many (if not most) small to medium organizations do not have the knowledge and resources to automate their processes. This is largely because ERP and most development frameworks are too big, slow, expensive and complicated from almost every perspective (learn, configure, develop, audit, deploy, train, service, scale, enhance, etc...).
-->
<h2 id="purpose"><a class="header" href="#purpose">Purpose</a></h2>
<p>The purpose of the chuck-stack is to help organizations:</p>
<ul>
<li>Increase operational and transactional velocity and efficiency (<a href="./terminology.html#otve">OTVE</a>)</li>
<li>Identify and deploy AI-enabled, self-service tools that drive innovation from everyone in your organization</li>
<li>Build an internal and external community of support and innovation</li>
</ul>
<p>If we succeed executing our purpose, we will give small and medium sized organizations a competitive advantage against both its peers as well as larger organizations.</p>
<h2 id="solution-summary"><a class="header" href="#solution-summary">Solution Summary</a></h2>
<p>The chuck-stack consists of three parts:</p>
<ol>
<li><a href="./stack-tools.html">Collection of Tools</a>: Linux, PostgreSQL, PostgREST, Nushell, AIChat, Zellij, plus more... that all come together to create a full-featured platform. There is no secret or proprietary sauce. Instead, it is pure open source synergy!</li>
<li><a href="./best-practices.html">Best Practices</a>: make the chuck-stack vision possible. These practices include both organizational and technical topics.</li>
<li><a href="./stack-application.html">Application Framework</a>: executing best practices with the above tools and teaching AI to automate the fundamentals of your organization.</li>
</ol>
<h2 id="small-and-medium-is-different"><a class="header" href="#small-and-medium-is-different">Small and Medium Is Different</a></h2>
<p>It is critical to note that small and medium organization application development is fundamentally different than single-purpose and web-scale application development.</p>
<ul>
<li>tools are different</li>
<li>user needs are different</li>
<li>developers are different</li>
<li>deployment is different</li>
<li>requirements are different</li>
<li>user training is different</li>
</ul>
<blockquote>
<p>The majority of the web is filled with single-purpose and web-scale development practices. The world of small and medium organization data and process management is severely underserved. The chuck-stack aims to better support such an important group.</p>
<p>- <em>Chuck Boecking</em></p>
</blockquote>
<h2 id="education"><a class="header" href="#education">Education</a></h2>
<p>The stack-academy exists to help your organization achieve success as quickly as possible. It's an online support infrastructure that teaches organizations how to install and use the tools, leverage best practices, and foster <a href="./terminology.html#superclerk">superclerk</a> talent.</p>
<ul>
<li>Teach your technical staff to best introduce the tools with your existing infrastructure.</li>
<li>Teach your operations team how to best prepare for AI automation and AI safety.</li>
<li>Teach your users how to start thinking about automation in their role.</li>
</ul>
<p><a href="./stack-academy.html">Learn More...</a></p>
<h2 id="chuck-stack-customers"><a class="header" href="#chuck-stack-customers">chuck-stack Customers</a></h2>
<p>Deploying enterprise systems is not easy. Small and mid-sized organizations often need additional help to ensure success. We support two types of organizations:</p>
<ul>
<li>Integrators - organizations with the specialty of enterprise system deployment and support. These groups often have vertical market expertise that further assist their customers in rapid change management and technology adoption.</li>
<li>End-users - organizations who will use the chuck-stack in its operations.</li>
</ul>
<p>Both types of customers are vitally important to ensuring our mutual success. Both customers are welcome and supported in the <a href="./stack-academy.html">stack-academy</a> and in our community.</p>
<h2 id="chuck-stack-guiding-principles"><a class="header" href="#chuck-stack-guiding-principles">chuck-stack Guiding Principles</a></h2>
<p>Here are the chuck-stack design and implementation first principles in order. If you cannot accomplish these principles, little else matters.</p>
<ul>
<li>Protect an organization's revenue stream and people! This needs to be leadership's mantra with any system change.</li>
<li>Deliver enjoyable systems that a) put the right data in the hands of the right users, b) make the user's job as easy as possible, and c) help users prevent mistakes!</li>
<li>Deploy infrastructure that is safe, reliable and performant - in that order! If a system is not safe, reliability does not matter. If it is not reliable, performance does not matter.</li>
<li>Write as little code as is possible. Every line of code is a liability that will cost you in the future. It must be documented, tested, reviewed and maintained. If you can use an existing tool that meets the <a href="./stack-tools.html#selection-criteria-summary">chuck-stack guidelines</a> in place of writing code, do it!</li>
<li>Support self service by giving <a href="./terminology.html#superclerk">superclerks</a> the tools to automate tasks within their roles without direct intervention from IT!</li>
</ul>
<h2 id="why-chuck-stack-is-important"><a class="header" href="#why-chuck-stack-is-important">Why chuck-stack is Important</a></h2>
<p>We keep things simple! There is not much like the chuck-stack on the market. There is NO private equity or venture capitalist manipulating the market or creating a false sense of complexity in hopes of extracting customer profits and executing a windfall chuck-stack sale.</p>
<p>Instead, the chuck-stack is built on basic fundamentals to make the world a better place for organizations with a purpose. The fundamentals are pretty straight forward:</p>
<ul>
<li>Find good tools</li>
<li>Publish best practices and welcome feedback</li>
<li>Teach anyone who will listen</li>
<li>Invest in people worthy of your time and effort</li>
<li>Strive for continuous improvement</li>
<li>Tell the truth</li>
</ul>
<p>We believe in a cooperative approach to learning, support and innovation. We work off of principles, and we collectively create an open source platform that values simplicity, stability and self-service.</p>
<blockquote>
<p>"Creative technicals using thinly veiled systems will dominate the next 10+ years. We must give users the tools to automate tasks within their roles without direct intervention from IT!"</p>
<p>- <em>Chuck Boecking</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="picture-of-success"><a class="header" href="#picture-of-success">Picture of Success</a></h1>
<!-- copied_from_home_page -->
<p>Imagine a world where your operations team writes <a href="./best-practices.html#organization-best-practices">work instructions</a> and both your system and people magically execute those work instructions with near perfection. Imagine a world where IT no longer builds tools but instead helps people build logic themselves while ensuring everyone is bound by their roles. You do not need to imagine much longer.</p>
<!-- /copied_from_home_page -->
<h2 id="how-is-this-possible"><a class="header" href="#how-is-this-possible">How is This Possible</a></h2>
<p>Modern AI has a magical ability to understand and use our language to offer valuable opinions and execute tasks. More specifically, it understands work instructions (role, task, and tool definitions), and it can help us automate tasks, increase velocity and improve efficiency.</p>
<video controls>
  <source src="./chuck-stack-01-order-summary.mp4" type="video/mp4">
</video>
<h2 id="problem---too-many-window-and-fields"><a class="header" href="#problem---too-many-window-and-fields">Problem - Too Many Window and Fields</a></h2>
<p>There is a big problem with enterprise applications (like ERP) built over the last 20 years. They are too slow in almost every way. The development tooling is too complicated. They bombard the user with hundreds of fields which often go unused. They are incredibly difficult to test. And, they create tension between organization users and leaders.</p>
<h2 id="chatgpt-showed-us-a-better-way"><a class="header" href="#chatgpt-showed-us-a-better-way">ChatGPT Showed Us a Better Way</a></h2>
<p>ChatGPT re-introduced an amazingly simple yet effective user interface that offered one field: the command line. In the command line, you can type whatever you wish. ChatGPT is often smart enough to understand what you want and finds a way to help you - all from one field.</p>
<h2 id="simple-example"><a class="header" href="#simple-example">Simple Example</a></h2>
<p>If you were to type the following into an AI chatbot:</p>
<blockquote>
<p>show me the weather in Berlin and London</p>
</blockquote>
<ul>
<li>The system is smart enough to look for existing tools that can offer real-time weather.</li>
<li>It is smart enough to know that you want to call the get-weather-tool for all the listed cities.</li>
<li>And, it is smart enough to format the output is a human readable way.</li>
</ul>
<p>These concepts are true for most foundational large language models (LLMs) like Claude and ChatGPT.</p>
<h2 id="better-example"><a class="header" href="#better-example">Better Example</a></h2>
<p>Let's apply this concept to a customer service representative (CSR). The following exchange naturally follows the above example:</p>
<ul>
<li>CSR: please create a new sales order for Fred Flintstone, and accept all defaults. Products include 5x 1x4x12, 20x 2x6x8, 50lb penny nails.</li>
<li>System: Done. Your order number is 100775. It is currently drafted, and it can ship as early as tomorrow.</li>
<li>System: Would you like to complete the order?</li>
<li>CSR: Yes, and please text Fred confirmation.</li>
<li>System: Done and done.</li>
</ul>
<p><a href="picture-success.html#how-is-this-possible">See above video for a demo</a></p>
<h2 id="get-a-little-crazy"><a class="header" href="#get-a-little-crazy">Get a Little Crazy</a></h2>
<p>The reality is that a CSR that performs this task 50+ times a day will not be this conversational. They will develop codes to eliminate keystrokes. They will use a microphone when possible. The outsider looking in might not even understand the interaction because of all the abbreviated codes. That is OK. What matters is that the CSR and the system 1. share access to the right data, 2. makes his/her job as easy as possible, and 3. prevent mistakes.</p>
<p>This is just the beginning. There is no limit to the number of examples in an organization where someone wants to take a reasonably complicated process like order entry and distill it down to 5 or less bullets/interactions.</p>
<h2 id="not-that-crazy"><a class="header" href="#not-that-crazy">Not that Crazy</a></h2>
<p>People and systems are getting smarter and more capable. What used to take a team of clerks thousands of hours can now be accomplished by one superclerk in tens of hours. Here is an example of what a <a href="./terminology.html#superclerk">superclerk</a> can do:</p>
<blockquote>
<p>psql -AXqtc -f query-invalid-customer-address.sql | get entries | aichat -r address-fix-role</p>
</blockquote>
<p>The above command shows what can happen when you develop superclerks and you give them the right tools to fix 300k+ addresses:</p>
<ul>
<li>psql is a tool that will query the database.</li>
<li>-AXqtc are the psql arguments that shape the data so that it can be parsed.</li>
<li>query-invalid-customer-address.sql contains the query to get 300k addresses to validate.</li>
<li>get entries is a nushell command that extracts the entries.</li>
<li>aichat is a command that communicates with ChatGPT or Claude to perform AI work.</li>
<li>-r is the aichat argument that allows the clerk to pass in the pre-existing work instructions that defines a valid address.</li>
</ul>
<p>You do not need to understand the details of the above scenario; however, you <strong>DO</strong> need to understand that a single person (superclerk) can write the above one-line string to perform the work of hundreds or even thousands or people hours. This is the power of a purposeful organization using the chuck-stack to find and promote <a href="./terminology.html#superclerk">superclerks</a>!</p>
<h2 id="all-you-need-are-work-instructions"><a class="header" href="#all-you-need-are-work-instructions">All You Need are Work Instructions</a></h2>
<p>ChatGPT (and LLMs in general) are very good at understanding languages. This ability goes far beyond English and Spanish. SQL (databases) is a language. If you write it down, a LLM can understand what you want. This is true for both English work instructions and code like SQL, python and rust.</p>
<p>This brings us full circle back to the picture of success:</p>
<blockquote>
<p>Imagine a world where your operations team wrote work instructions and your system and people magically executed those work instructions for you. Image a world where IT no longer builds tools but instead helps your people build it themselves while ensuring everyone is bound by their documented roles.</p>
</blockquote>
<p>If you want to supercharge your organization by filling it with superclerks, do the following:</p>
<ul>
<li>Write down your work instructions.</li>
<li>Mobilize your technology team to install self-help tools like the chuck-stack.</li>
<li>Hire smart people to do smart work.</li>
</ul>
<p>If you want to learn more, join the <a href="./stack-academy.html">stack-academy</a>.</p>
<!-- TODO: link and details for academy-->
<div style="break-before: page; page-break-before: always;"></div><h1 id="factors-for-success"><a class="header" href="#factors-for-success">Factors for Success</a></h1>
<p>The purpose of this page (and its sub-pages) is to discuss the foundational beliefs and factors for chuck-stack success. We believe the following to be true. Our success depends on our ability to convince others to believe as well. The average person probably will not care much about the topics in this section. It is perfectly OK to skip this section if you are just looking to get started.</p>
<ul>
<li>The CLI represents a better way for small and medium organizations to manage data, automate processes and build <a href="./terminology.html#superclerk">superclerk</a> talent. (<a href="./success-factor.html#cli-is-better">CLI is Better</a>)</li>
<li>AI is powerful enough to transform the roles of IT, managers and clerks to deploy AI-enabled, self-service tools that drive innovation from everyone in an organization. (<a href="./success-factor.html#ai-changes-things">AI Changes Things</a>)</li>
<li>We can combine off-the-shelf tools and best practices to create and deploy an application framework that represents a significant reduction in both cost and complexity. (<a href="./success-factor.html#value-matters">Value Matters</a>)</li>
<li>We can manage the cost of AI inference so that it remains less than 100% (a fraction of the cost) of the displaced labor. (<a href="./success-factor.html#know-your-audience">Know Your Audience</a>)</li>
</ul>
<h2 id="cli-is-better"><a class="header" href="#cli-is-better">CLI Is Better</a></h2>
<p>Better than what? Better than a mouse and a webpage...</p>
<p>We are making an argument that the CLI is a better option for managing data and processes in small and medium organizations. Our success depends on it. We guess that up to 90% of the people who read this sentence discount the CLI's validity. This is OK because by the time they realize they were wrong, and they will be too late to the game and will have suffered:</p>
<ul>
<li>abuse of the perpetual right-click copy/paste to move stuff around.</li>
<li>being blamed for why something is not done yet.</li>
<li>paying for tools that are otherwise free.</li>
<li>losing their job at the hand of someone who figured out a better way to get something done.</li>
</ul>
<p>The modern web browser is an impressive invention. It is pretty and engaging. It is the default tool to browse information the internet. However, it is a data trap. It silos data inside the browser with virtually no way to automate tasks without going to heroic efforts and/or paying for more tools.</p>
<h3 id="grunts-and-nudges"><a class="header" href="#grunts-and-nudges">Grunts and Nudges</a></h3>
<p>What has only two forms of communication (grunts and nudges)? A mouse...</p>
<p>Before we make our case for the CLI, we feel compelled to express the challenges that plague us today.</p>
<p>Using a mouse to perform work in a web browser is quite possibly the lowest form of communication prevalent in our society. You can click (or grunt) and you and drag (or nudge). Imagine if your primary means of communication was grunting and nudging people around. It is hard to imagine because it represents such a departure from the rich language we have developed to express ourselves.</p>
<p>Creating mouse oriented user interfaces often doubles or more the code complexity. Creating business logic is easy. Creating web-based user interfaces is extremely difficult.</p>
<p>The pain goes even deeper. Anyone who is responsible for testing mouse oriented applications can attest to just how hard it can be to assert it works as expected.</p>
<p>Why have we adopted this style as a primary means of communication with our computer? We do not know; however, We are done! No more... There is a better way!</p>
<h3 id="30-years-of-cli"><a class="header" href="#30-years-of-cli">30+ Years of CLI</a></h3>
<p>There is a reason a great percentage of the world's developers abandoned Windows for Apple and Linux. They realized there is power in a CLI (command line interface) where you can communicate your instructions in a language that is orders of magnitude more expressive and more capable than a mouse. This is hundreds if not thousands of times more expressive... In the right hands "expressive" mean "powerful" and "capable".</p>
<p>We understand it takes time to learn different expressions; however, we also understand that it is worth it. The world's developers voiced their preference.</p>
<p>In the last 30 years...</p>
<ul>
<li>A rich ecosystem of commands emerged in the CLI. This means you have a menu of tools to perform everyday tasks.</li>
<li>A data <a href="./terminology.html#data-pipeline">pipeline</a> convention emerged as a way to connect the results of one command as input to the next.</li>
<li>Commands were combined to create scripts.</li>
<li>Scripts were piped together to automate processes.</li>
</ul>
<p>Reference: <a href="./blog-cli-better.html">CLI is Better Blog</a> - story of searching legal contracts for tasks and dates.</p>
<h2 id="ai-changes-things"><a class="header" href="#ai-changes-things">AI Changes Things</a></h2>
<p>What does AI change? It gives humans the ability to know and do more. It is powerful enough to change how IT thinks about and deploys applications. It is powerful enough to give everyday clerks the ability to solve their own problems. It is powerful enough to know when these solutions extend beyond the intended roles.</p>
<p>Said another way, AI is powerful enough to transform the roles of IT, managers and clerks to deploy AI-enabled, self-service tools that drive innovation from everyone in an organization.</p>
<p>AI enhances our ability to communicate across multiple languages. One of the big challenges of using a CLI to converse with your computer, data or processes is the learning curve of the CLI way of thinking. AI removes this hurdle, and it enables the average person to accomplish what developers already know. It translates human language to CLI language. Said another way, AI helps turn clerks into <a href="./terminology.html#superclerk">superclerks</a>.</p>
<p>Now, imagine if clerks started using CLI tools to perform everyday tasks. The smart clerks started creating scripts to automate tasks. The really smart clerks started connecting/piping scripts together to perform workflows. If only IT has the ability to put these tools in the hands of clerks.</p>
<p>Imagine if clerks could use the existing work instructions to power AI to automate their tasks. Imagine if the person actually doing the work had the ability to both automate it and confirm its accuracy.</p>
<p>Hmmm...</p>
<h2 id="value-matters"><a class="header" href="#value-matters">Value Matters</a></h2>
<p>Value matters to whom? We believe that some people and organizations will fight to be relevant by adding value to themselves and those around them. As AI encroaches upon thought work and eliminates responsibilities, some will not sit idly by. They will look for opportunities to use AI for their benefit.</p>
<p>The chuck-stack success will depend on our ability to demonstrate human value in our changing world. It will depend on our ability to orchestrate off-the-shelf, synergistic tools to solve problems faster than ever before.</p>
<h2 id="know-your-audience"><a class="header" href="#know-your-audience">Know Your Audience</a></h2>
<p>The right people can do more with less (<a href="./terminology.html#superclerk">superclerks</a>).</p>
<p>It is important to state that creating tools for organizations is very different than creating tools for the consumer market. People in an organization have a job to do. They may perform the same tasks hundreds of times in a day. They repeat these tasks for weeks, months and sometimes years.</p>
<p>It is completely acceptable to take a moment to teach someone how to do something that a general consumer would have no ability to execute without training. When you think about the concepts expressed on this page, it stands to reason the some organizations and clerks will rise to the occasion and willingly attempt a better way to add value to themselves and this world.</p>
<p>As a result, you will have fewer people orchestrating more with fewer resources. Our 25+ years of ERP experience tells us this is more than reasonable.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="success-using-linux"><a class="header" href="#success-using-linux">Success Using Linux</a></h1>
<p>We have already explained the importance of the terminal to our success. The purpose of this page is to describe how we plan to make that success easy, well understood, declarative and automated.</p>
<p>When the concepts in this page are fully implemented in the chuck-stack, this page will go away, and its contents will be move to other functional areas. Until then, this information represents our plan and our partial implementation.</p>
<h2 id="user-and-role-management"><a class="header" href="#user-and-role-management">User and Role Management</a></h2>
<p>Our plan is to use a declarative approach to managing users and roles.</p>
<ul>
<li>SSH transports users to their terminal</li>
<li>Nix-shell deploys the tools for that user's roles</li>
</ul>
<!-- the following is duplicated in multiple places including success-postgresql -->
<p>It is worth noting that user and role management is shared in both Linux and PostgreSQL. While these responsibilities exist in both planes, they are not duplicated. Linux dictates role-based tool access and how the user connects to the database. PostgreSQL dictates data access inside the database.</p>
<h2 id="ssh"><a class="header" href="#ssh">SSH</a></h2>
<p>SSH performs all user authentication and transport requirements. These requirements include security keys, passphrases and OTP multifactor authentication.</p>
<h2 id="nix-shell"><a class="header" href="#nix-shell">Nix-shell</a></h2>
<p>Nix-shell provides the role-based access control to ensure users can only use the tools associated with their roles. Nix-shells are declarative; therefore, we use standard git workflows to add, review, manage and deploy role tool access. CI/CD practices automate deployment in an auditable and automated manner.</p>
<p>Here is a quick and dirty example of how you configure a new <a href="./tool-linux.html#debian">Debian</a> server to use nix-shell. This trivial example goes a long way to show you the power of using well-understood tools.</p>
<pre><code class="language-bash">sudo su
sh &lt;(curl -L https://nixos.org/nix/install) --daemon --yes
exit # exit su

echo "ForceCommand /nix/var/nix/profiles/default/bin/nix-shell /opt/shell.nix" | sudo tee -a /etc/ssh/sshd_config

sudo systemctl restart ssh

wget https://raw.githubusercontent.com/cboecking/keys/refs/heads/main/id_rsa.pub
cat id_rsa.pub | tee -a .ssh/authorized_keys

sudo tee /opt/shell.nix &lt;&lt; EOF
{ pkgs ? import &lt;nixpkgs&gt; {} }:

pkgs.mkShell {
  buildInputs = with pkgs; [
    # Add only the packages you want users to have access to
  ];

  shellHook = ''
    echo "Welcome to the restricted nix-shell environment"
    # Add any initialization commands here
  '';
}
EOF
</code></pre>
<p>Details:</p>
<ul>
<li>Once the above is performed, a new user is bound by what is configured in /opt/shell.nix.</li>
<li>Nix-shell has a concept of a 'pure' shell that ensures no outside tools are made available.</li>
<li>Nix-shell ensures the environment is configured and that file permissions are set to ensure application security.</li>
</ul>
<p>The above example shows just how easily we can script with nix-shell to dictate what function calling tools are available to <a href="./tool-aichat.html">AIChat</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="success-using-postgresql"><a class="header" href="#success-using-postgresql">Success Using PostgreSQL</a></h1>
<p>PostgreSQL plays a critical role in our success. How we plan to create that success is largely attributable to the documentation and practices of <a href="./tool-postgrest.html">PostgREST.org</a>. They paved a way to move user and business logic previously trapped in an application server to the database itself. They proved the concept was more than possible, it was actually advantageous.</p>
<p>When the concepts in this page are fully implemented in the chuck-stack, this page will go away, and its contents will be move to other functional areas. Until then, this information represents our plan and our partial implementation.</p>
<h2 id="user-and-role-management-1"><a class="header" href="#user-and-role-management-1">User and Role Management</a></h2>
<p>User management plays a small part is how the chuck-stack operates. Almost all logic is tied to a role. PostgREST gives us a great roadmap for accomplishing this task.</p>
<p>Here is a quick description of how chuck-stack manages users and roles:</p>
<ul>
<li>Users will be created in PostgreSQL with no privileges.</li>
<li>Users will be granted access to a PostgreSQL role.</li>
<li>This concept is called impersonation where the user logs in and quickly moved to a role.</li>
<li>After the login is complete, all authorization is performed at the role level.</li>
</ul>
<p>Here is an example of impersonation:</p>
<pre><code class="language-sql">create role some_role nologin;
grant usage on schema private to some_role;
grant select on private.stk_business_partner to some_role;
create role some_user_auth noinherit login password 'some_password';
grant some_role to some_user_auth;

psql -d some_db -U some_user_auth -c "set SESSION ROLE some_role" -c "select * from adempiere.c_bpartner limit 1"
</code></pre>
<p>If you remove the "-c ... set ROLE ..." command, the psql statement will fail with a "permission denied" error because the some_user_auth role does not have any privileges.</p>
<p>This example shows just how easily we can provide user management yet ensure that no user capabilities spill into role-based business logic.</p>
<!-- the following is duplicated in multiple places including success-postgresql -->
<p>It is worth noting that user and role management is shared in both Linux and PostgreSQL. While these responsibilities exist in both planes, they are not duplicated. Linux dictates role-based tool access and how the user connects to the database. PostgreSQL dictates data access inside the database.</p>
<p>Reference: <a href="https://docs.postgrest.org/en/v12/references/auth.html">PostgREST Authentication</a></p>
<h2 id="session-variables"><a class="header" href="#session-variables">Session Variables</a></h2>
<p>A big requirement of enterprise systems is managing a user's context inside the application. The above example of switching from the user to the role is great for simplifying business logic; however, the system still needs to know what user performed what action.</p>
<p>The chuck-stack uses another concept from PostgREST to set session variables (context) using PostgreSQL's configuration settings. Here is an example where any business logic can check session variable details during a process.</p>
<pre><code class="language-sql">CREATE OR REPLACE FUNCTION check_user() RETURNS void AS $$
DECLARE
  email text := current_setting('stk.variable', true)::json-&gt;&gt;'email';
BEGIN
  IF email = 'some_joe@bad.com' THEN
    RAISE EXCEPTION 'No, you are not allowed'
      USING HINT = 'Some additional details about the situation';
  END IF;
END
$$ LANGUAGE plpgsql;
</code></pre>
<p>Setting these variables during psql execution is easy (<a href="./success-linux.html">see success with Linux</a>). Checking them during program execution is easy as demonstrated above.</p>
<h2 id="sql-plus-psql"><a class="header" href="#sql-plus-psql">SQL plus psql</a></h2>
<p>The purpose if this section is to highlight that chuck-stack not only benefits from SQL (one of the technical world's most well understood languages), but it also benefit from the psql application. psql is powerful SQL application in its own right that has additional features for a) helping users do their jobs and b) helping the stack protect its data and processes from attach (like sql injection).</p>
<h2 id="sql-encapsulation"><a class="header" href="#sql-encapsulation">SQL Encapsulation</a></h2>
<p>The <a href="./postgres-conventions.html#schema">PostgreSQL Convention</a> highlights how we use two schemas to provide :</p>
<ul>
<li>a public (<code>api</code>) facing schema to allow for direct interactions via the CLI and REST and</li>
<li>a private (<code>private</code>) facing schema to allow to data representation encapsulation.</li>
</ul>
<h2 id="configuration-management"><a class="header" href="#configuration-management">Configuration Management</a></h2>
<p>The chuck-stack uses sqlx-cli to track and deploy SQL migration scripts. Here is a <a href="https://github.com/chuckstack/stk-app-sql/tree/main">sample todo chuck-stack migration repository</a>. It is part of the <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/stk-todo-app.nix">chuck-stack todo sample application</a>.</p>
<p>Note that we use a NixOS service to manage and automatically deploy migrations when needed.</p>
<h2 id="technical-details-and-examples"><a class="header" href="#technical-details-and-examples">Technical Details and Examples</a></h2>
<p>The purpose of this section is to highlight simple examples that demonstrate the concepts described above.</p>
<p>References:</p>
<ul>
<li><a href="https://www.postgresql.org/docs/current/functions-admin.html#FUNCTIONS-ADMIN-SET">PostgreSQL docs =&gt; Configuration Setting Functions</a></li>
<li><a href="https://www.depesz.com/2023/05/28/variables-in-psql-how-to-use-them/">psql variables demo</a></li>
</ul>
<p>From inside psql without modifying postgresql.conf:</p>
<pre><code class="language-sql">select set_config('test.test.test.one','truly',false);
select current_setting('test.test.test.one',true);

 current_setting
-----------------
 truly
</code></pre>
<p>From inside psql after modifying postgresql.conf to set test.chuboe='init':</p>
<pre><code class="language-sql">select current_setting('test.chuboe',true);

 current_setting
-----------------
 init
</code></pre>
<pre><code class="language-sql">select set_config('test.chuboe','post-set',false);  --false says available outside of trx but only in session  --true says only in trx

 set_config
------------
 post-set
</code></pre>
<pre><code class="language-sql">select current_setting('test.chuboe',true);

 current_setting
-----------------
 post-set
</code></pre>
<p>From command line - set temporarily after postgresql.conf updated (but postgresql.conf edit not needed)</p>
<pre><code class="language-bash">psqli -c "SET test.chuboe = 'some-other'" -c "select current_setting('test.chuboe',true)"

 current_setting
-----------------
 some-other
</code></pre>
<p>From command line - random parameter - not set in postgresql.conf</p>
<pre><code class="language-bash">psqli -c "SET gabe.chuboe1 = 'some-other1'" -c "select current_setting('gabe.chuboe1',true)"

 current_setting
-----------------
 some-other1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="success-using-api"><a class="header" href="#success-using-api">Success Using API</a></h1>
<p>We have already explained the importance of the terminal to our success. The purpose of this page is to describe how we plan to extend program logic and functionality beyond the terminal using API.</p>
<p>TODO: add link to architecture page to show how API fits into the picture.</p>
<p>When the concepts in this page are fully implemented in the chuck-stack, this page will go away, and its contents will be move to other functional areas. Until then, this information represents our plan and our partial implementation.</p>
<h2 id="terminal-plus-postgrest"><a class="header" href="#terminal-plus-postgrest">Terminal plus PostgREST</a></h2>
<p>In the previous success pages, we discussed how PostgREST helped us understand a better way to manage data and processes directly inside the database. We believe we can not only use PostgREST's practices but also use PostgREST itself. If we can, this means that any business logic created in the chuck-stack will automatically flow through to an API as well (possibly for free).</p>
<p>Said another way, You can gain access to your data and processes from more than just a terminal. This concept is important when integration with 3rd party system, which frequently happens in ERP implementations.</p>
<p>Here are our thoughts:</p>
<ul>
<li>PostgREST recommends that you create both a private and public schema.</li>
<li>We plan to do the same.</li>
<li>The private schema is where you keep your normalized data. It is considered private because users do not always need to know how it is stored.</li>
<li>The public schema is where psql (your chuck-stack terminal) and PostgREST connect. It is considered public because it is the outside representation of your data and processes. Sometimes there is a difference between private and public for good reasons.</li>
<li>We believe we can use the same public schema to feed both the chuck-stack terminal as well as PostgREST.</li>
<li>We believe we can write one set of business logic that supports both access points.</li>
<li>To accomplish this goal, we believe the chuck-stack simply needs to mirror the application's context to be the same as PostgREST.</li>
</ul>
<p>If we can accomplish this goal, it will be quite magical.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>Getting started looks different depending on your goals.</p>
<p>If you goal is to understand the project itself, start here:</p>
<ul>
<li><a href="./introduction.html">Introduction - Why the project exists</a></li>
<li><a href="./picture-success.html">Picture of Success - Where we are headed</a>.</li>
</ul>
<p>If your goal is to understand what is needed for us to succeed, view the <a href="./success-factor.html">success factors</a></p>
<p>If you just want to start playing with the chuck-stack, read below. If you need help, join the <a href="./stack-academy.html">stack-academy</a>.</p>
<h2 id="start-with-ai"><a class="header" href="#start-with-ai">Start with AI</a></h2>
<p>First, get your API key. Then, start using it to explore!</p>
<h3 id="get-your-api-key"><a class="header" href="#get-your-api-key">Get Your API Key</a></h3>
<p>You need an API account from one of the foundation LLM providers, including:</p>
<ul>
<li><a href="https://www.anthropic.com/api">Anthropic/Claude</a> - preferred</li>
<li><a href="https://ai.google.dev/">Gemini</a></li>
<li><a href="https://openai.com/api/">OpenAI</a></li>
</ul>
<p>There is a difference between the flat-rate, consumer-facing website offerings (like OpenAI's ChatGPT) and a pay-as-you-go API service. You need the API version of the service. Here are the reasons:</p>
<ul>
<li>One reason is that you will most likely not spend the equivalent $20/month when using the API - at least not in the beginning.</li>
<li>The second reason is that you need API access to accomplish the goals of this stack.</li>
</ul>
<p>You can use a different LLM provider if you wish. Here is a list of other options: (<a href="https://github.com/sigoden/aichat">see the multi-platform section</a>).</p>
<p>Note: It is possible to run AI locally using tools like <a href="https://ollama.com/">ollama</a>; however, the models you can run locally are generally not as powerful as the ones listed above. For that reason, we will treat local AI as a more advanced topic.</p>
<h3 id="ask-ai-first"><a class="header" href="#ask-ai-first">Ask AI First</a></h3>
<p>One key to your success is to get in the habit of asking AI before you search on Google. Soon, you will have a keystroke that will open an AI prompt from anywhere on your computer. Asking AI for help will become second nature. You want to create this habit as quickly as you can.</p>
<blockquote>
<p>Here is an example prompt where AI is both fast and succinct:</p>
<ul>
<li>please provide succinct step-by-step instructions for accessing a linux terminal on a new chromebook</li>
</ul>
<p>Here was the response:</p>
<ol>
<li>Open Settings</li>
<li>Click "Advanced" in the left sidebar</li>
<li>Select "Developers"</li>
<li>Turn on "Linux development environment"</li>
<li>Click "Install" and wait for the process to complete</li>
<li>Once installed, open the "Linux Terminal" app from the launcher</li>
<li>The terminal will open, ready for use</li>
</ol>
</blockquote>
<p>If you have additional questions, simply ask and AI will provide additional details.</p>
<h2 id="get-linux"><a class="header" href="#get-linux">Get Linux</a></h2>
<p>You need some version of <a href="./tool-linux.html">Linux</a> available to you. We prefer you run Linux as your primary desktop for a variety of reasons; however, we understand that time and cost play a role in your decision.</p>
<p>To make getting started as easy as possible, we created a list of options beginning with the easiest and most affordable ones first:</p>
<ul>
<li>Chromebook - most modern Chromebooks make it easy to gain access to a Linux terminal directly from your menu. See the above example of asking AI to help enable Linux in a Chromebook.</li>
<li>Windows - offers <a href="https://learn.microsoft.com/en-us/windows/wsl/install">WSL (Windows Subsystem for Linux)</a>.</li>
<li>Buy a new Linux computer:
<ul>
<li><a href="https://system76.com">System76</a> is an amazing hardware provider and a supporter of Linux. You can buy a mini, desktop or a laptop with Linux already installed. They typically offer a $600 USD mini that can be used to get started. System76's commitment to Linux and its usability cannot be emphasized enough.</li>
<li><a href="https://frame.work">Framework</a> is an amazing hardware provider; however, please understand this company is a bit different. The upfront cost is higher than a mass-produced Chromebook; however, you purchase something that will last longer. <a href="https://youtu.be/ZcmK2T6BDMY?si=aTiV5SY26fG41Rmo">Here is a great review and explanation</a> regarding why Framework laptops are worth considering. Framework seems to be honest and transparent. They own and fix their mistakes in our experience.</li>
</ul>
</li>
<li>Install Ubuntu, PopOS or Debian on an existing desktop or laptop.</li>
<li>Mac - is Unix, which is close to Linux. Most of what you can run on Linux can also work on a Mac.</li>
<li>Rent Linux - cloud providers like AWS, Digital Ocean, Linode, ... will host Linux for you for under $10 USD per month.</li>
</ul>
<h2 id="which-linux-version"><a class="header" href="#which-linux-version">Which Linux Version</a></h2>
<ul>
<li>PopOS is our preference for laptops and desktops. PopOS is an Debian variant.</li>
<li><a href="./tool-linux.html#debian">Debian</a> is our preference for servers, containers and headless virtual machines.</li>
<li><a href="./tool-linux.html#nix">NixOS</a> is a more challenging and more capable option.</li>
<li>Ubuntu is also acceptable. Ubuntu is a Debian variant.</li>
</ul>
<p>You can use any almost distribution of Linux you wish. The chuck-stack team recommends Debian-based and Nix as part of the official stack.</p>
<h2 id="rust-tools"><a class="header" href="#rust-tools">Rust Tools</a></h2>
<p>We have a strong preference for tools written in the Rust language. As a result, you need to install the <a href="https://rustup.rs/">Rust tools</a>. We will use Rust to install applications like <a href="./tool-aichat.html">AIChat</a> - see below.</p>
<h2 id="aichat"><a class="header" href="#aichat">AIChat</a></h2>
<p><a href="./tool-aichat.html">AIChat</a> plays a big role in the chuck-stack. You want to be able to launch a terminal and use AIChat with a single keystroke. Doing so goes a long way in accomplishing the above goal of asking AI before Google.</p>
<p>Examples to come soon... <a href="./stack-academy.html">Join the stack-academy</a> for quicker options to get started.</p>
<h2 id="postgresql"><a class="header" href="#postgresql">PostgreSQL</a></h2>
<p><a href="./tool-postgresql.html">PostgreSQL</a> also plays a big role in the chuck-stack. You want to be able to be able to use psql (PostgreSQL's command line tool - CLI) to connect to a local database and issue a few commands.</p>
<p>Examples to come soon... <a href="./stack-academy.html">Join the stack-academy</a> for quicker options to get started.</p>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<p>Now that you are proficient with AIChat, lets start incorporating <a href="./best-practices.html">best practices</a> into your use of AIChat.</p>
<p>You need to practice your best practices in <a href="./tool-obsidian.html">Obsidian</a>. Get comfortable with markdown, the listed Obsidian plugins, and how to document your work instructions.</p>
<h2 id="more-to-come"><a class="header" href="#more-to-come">More to Come...</a></h2>
<p>We are just 'geting starting'. To learn more faster, <a href="./stack-academy.html">join the stack-academy</a>. This is an important step to realizing the vision! This is something you can start right now!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stack-faq"><a class="header" href="#stack-faq">Stack FAQ</a></h1>
<p>The purpose of this page is to answer frequently asked questions (FAQ) about the chuck-stack.</p>
<h2 id="is-chuck-stack-really-the-name-of-the-project"><a class="header" href="#is-chuck-stack-really-the-name-of-the-project">Is chuck-stack really the name of the project?</a></h2>
<p>Yes and no... Naming a project is hard. chuck-stack is a good starting name given that Chuck Boecking has spent the last 25 years immersed in small-to-medium business ERP, data management, and IT. This project started as result of what we believe to be safe, usable, reliable and performant. If the community believes there is a better name to represent this project, then we will change the name accordingly. That will be a good day!</p>
<h2 id="how-do-we-choose-stack-components"><a class="header" href="#how-do-we-choose-stack-components">How do we choose stack components?</a></h2>
<p>See <a href="./stack-tools.html">stack-tools</a>.</p>
<h2 id="what-are-the-chuck-stack-tools"><a class="header" href="#what-are-the-chuck-stack-tools">What are the chuck-stack tools?</a></h2>
<p>See <a href="./stack-tools.html">stack-tools</a>.</p>
<h2 id="what-are-the-project-guiding-principles"><a class="header" href="#what-are-the-project-guiding-principles">What are the project guiding principles?</a></h2>
<p>See <a href="./introduction.html#chuck-stack-guiding-principles">chuck-stack guiding principles</a></p>
<h2 id="what-is-the-stack-academy"><a class="header" href="#what-is-the-stack-academy">What is the stack-academy?</a></h2>
<p>See the <a href="./stack-academy.html">stack-academy</a> page.</p>
<h2 id="what-about-scalability"><a class="header" href="#what-about-scalability">What about scalability?</a></h2>
<p>The chuck-stack uses widely available and well understood tools (namely PostgreSQL and Linux) whose scalability is widely reasoned about. The chuck-stack can easily be scaled to thousands of concurrent users by simply following basic best practices.</p>
<p>Reference: <a href="./postgres-convention/scalability-convention.html">Postgresql Scalability</a></p>
<h2 id="what-is-a-superclerk"><a class="header" href="#what-is-a-superclerk">What is a Superclerk?</a></h2>
<p>See <a href="./terminology.html#superclerk">superclerk</a>.</p>
<h2 id="saving-heartbeats"><a class="header" href="#saving-heartbeats">Saving Heartbeats</a></h2>
<p>What does this mean? We have a precious few moments on this Earth. We will do everything in our power to preserve your time so that you may spend your remaining "heartbeats" on something that really matters to you.</p>
<h2 id="what-is-the-current-status-of-chuck-stack"><a class="header" href="#what-is-the-current-status-of-chuck-stack">What is the current status of chuck-stack?</a></h2>
<p>The short answer is: We have been deploying the chuck-stack for more that 10 years. Some parts of the stack are in early alpha. Other parts reached production 15 years ago. Here is a more detailed answer:</p>
<ul>
<li><a href="https://www.idempiere.org/">iDempiere ERP</a> is the oldest member of the stack. We started deploying it on Linux as early as 2001.</li>
<li>We started deploying <a href="https://www.postgresql.org/">PostgreSQL</a> on Linux in 2011.</li>
<li><a href="https://www.metabase.com/">Metabase</a> BI has been in production for us for the last 4 years.</li>
<li><a href="https://www.nushell.sh/">Nushell</a> has been in production for us for the last 2 years.</li>
<li><a href="https://www.getdbt.com/">dbt</a> has been in production for about 6 months. Note that we have used various ETL tools for the last 10 years.</li>
<li>The AI tools like <a href="https://github.com/sigoden/aichat">aichat</a>, are relatively new. Being able to use these tools to change how people interact with data is also new. This style of UI development is in alpha.</li>
</ul>
<h2 id="is-chuck-stack-an-erp"><a class="header" href="#is-chuck-stack-an-erp">Is chuck-stack an ERP?</a></h2>
<p>No, not yet. Here are our thoughts about becoming an ERP:</p>
<ul>
<li>The biggest hurdle to becoming a viable ERP is data entry.</li>
<li>It is common for an order header to have 90+ columns.</li>
<li>Historically, ERP systems burden users with a sea of fields (representing the 90+ columns).</li>
<li>We do NOT believe this is the best approach because a user will only need to modify three or so fields in a newly drafted order. The remaining fields should just default from either the Business Partner settings or recent orders. Said another way, changing many defaults is the exception, not the rule.</li>
<li>Improving the user experience for the above order scenario is currently our biggest challenge.</li>
<li>Another challenge will be to provide a viable accounting system. In the short term, we will use <a href="https://www.idempiere.org/">iDempiere</a>. In the long term, we will use AI and available references to create an accounting system that best supports our stack. Accounting is one of our strongest areas of our ERP practice.</li>
</ul>
<h2 id="what-is-capability-sandboxing"><a class="header" href="#what-is-capability-sandboxing">What is capability sandboxing?</a></h2>
<p>Capability Sandboxing is the act of defining roles so well that you can consider them to be a contract and enabling the system to ensure role created automation stays within the confines of the contract.</p>
<h2 id="what-are-the-most-important-pieces-of-the-chuck-stack-application-framework"><a class="header" href="#what-are-the-most-important-pieces-of-the-chuck-stack-application-framework">What are the most important pieces of the chuck-stack application framework?</a></h2>
<p>The two most important pieces of the chuck-stack application are workflow and attributes.</p>
<ul>
<li>Workflow is critical to data management. However, workflow is notoriously difficult. The concepts can be difficult to learn. The applications are often difficult to install and maintain, and they are either too complicated or overly simple. It is incredibly difficult to create a workflow architecture that is both generic enough and easy enough for broad adoption. AI will change the workflow landscape. What was previously tedious, is becoming a conversation.</li>
<li>Attributes and attribute sets are critical to data management. Being able to tag anything with an attribute, or a set of attributes is one of the most common actions in data management.</li>
</ul>
<h2 id="why-is-the-cli-so-important"><a class="header" href="#why-is-the-cli-so-important">Why is the CLI so Important?</a></h2>
<p>See <a href="./blog-cli-better.html">CLI Better Than ...</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chuck-stack-tools"><a class="header" href="#chuck-stack-tools">chuck-stack Tools</a></h1>
<p>The purpose of this page is to help you understand what tools we choose to include in the chuck-stack and why we chose them. The chuck-stack has been cultivated over the last 25 years. Much effort, testing and production use has gone into this list of tools and its selection criteria.</p>
<h2 id="selection-criteria-summary"><a class="header" href="#selection-criteria-summary">Selection Criteria Summary</a></h2>
<p>When choosing our stack tools, we:</p>
<ul>
<li>Focus on commonly used and well understood tools to make AI augmentation easier. The better AI understands a tool, the more AI can do the work for you.</li>
<li>Choose tools that build on one another: Incus =&gt; Linux =&gt; PostgreSQL =&gt; PostgREST =&gt; Nushell =&gt; AIChat =&gt; Zellij...</li>
<li>Select tools that allow unlimited usage and scale massively.</li>
</ul>
<h2 id="selection-criteria-details"><a class="header" href="#selection-criteria-details">Selection Criteria Details</a></h2>
<p>Here are the more detailed guidelines for inclusion:</p>
<ul>
<li><strong>Commonly used</strong> - and well understood to make AI augmentation easier.</li>
<li><strong>Open source</strong> - or at least as open as possible.</li>
<li><strong>Start simple</strong> - easy to understand and reason about. <a href="./tool-linux.html#nix">Nix</a> pushes this concept a little (or a lot); however, the power and simplicity it creates is worth the extra effort.</li>
<li><strong>Basic functionality</strong> - supports basics like CRUD (create, read, update and delete) with minimal effort.</li>
<li><strong>Kind educator</strong> - needs someone in the community who makes the technology kind to the target audience.</li>
<li><strong>Kind integrator</strong> - needs someone local to you digitally to help you leverage the tool.</li>
<li><strong>Synergy</strong> - supports other tools in the stack. Example: runs on or integrates with PostgreSQL.</li>
<li><strong>Simple architecture</strong> - not overly complicated relative to the tool's purpose.</li>
<li><strong>Enterprise scalability</strong> - it needs to scale to support an organization of at least 1,000+ across multiple continents.</li>
<li><strong>Enterprise testing and deployment</strong> - it needs to support team development where improvements can be development, tested and accepted in dedicated environments and easily migrated to production using CI/CD concepts or scripts.</li>
<li><strong>Deployment safety and simplicity</strong> - needs to create safe applications that deploy with minimal dependencies.</li>
<li><strong>Safe, reliable and performant</strong> - if a system is not safe, reliability does not matter. If it is not reliable, performance does not matter.</li>
<li><strong>Command Line Interface (CLI) centric</strong> - we love cli interfaces because they are accessible from anywhere.</li>
<li><strong>REST centric</strong> - we love scriptable interfaces that can be called from anywhere (not just the cli).</li>
<li><strong>Globally deployed</strong> - supports any organization in an corner of the world on almost any hosting platform.</li>
</ul>
<h2 id="preference-for-rust-language"><a class="header" href="#preference-for-rust-language">Preference for Rust Language</a></h2>
<p>You might observe that we have a preference for applications written in the Rust language. This preference is intentional for the following reasons:</p>
<ul>
<li>Rust promotes writing safe applications by eliminating the majority of problems that have plagued developers for the last 30 years.</li>
<li>Rust applications typically compile down to a single binary.</li>
<li>The Rust tool chain is simple to understand and execute for both application development and deployment.</li>
<li>Rust applications tend to perform better and faster than their counterparts.</li>
<li>Rust supports full stack development thus minimizing the number of experts needed to solve a problem.</li>
<li>The Rust community practices and values align with the chuck-stack community. See our <a href="./code-of-conduct.html">code of conduct</a> as an example.</li>
</ul>
<h2 id="critical-path-tools"><a class="header" href="#critical-path-tools">Critical Path Tools</a></h2>
<p>The following tools are in the chuck-stack critical path to success. They solve a core need in the chuck-stack, and they create <a href="./terminology.html#synergy">synergy</a> with each other.</p>
<ul>
<li><a href="./tool-incus.html">Incus (virtualization)</a> - container and virtual machine (VM) tool to develop, test and deploy IT applications.</li>
<li><a href="./tool-linux.html">Linux (compute)</a> - best tool to run applications on just about any platform in the world.</li>
<li><a href="./tool-postgresql.html">PostgreSQL (data)</a> - best tool for managing "data" database with best performance and enterprise features.</li>
<li><a href="./tool-postgrest.html">PostgREST (API)</a> - PostgreSQL tool for exposing an OpenAPI compliant REST interface directly out of your database.</li>
<li><a href="./tool-aichat.html">aichat (AI)</a> - command line AI chat and execution tool that include saves sessions, rag, function-calling and more.</li>
<li><a href="./tool-nushell.html">Nushell (system and data)</a> - Terminal shell with designed to understand and manipulate structured data.</li>
<li><a href="./tool-zellij.html">Zellij (UI)</a> - terminal workspace environment for managing information and transactions.</li>
<li><a href="./tool-git.html">Git (code, information, collaboration)</a> - best tool for managing information, instructions and discussions. It provides most options for AI amplification.</li>
<li><a href="./tool-obsidian.html">Obsidian (knowledge)</a> - best tool to authoring text.</li>
</ul>
<h2 id="other-tools"><a class="header" href="#other-tools">Other Tools</a></h2>
<p><a href="./tool-others.html">Other tools</a> play a supporting role in the chuck-stack and an organization's success.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="incus---virtualization"><a class="header" href="#incus---virtualization">Incus - Virtualization</a></h1>
<p>We are leading with Incus and virtualization because we feel that virtualization is a critical part of your small and medium organization stack. We prefer Incus; however, you can use any virtualization tool you are comfortable with such as AWS, GCP, Azure, etc... You simply need some form of virtualization. On this page, we will explain why Incus is a compelling option.</p>
<h2 id="page-contents"><a class="header" href="#page-contents">Page Contents</a></h2>
<ul>
<li><a href="tool-incus.html#what-is-incus">What is Incus</a></li>
<li><a href="tool-incus.html#why-we-love-incus">Why we love Incus</a></li>
<li><a href="tool-incus.html#types-of-virtualization">Types of virtualization</a></li>
<li><a href="tool-incus.html#incus-relation-to-docker">Incus relation to Docker</a></li>
<li><a href="tool-incus.html#incus-relation-to-nix">Incus relation to Nix</a></li>
<li><a href="tool-incus.html#incus-use-cases">Incus Use Cases</a></li>
<li><a href="tool-incus.html#hardware-considerations">Hardware Considerations</a></li>
</ul>
<h2 id="what-is-incus"><a class="header" href="#what-is-incus">What is Incus</a></h2>
<p><a href="https://linuxcontainers.org/incus/docs/main/">Incus</a> is a Linux application that allows you to take any single computer or collection/cluster of computers and turn them into a virtualization platform.</p>
<p>We encourage you to <a href="https://linuxcontainers.org/incus/try-it/">try Incus online now</a>.</p>
<h2 id="why-we-love-incus"><a class="header" href="#why-we-love-incus">Why We Love Incus</a></h2>
<p>There is a long list of reasons why we love Incus:</p>
<ul>
<li>It is commonly used and well documented.</li>
<li>It is open source.</li>
<li>You can get up and running with Incus in a meaningful way in minutes.</li>
<li>It does its job (virtualization) quite well.</li>
<li>It helps you deploy applications in a manner that is safe, reliable and performant.</li>
<li>You can start with a single computer and naturally grow to a global cluster.</li>
<li>It uses commonly understood Linux and networking concepts.</li>
<li>It has an incredible educator in Stphane Graber.</li>
<li>It has a vibrant online support community.</li>
<li>It supports multiple types of virtualization in a single application: Docker, Linux containers, virtual machines and Nix.</li>
<li>It is both CLI and API first to help support AI and automation.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It scales massively for small to medium organizations.</li>
<li>It can be deployed in every corner of the world.</li>
<li>It can be deployed in hybrid cloud scenarios.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<p>In summary, Incus allows you to start quickly with what you have and finish big!</p>
<h2 id="types-of-virtualization"><a class="header" href="#types-of-virtualization">Types of virtualization</a></h2>
<p>One of the greatest benefits of Incus is that it gives you so many virtualization options in a single package. Incus maintains current container and virtual machine images for commonly used Linux operating systems including: Debian, Ubuntu, NixOS, Alpine, Arch, etc...</p>
<p>You can add DockerHub as an Incus image repository; therefore, you can launch almost any image with almost no additional effort, infrastructure or nesting when using Incus.</p>
<h2 id="incus-has-projects"><a class="header" href="#incus-has-projects">Incus has Projects</a></h2>
<p>As your virtualization needs grow, you can use projects to keep your Incus server clean by grouping related instances together. In addition to isolated instances, each project can also have specific images, profiles, networks, and storage.</p>
<p>This helps organizations support the growth of organizations in an organized manner.</p>
<h2 id="incus-relation-to-docker"><a class="header" href="#incus-relation-to-docker">Incus Relation to Docker</a></h2>
<p>Docker is a compelling option for virtualization. Here are the reason we prefer Incus over Docker:</p>
<ul>
<li>Incus gives us a single tool to deploy and manage almost all virtualization scenarios.</li>
<li>Docker is great at application deployment. We need more than just application deployment.</li>
<li>Incus covers more virtualization use case scenarios than Docker. For example: we need semi-permanent instances for long running applications like PostgreSQL. Incus provides this capability with no additional effort.</li>
<li>Incus supports running Docker containers without needing a dedicated Docker environment.</li>
<li>Note: Incus does not support Docker Compose yet.</li>
</ul>
<h2 id="incus-relation-to-nix"><a class="header" href="#incus-relation-to-nix">Incus Relation to Nix</a></h2>
<p><a href="./tool-linux.html#nix">Nix</a> is a compelling option for virtualization in some specific circumstances. If the chuck-stack already uses Nix, why add Incus in addition to Nix?</p>
<p>Here are our thoughts:</p>
<ul>
<li>Nix is appreciably harder to learn and get up and running as a virtualization platform.</li>
<li>Incus covers many more virtualization scenarios than Nix.</li>
<li>Nix is a great virtualization solution when you need a specialized, high-volume and resource sensitive application hosting solution. Replit's use of Nix is a good example of when Nix is preferable. (<a href="https://blog.replit.com/nix_web_app">Quick link...</a>)</li>
<li>A Nix solution can easily be deployed inside Incus.</li>
</ul>
<h2 id="incus-use-cases"><a class="header" href="#incus-use-cases">Incus Use Cases</a></h2>
<p>We believe the single greatest benefit to Incus is the ability to use the same tool across many use cases deployed anywhere in the world. The purpose of this section is to describe these use cases:</p>
<ul>
<li>desktop - good for learning and local development</li>
<li>single-server - good for your first deployment</li>
<li>cluster - good for growth and stability</li>
<li>hybrid - good for maximizing performance and managing costs</li>
</ul>
<h3 id="desktop-virtualization"><a class="header" href="#desktop-virtualization">Desktop Virtualization</a></h3>
<p>You can install and use Incus on any Linux desktop or laptop in a matter of minutes. This is a great way to get started learning Incus and the chuck-stack.</p>
<p>The chuck-stack team uses Incus installed on desktop extensively. Here are some examples uses:</p>
<ul>
<li>Install and test new applications and configurations</li>
<li>Create VPNs inside a container to isolate remote networks</li>
<li>Install and run Windows when needed</li>
<li>Run and test local UAT instances of the chuck-stack</li>
</ul>
<p>Here are things you can do with your first Incus installation:</p>
<ul>
<li>fire up multiple instances (container or virtual machines) within seconds using most major Linux distributions</li>
<li>create snapshots</li>
<li>restore from snapshots</li>
</ul>
<p>References:</p>
<ul>
<li><a href="https://linuxcontainers.org/incus/docs/main/tutorial/first_steps/">Incus First Steps</a></li>
<li><a href="https://linuxcontainers.org/incus/try-it/">Try Incus online</a></li>
</ul>
<h3 id="single-server-virtualization"><a class="header" href="#single-server-virtualization">Single-Server Virtualization</a></h3>
<p>You can deploy and serve the chuck-stack to hundreds of users on a single-server Incus deployment. There are few distinctions between the desktop and single-server use cases. The biggest differences might be:</p>
<ul>
<li>where the server is located - anywhere in the world (from closet to data center)</li>
<li>the size and features of the server</li>
</ul>
<p>To see how much power for a given price you can derive from a single cloud server, look at the <a href="https://phoenixnap.com/bare-metal-cloud">PhoenixNAP bare metal cloud</a> pricing and availability. Then compare the cost to AWS. AWS is approximately 3x+ the cost for similar compute and storage capabilities.</p>
<h3 id="cluster-virtualization"><a class="header" href="#cluster-virtualization">Cluster Virtualization</a></h3>
<p>You can deploy <a href="https://linuxcontainers.org/incus/docs/main/explanation/clustering/">Incus to a cluster</a> of 3 or more servers. Doing so gives you better control and solutions for maintenance, stability, networking, and storage as compared to a single-server solution.</p>
<p>You can deploy your first cluster in minutes, and there is virtually no limit to how deep you can go to fine-tune and grow your cluster.</p>
<p>References:</p>
<ul>
<li><a href="https://linuxcontainers.org/incus/docs/main/howto/cluster_form/">Manually configuring a cluster</a></li>
<li><a href="https://github.com/lxc/incus-deploy">Automated cluster configuration</a></li>
</ul>
<h3 id="hybrid-virtualization"><a class="header" href="#hybrid-virtualization">Hybrid Virtualization</a></h3>
<p>It is common to deploy all the above Incus use cases in a single organization. Here is what such a deployment might look like:</p>
<ul>
<li>clustered production deployment in a data center</li>
<li>single-server test/UAT deployment on a local LAN</li>
<li>desktop engineering/ops deployment for development and testing</li>
<li>machine images shared between all locations</li>
</ul>
<p>The hybrid virtualization scenario is why we love Incus. It gives your organization the ability to use the same tool (same skill set) and artifacts everywhere for any purpose (production, test, UAT, ...).</p>
<blockquote>
<p>We believe the single greatest benefit to Incus is the ability to use the same tool across many use cases deployed anywhere in the world.</p>
</blockquote>
<h2 id="vocabulary"><a class="header" href="#vocabulary">Vocabulary</a></h2>
<p>This section defines important terms. The hope is to create better and more concise discussions below.</p>
<ul>
<li>Incus installation - a logical Incus instance running on one or more hardware devices. This term can refer to a stand-alone Incus host or a cluster of incus hosts.</li>
<li>Incus host - a single hardware device supporting Incus.</li>
<li>Incus guest - a virtualized operating system running inside an Incus host.</li>
<li>Incus container - an Incus guest that runs directly inside the Incus host's kernel.</li>
<li>Incus virtual machine - an Incus guest that runs a separate kernel on a virtual hardware layer.</li>
<li>Incus image - an Incus guest saved to an Incus installation.</li>
</ul>
<h2 id="hardware-considerations"><a class="header" href="#hardware-considerations">Hardware Considerations</a></h2>
<p>It is exceedingly difficult to recommend hardware given the wide number of Incus use cases; however, it is important to start somewhere. The purpose of this section is to offer you a starting point and help you reason about hardware for your Incus installation.</p>
<p>Hardware can range from an old desktop/laptop to a cluster of rack servers. The hardware can reside anywhere from sitting under your desk to a rack in a data center.</p>
<h3 id="general-guidelines"><a class="header" href="#general-guidelines">General Guidelines</a></h3>
<p>Here are some general Incus and hardware guidelines at the time of this writing.</p>
<p>Here are Incus guidelines and considerations:</p>
<ul>
<li>Incus itself requires little in terms of computing power. Almost all the hardware capacity demands come from the instances you create inside Incus.</li>
<li>Any incus installation is a container/virtual-machine image server; therefore, any container/virtual-machine image on any incus installation can be shared with other Incus installations. This means you can have a smaller and less expensive Incus installation supporting disaster recovery. It also means you can more easily move your existing images to bigger/better hardware as you upgrade.</li>
<li>Incus containers run more closely to actual hardware than virtual machines. This means that containers are around 10% to 20% more performant than virtual machines. It also means that containers are more dependant on the Incus host's hardware. As a result, containers are less portable than virtual machines.</li>
<li>When choosing hardware, you create the best container portability when all Incus hosts contain the same hardware.</li>
</ul>
<p>Here are hardware guidelines and considerations:</p>
<ul>
<li>You can install Incus on almost any hardware that supports Debian Linux (Raspberry Pis, Intel NUCs, old PCs, laptops, servers, ...).</li>
<li>Choose high core-count, single CPU devices over dual CPU devices for budget considerations.</li>
<li>If you do not plan to run a GPU, choose 1U servers for budget considerations.</li>
<li>Dual high-speed (10G for example) NICs better support cluster configurations due to network demands created by Ceph (distributed storage)</li>
<li>You need 3+ devices to create a cluster. If you only have two devices, you are better served by creating two isolated Incus installations.</li>
<li>If you plan to put a server in a data center, power is a consideration - both in terms of the server itself as well as any GPUs. Older hardware consumes more power per unit of space/computer/storage. A GPU can consume more power than the server itself.</li>
<li>This page does not discuss switch/routing considerations.</li>
<li>Buying refurbished hardware from places like ebay can greatly reduce hardware costs. However, consider the following:
<ul>
<li>Security concerns (the system you're buying may have a persistent attack code in its firmware)</li>
<li>Difficulty getting critical security updates (some vendors require an account with proof of purchase)</li>
<li>Harder to get replacement parts on short notice (and/or warranty services)</li>
</ul>
</li>
</ul>
<h3 id="small-cluster-desktop"><a class="header" href="#small-cluster-desktop">Small Cluster Desktop</a></h3>
<p>The purpose of this section is to record thoughts and examples related to hardware for small or beginner clusters. You can create a reasonably powered new 3-host desktop cluster for about $3K USD.</p>
<p>Here is an example first cluster:</p>
<ul>
<li>Start with three <a href="https://system76.com/desktops/meerkat">System76 Meerkat Tall</a> each with the following:
<ul>
<li>about $600 to start and $1K each as suggested below.</li>
<li>about 12 cores (i5 for example)</li>
<li>32GB memory</li>
<li>500GB PCIe4 drive</li>
<li>4TG SATA SSD additional drive</li>
<li>2.5 GbE LAN additional port</li>
<li>Note: always buy what you can afford at the time. If you can go with 64GB of memory then do so. Bigger drive, then do so...</li>
<li>Note: your AWS bill will quickly grow to be more than $3K in a short period of time. Every AWS server has three costs.
<ul>
<li>EC2 server</li>
<li>EC2 drive - You can assume the AWS drive and shapshot storage costs will be about the same as the server cost itself</li>
<li>S3 snapshot storage</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>You can easily increase capabilities by simply choosing a more powerful desktop (such as the <a href="https://system76.com/desktops/thelio">System76 Thelio</a>) where you can achieve 32 cores per host ($2K USD) and add a 16GB GPU ($800 USD more) for AI loads. This would give you an AI capable cluster for about $9K USD.</p>
<p>We reference system76 as a hardware provider because of their long and continuous support of the <a href="./tool-linux.html#popos-shell">PopOS operating system and the Linux community</a>.</p>
<h3 id="medium-cluster-rack"><a class="header" href="#medium-cluster-rack">Medium Cluster Rack</a></h3>
<p>The purpose of this section is to record thoughts and examples related to hardware for a medium rack-mount cluster. You can create a powerful new 3-host rack-mount cluster for about $15K USD. Here is an example server at the time of writing:</p>
<ul>
<li>SuperMicro,  a cheap enough option but still reasonably balanced may look like:
<ul>
<li>Chassis: AS -1115SV-WTNRT</li>
<li>CPU: AMD EPYC 8224P (24-core / 48-threads)</li>
<li>RAM: 6x 64GB DDR5-4800</li>
<li>Storage: 1x 1TB NVME M.2 internal for OS (+ whatever you want as hotplug storage for use by the instances)</li>
<li>Comes with 2x 10Gb (copper) networking</li>
</ul>
</li>
</ul>
<p>This configuration represents a significant increase in CPU core count, memory and storage over the desktop cluster described above. It also represents a form factor that can be placed in almost any data center (local or cloud).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux"><a class="header" href="#linux">Linux</a></h1>
<p><a href="https://en.wikipedia.org/wiki/Linux">Linux</a> is a well understood and documented operation system. Its benefits are equally as well documented; therefore, we do not need to attempt to repeat them here. However, it is important to discuss why we love Linux for the chuck-stack.</p>
<h2 id="why-we-love-linux"><a class="header" href="#why-we-love-linux">Why We Love Linux</a></h2>
<ul>
<li>It is commonly used and well documented.</li>
<li>It is open source.</li>
<li>It is easily accessible from anywhere in the world.</li>
<li>Its accessibility is secure and well vetted.</li>
<li>It has a vibrant online support community.</li>
<li>It makes the applications we need to do our jobs immediately available.</li>
<li>It can be deployed in every corner of the world.</li>
<li>It can be deployed in hybrid cloud scenarios.</li>
<li>It is CLI first to help support AI and automation.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It scales massively for small to medium organizations.</li>
<li>It does its job (compute) quite well.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<h2 id="linux-distributions"><a class="header" href="#linux-distributions">Linux Distributions</a></h2>
<p>The chuck-stack standardizes on two distributions of Linux:</p>
<ul>
<li>Debian</li>
<li>NixOS</li>
</ul>
<h3 id="debian"><a class="header" href="#debian">Debian</a></h3>
<p><a href="https://www.debian.org/">Debian</a> is a general purpose Linux distribution. It has been around for a long time. It is community driven. It works great on the server and the desktop. It is a cornerstone for the Linux community.</p>
<h3 id="nix"><a class="header" href="#nix">Nix</a></h3>
<p><a href="https://nixos.org/">Nix</a> is a package manager available to almost any Linux distribution including Debian. Nix's most remarkable feature is the ability to create reproducible builds and deploy reproducible environments through its declarative language.</p>
<p>The power of Nix is most easily found in two ways:</p>
<ul>
<li>NixOS - is a specific distribution dedicated to the Nix package manager.</li>
<li>nix-shell - is a feature for creating terminal shells with specific packages anywhere Nix is installed.</li>
</ul>
<p>The chuck-stack make extensive use of both NixOS and nix-shell because they give us:</p>
<ul>
<li>A menu of deployment options that can be pieced together to create larger and more capable systems</li>
<li>A deterministic way to deploy 'all' changes or 'none'</li>
<li>Enhanced disaster recovery options</li>
<li>Simplified security, audit and maintenance</li>
<li>Simplified environment management</li>
<li>The ability to deploy a system without writing code</li>
</ul>
<p>References:</p>
<ul>
<li>See how NixOS is used in the <a href="./stack-architecture.html#nixos">chuck-stack architecture</a></li>
<li><a href="https://www.youtube.com/watch?v=X_jMqi-0SrM">Nix explained</a> - provides an overview of the Nix ecosystem</li>
</ul>
<h2 id="linux-desktop"><a class="header" href="#linux-desktop">Linux Desktop</a></h2>
<p>The chuck-stack standardizes on two Linux desktops:</p>
<ul>
<li>PopOS Shell (Cosmic)</li>
<li>Gnome</li>
</ul>
<h3 id="popos-shell"><a class="header" href="#popos-shell">PopOS Shell</a></h3>
<p>We are most excited about the <a href="https://github.com/pop-os/shell">PopOS shell desktop</a>, and we have used it for more than 2 year; however, it is currently in transition from gnome-based to an independent, pure-rust desktop. Because of this transition and the instability the transition creates, we also support Gnome.</p>
<h3 id="gnome"><a class="header" href="#gnome">Gnome</a></h3>
<p>Gnome is a good and well understood Linux desktop.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="postgresql-1"><a class="header" href="#postgresql-1">PostgreSQL</a></h1>
<p><a href="https://www.postgresql.org/">PostgreSQL</a> is an open source database, and it is quite possibly the best general purpose tool for managing data in the world. We realize this is a bold statement; however, after almost 30 years in mid-market ERP (Enterprise Resource Planning), we know a thing about managing data. PostgreSQL is our preferred tool in its category for some very good reasons.</p>
<h2 id="page-contents-1"><a class="header" href="#page-contents-1">Page Contents</a></h2>
<ul>
<li><a href="tool-postgresql.html#why-we-love-postgresql">Why we love Postgresql</a></li>
<li><a href="tool-postgresql.html#installation">Installation</a></li>
</ul>
<h2 id="why-we-love-postgresql"><a class="header" href="#why-we-love-postgresql">Why We Love PostgreSQL</a></h2>
<p>The list of reasons we love PostgreSQL is long.</p>
<ul>
<li>It is commonly used and well documented.</li>
<li>It is open source.</li>
<li>It is easily accessible from anywhere in the world.</li>
<li>Its accessibility is secure and well vetted.</li>
<li>It has a vibrant online support community.</li>
<li>It makes the data we need to do our jobs immediately available.</li>
<li>It can be deployed in every corner of the world.</li>
<li>It can be deployed in hybrid cloud scenarios.</li>
<li>It is CLI first to help support AI and automation.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It scales massively for small to medium organizations.</li>
<li>It does its job (data) quite well.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<p>Here are some bullets that are unique to PostgreSQL that make it significantly better than its peers for the chuck-stack.</p>
<ul>
<li>It can hold almost any type of data: relational, GIS, vector, document, json, and more...</li>
<li>It is not enough to simply say it can hold this data - it is better than almost all of its peers who often specialize in these types of data.</li>
<li>Data replication is predictable.</li>
<li>Data replication is configurable (streaming vs logical).</li>
<li>Data backup strategies are numerous, robust and well documented.</li>
<li>There are PostgreSQL drivers, adapters, connectors for almost every major platform (OS and application).</li>
<li>It is fast!</li>
<li>It can read from many foreign data containers via FDW (Foreign Data Wrappers) - <a href="https://wiki.postgresql.org/wiki/Foreign_data_wrappers">see the list</a>.</li>
</ul>
<h2 id="postgresql-primer"><a class="header" href="#postgresql-primer">PostgreSQL Primer</a></h2>
<p>Content below this section is intended to provide reference material that gets you up and running with PostgreSQL as quickly as possible.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>There are two scenarios when you want to install PostgreSQL related to chuck-stack.</p>
<ol>
<li>Server - Production or UAT/Test environments running NixOS</li>
<li>Local - development environment running any Linux distribution where Nix is installed</li>
</ol>
<h3 id="server-installation"><a class="header" href="#server-installation">Server Installation</a></h3>
<p>The chuck-stack uses NixOS to manage server packages and configuration. Here are two Nix configuration files that work together to install and configure PostgreSQL for the chuck-stack.</p>
<ul>
<li><a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/postgresql.nix">postgresql.nix</a> - base PostgreSQL installation</li>
<li><a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/stk-todo-app.nix">stk-todo-app.nix</a> - extends the base PostgreSQL installation with a simple todo application.</li>
</ul>
<h3 id="local-installation"><a class="header" href="#local-installation">Local Installation</a></h3>
<p>The chuck-stack uses the Nix package manager's <code>nix-shell</code> feature to deploy and configure a local base PostgreSQL installation. Here are two different examples of nix-shell installing and configuring PostgreSQL.</p>
<ul>
<li>Basic <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nix-shell/postgresql-local/shell.nix">shell.nix</a> - performs the most basic PostgreSQL install</li>
<li>chuck-stack todo test <a href="https://github.com/chuckstack/stk-app-sql/blob/main/test/shell.nix">shell.nix</a> - installs PostgreSQL and configures it with a specific database and runs database migrations. This files is used as part if the <a href="https://github.com/chuckstack/stk-app-sql">stk-app-sql</a> test suite.</li>
</ul>
<h3 id="installation-notes"><a class="header" href="#installation-notes">Installation Notes</a></h3>
<p>Notes about installing and using PostgreSQL:</p>
<ul>
<li>It is sometimes desirable to install multiple 'clusters' of PostgreSQL on a single server. This is especially true when you are first learning the chuck-stack or you are hosting multiple small databases.</li>
<li>The above nix-shell local installation instructions show you how to create a PostgreSQL cluster in a specific location so that you can create multiple clusters if needed.</li>
<li>As a general rule, we will disable TCP access to PostgreSQL to maximize security. You should only enable TCP access when you have a good reason to do so.</li>
<li>Once you have created a database 'cluster', you can then create one or more 'databases' inside that cluster.</li>
<li>It is important to note the database needs of a small business with just a few users are different than the needs of a medium business with hundreds or thousands of users. We will start small and finish big.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="postgrest"><a class="header" href="#postgrest">PostgREST</a></h1>
<p><a href="https://postgrest.org/">PostgREST</a> is a secret weapon that allows us to build a fully-qualified and secure REST API directly on top of a PostgreSQL database schemas and users/roles. If you can build a good database with functions, you can build a good REST API.</p>
<h2 id="why-we-love-postgrest"><a class="header" href="#why-we-love-postgrest">Why We Love PostgREST</a></h2>
<p>The list of reasons we love PostgREST.</p>
<ul>
<li>It is an active project, and it is well documented.</li>
<li>It is open source.</li>
<li>It is easily accessible from anywhere in the world.</li>
<li>Its accessibility is secure and well vetted.</li>
<li>It has a vibrant online support community.</li>
<li>It makes the data we need to do our jobs immediately available.</li>
<li>It can be deployed in every corner of the world.</li>
<li>It can be deployed using a single file.</li>
<li>It can be deployed in hybrid cloud scenarios.</li>
<li>It is API first to help support AI and automation.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It scales massively for small to medium organizations.</li>
<li>It does its job (data access) quite well.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<p>PostgREST adds no additional logic to an existing PostgreSQL schema. This means that you can create a well thought out public database schema and expose it via two different access protocols (REST API and SQL) without duplicating any logic. This concept is important because:</p>
<ul>
<li>You minimize the number of experts required to support your platform. SQL in general and PostgreSQL specifically is extremely well known by both humans and AI. The more logic you can create in PostgreSQL, the faster and more efficient you team will become.</li>
<li>SQL represents one of the most expressive data languages. Previously, SQL was removed as a viable public API because of the fear of duplicated access/security logic. This one point is such a game changer in how you thing about managing and accessing data.</li>
<li>PostgREST enables moving user/role management and security policies to the database where all application access rules from all platforms (API + SQL) are enforced from a single location.</li>
<li>User/Role level management at the database is fast and efficient because PostgreSQL user/role management is so expressive and it is so close to the data.</li>
<li>REST API + SQL cover the fast majority of tools that need access to application logic. Said another way, most applications cannot expose SQL as an interface because traditional applications keep business and security logic in the API layer. As a result of using PostgREST, you maximize the tools that support small and medium organizations by allowing applications to use both API and SQL without any degradation in application quality or complexity.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aichat-1"><a class="header" href="#aichat-1">AIChat</a></h1>
<p><a href="https://github.com/sigoden/aichat">AIChat</a> is an all-in-one AI CLI tool that helps you interact with the world's most popular and powerful LLMs. It combines a chat-REPL, shell assistant, RAG, agents, and an API in a single AI tool.</p>
<p>Discussion points:</p>
<ul>
<li>Why we love AIChat</li>
<li>Why AI + CLI matters so much</li>
<li>AIChat solution examples</li>
</ul>
<h2 id="why-we-love-aichat"><a class="header" href="#why-we-love-aichat">Why We Love AIChat</a></h2>
<ul>
<li>It is well documented.</li>
<li>It is open source.</li>
<li>It is easy to learn and use in a matter of moments.</li>
<li>It is easily accessible from anywhere in the world.</li>
<li>It is an active project adapting to a rapidly evolving technical space.</li>
<li>It makes the knowledge we need to do our jobs available where and how we need it most.</li>
<li>it is an emerging tool the shows signs of a vibrant and well supported community.</li>
<li>It can be deployed in every corner of the world.</li>
<li>It can be deployed in hybrid cloud scenarios.</li>
<li>It is CLI first to help support automation through AI.</li>
<li>It make solutions created from the CLI available via the web and an API.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It scales massively for small to medium organizations.</li>
<li>It does its job (AI) quite well.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<h2 id="why-ai--cli-matters"><a class="header" href="#why-ai--cli-matters">Why AI + CLI Matters</a></h2>
<p>The vast majority of AI tools created in the last year are deployed via a webpage. We understand why people make this choice; however, we believe it is the wrong choice for small and medium organizations. Applications in webpages effectively trap knowledge and data. They create silos, and the amount of tooling needed to connect data between webpages is enormous. There is a much better way!</p>
<p>The CLI represents the single greatest superpower to help users create automation and data <a href="./terminology.html#data-pipeline">pipelines</a>.</p>
<h2 id="aichat---more-than-a-cli"><a class="header" href="#aichat---more-than-a-cli">AIChat - More than a CLI</a></h2>
<p>AIChat provides three features that are critical to our success:</p>
<ul>
<li>AI through the CLI - which is the most obvious feature</li>
<li>AI through a Webui playground - which gives you an html view into the same tools created via the CLI</li>
<li>AI through an API - which gives you the ability to use your previously created AI automation from other tools as well</li>
</ul>
<h3 id="a-common-workflow-challenge"><a class="header" href="#a-common-workflow-challenge">A Common Workflow Challenge</a></h3>
<p>When supporting small and medium organizations, we are often challenged with a question that begins with: "Can you do ...". The answer is often: "I do not know; let me try...". Here is a common scenario when exploring such a solution:</p>
<ol>
<li>Prove that AI is capable of some task. This is often most easily performed using AIChat through the CLI (either in the REPL or as commands). Once you believe you have a path to success, you want others to quickly try it out.</li>
<li>You send a link to AIChat's webui playground that is pre-loaded with the role (settings) and RAG (knowledge) that demonstrates the to-be solution so that all can easily see.</li>
<li>You update other tools to call AIChat's API to extend your solution into more workflows.</li>
</ol>
<h3 id="contract-example"><a class="header" href="#contract-example">Contract Example</a></h3>
<p>Here is a more concrete example to the above challenge. Let's say your organization works with legal contracts that have both dates and tasks associated with their execution. Let's assume you currently spend 25 man hours per month reviewing contracts and transcribing them to tasks on a calendar with a 94% historical accuracy. Can you do better? Here is an approach to exploring a solution:</p>
<p>Before we go into the solution details, I want to point out a theme in the below bullets. You create something once in a low cost and iterative manner, and you use it in multiple ways. One tool creates many options. This is how clerks become <a href="./terminology.html#superclerk">superclerks</a>.</p>
<ul>
<li>Find an example contract. This will most likely be a PDF.</li>
<li>Use the pdftotext CLI tool to extract the contents of the contract from the PDF to TXT:
<ul>
<li>pdftotext -layout somecontract.pdf &gt; somecontract.txt</li>
</ul>
</li>
<li>Pass the contract into AIChat along with some basic work instructions
<ul>
<li>aichat -f somecontract.txt -- find all tasks with their associated deadlines.</li>
</ul>
</li>
<li>Iterate on your work instructions until you get something that looks like a collection of tasks + deadlines from AIChat.</li>
<li>Create a new AIChat role named "contract task extractor" and save your refined work instructions in that role so that others can use your newly created skills and knowledge.
<ul>
<li>aichat</li>
<li>&gt; .edit role "contract task extractor"</li>
</ul>
</li>
<li>Deploy the AIChat webui playground and share your newly created AI role with other people.</li>
<li>Make your role available to other applications using AIChat's API so that all your tools can extract tasks and dates from contacts as well.</li>
</ul>
<h3 id="contract-how-to"><a class="header" href="#contract-how-to">Contract How To</a></h3>
<p>How does someone learn to perform the above steps? More specifically, how did we...</p>
<ul>
<li>know that pdftotext would extract out text from a PDF? We asked AIChat.</li>
<li>find the best prompt to extract out dates and tasks? We asked AIChat.</li>
<li>figure out how to create a new role in AIChat? We asked AIChat.</li>
</ul>
<p>You are probably starting to see a pattern....</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nushell"><a class="header" href="#nushell">Nushell</a></h1>
<p><a href="https://nushell.sh">Nushell</a> is a Linux terminal shell that makes processing and visualizing data easier. For the chuck-stack, Nushell excels beyond others because of its preference for and usability with structured data and <a href="./terminology.html#data-pipeline">data pipelines</a>.</p>
<h2 id="why-we-love-nushell"><a class="header" href="#why-we-love-nushell">Why We Love Nushell</a></h2>
<p>Here are the reasons we love Nushell:</p>
<ul>
<li>It is an active and welcoming project, and it is well documented.</li>
<li>It is open source.</li>
<li>You can get up and running with Nushell in a meaningful way in minutes.</li>
<li>It does its job (<a href="./terminology.html#data-pipeline">data pipelines</a>) amazingly well.</li>
<li>It makes the data we need to do our jobs immediately available.</li>
<li>It makes creating modules, scripts and plugins significantly easier (as compared to bash and other shells).</li>
<li>It visualizes structured data in a terminal better than just about any other tool.</li>
<li>It has great synergy with the rest of the chuck-stack.</li>
</ul>
<h2 id="notes-and-references"><a class="header" href="#notes-and-references">Notes and References</a></h2>
<ul>
<li>Nushell has not reached production stability yet; although, it is close. The Nushell team still introduces frequent breaking changes in an effort to enhance consistency and improve usability.</li>
<li>Nushell compliments PostgreSQL in that Nushell can perform many of the same data tasks as PostgreSQL without requiring data first be inserted into a database.
<ul>
<li>Said another way, Nushell gives you many of the same data processing abilities prior to persisting it in a database.</li>
<li>Nushell also makes persisting data in PostgreSQL easier.</li>
</ul>
</li>
<li>Nushell plugin for visualizing and plotting data <a href="https://github.com/Euphrasiologist/nu_plugin_plot">https://github.com/Euphrasiologist/nu_plugin_plot</a>
<ul>
<li>Also reference: gnuplot</li>
</ul>
</li>
<li>Nushell demonstrations and explanations
<ul>
<li><a href="https://youtu.be/uJsZATwQ3R8">DevOps part 1</a></li>
<li><a href="https://youtu.be/LFBOLx5KiME">DevOps part 2</a></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zellij"><a class="header" href="#zellij">Zellij</a></h1>
<p>Zellij is a terminal workspace layout engine. Zellij gives the chuck-stack the enterprise 'window' layout capabilities you expect to see in an ERP.</p>
<!-- TODO: add picture here -->
<h2 id="why-we-love-zellij"><a class="header" href="#why-we-love-zellij">Why We Love Zellij</a></h2>
<p>Here are the reasons we love Zellij:</p>
<ul>
<li>It is an active and welcoming project, and it is well documented.</li>
<li>It is open source.</li>
<li>You can get up and running with Zellij in a meaningful way in minutes.</li>
<li>It does its job (workspace layout) quite well.</li>
<li>It supports as many layouts as you deem appropriate.</li>
<li>It supports viewing multiple layout simultaneously. Said another way using an example, you can have three connections using three different layouts on three monitors to helps users better perform their tasks.</li>
<li>It supports both new users (who often rely on a mouse) as well as advanced users.</li>
<li>It makes the most of both small and large screens.</li>
<li>It has great synergy with the rest of the chuck-stack.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git"><a class="header" href="#git">Git</a></h1>
<p><a href="https://git-scm.com/">Git</a> is a version control system designed to help you manage a collection of documents. It helps you publish the documents' current version as well as track the changes over time.</p>
<h2 id="why-we-love-git"><a class="header" href="#why-we-love-git">Why We Love Git</a></h2>
<ul>
<li>It is commonly used and well documented.</li>
<li>It is open source.</li>
<li>It is easily accessible from anywhere in the world.</li>
<li>Its accessibility is secure and well vetted.</li>
<li>It has a vibrant online support community.</li>
<li>It makes the instructions we need to do our jobs immediately available.</li>
<li>It can be deployed in every corner of the world.</li>
<li>It can be deployed in hybrid cloud scenarios.</li>
<li>It is CLI first to help support AI and automation.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It scales massively for small to medium organizations.</li>
<li>It does its job (work instructions) quite well.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<h2 id="git-service-providers"><a class="header" href="#git-service-providers">Git Service Providers</a></h2>
<p>To get the most from Git, you will use one of the following service providers:</p>
<ul>
<li><a href="https://github.com">Github</a> - one of the most popular and feature rich Git providers</li>
<li><a href="https://gitlab.com">GitLab</a> - a popular alternative to Github that allows for self-hosting</li>
<li><a href="https://gitea.com/">Gitea</a> - an emerging solution for self-hosting Git.</li>
</ul>
<h2 id="more-than-git"><a class="header" href="#more-than-git">More Than Git</a></h2>
<p>These providers deliver more than just Git repository management. They provide the services a team needs to collaborate and develop a solution. These services include:</p>
<ul>
<li>Ticket management</li>
<li>Discussions (Github - only)</li>
<li>Commit (change) management</li>
<li><a href="https://en.wikipedia.org/wiki/Distributed_version_control#Pull_requests">Pull Requests</a> (review and change workflows)</li>
<li>Documentation management and presentation</li>
</ul>
<p>The Git style PR (pull request review and change workflow) can be intimidating to users who are not familiar with the process or the terminology. Please keep an open mind when learning PR because it is extremely valuable, and we believe it will play a pivotal role in how we execute <a href="./best-practices.html">best practices</a>.</p>
<h2 id="the-story-behind-improvement"><a class="header" href="#the-story-behind-improvement">The Story Behind Improvement</a></h2>
<p>Organizations constantly evolve to meet the demands of a changing society. There are assumptions, beliefs, experiments, successes and failures along this journey. <strong>Why</strong> we chose a particular option or path and <strong>how</strong> we implement it can be just as important as the choice itself. We want to not only document the current mission, vision, values, goals, objectives and instructions but we also want to document how and why these 'things' came to exist.</p>
<p>Institutional knowledge is the result of knowing both the past and the current. Let's map the above services to into how we create institutional knowledge:</p>
<ul>
<li><strong>Ticket</strong> - is a call to action. Something happened (corrective) that needs to be addressed, or something might happen (preventative) that needs to be considered. Tickets support the change management process by describing why and how of an action.</li>
<li><strong>Discussions</strong> - happen as a result of a thought or a concern. These discussions can happen inside a dedicated space for ad-hoc discussions, or they can happen inside a ticket, or they can happen in both places.</li>
<li><strong>Commit</strong> - is the tool/action to change to what is current into something new. Said another way, commits archive the exiting and create a new current version. Many organizations adopt a policy that commits only occur in the scope of a ticket. Said another way, no ticket - no change. This policy make sense some times (not always).</li>
<li><strong>Documentation</strong> - is often tracked alongside other instructions. Github, for example, offers a service called Github Pages where you can host documentation without needed a separate server.</li>
</ul>
<!-- TODO: link to best practices /architecture discussing how the hosting documentation fits into the picture -->
<h2 id="ai-and-institutional-knowledge"><a class="header" href="#ai-and-institutional-knowledge">AI and Institutional Knowledge</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="obsidian"><a class="header" href="#obsidian">Obsidian</a></h1>
<p><a href="https://obsidian.md">Obsidian</a> is a writing application that saves content in markdown format. It offers an enjoyable writing experience and a large collection of plugin tools to aid in the thinking, organizing and writing process.</p>
<h2 id="why-we-love-obsidian"><a class="header" href="#why-we-love-obsidian">Why We Love Obsidian</a></h2>
<p>Here are the reasons we love Obsidian:</p>
<ul>
<li>It is commonly used and well documented.</li>
<li>It has a vibrant online support community.</li>
<li>While it is not open source, the content you create is maintained in markdown and is all yours.</li>
<li>You can get up and running with Incus in a meaningful way in minutes.</li>
<li>It does its job (writing) quite well.</li>
<li>It integrates with <a href="./tools-git.html">Git</a> quite well.</li>
<li>It attracts a large collection of well-maintained plugins.</li>
<li>It offers a reasonably simple architecture given the nature of its purpose.</li>
<li>It can be deployed in every corner of the world.</li>
<li>And, most importantly it has great synergy with the rest of the chuck-stack.</li>
</ul>
<p>Special considerations for Obsidian:</p>
<ul>
<li>Obsidian is not free for commercial use. While you can install it for free, and it is free for personal use, you do need to pay per user per year for commercial use.</li>
<li>Our opinion is that $50/user/year (as of the time of writing) is high value. The few people in your organization whose primary task is writing will appreciate and benefit from this tool.</li>
</ul>
<p>References:</p>
<ul>
<li><a href="./blog-live-markdown-world.html">We live in a Markdown World</a></li>
</ul>
<h2 id="obsidian-plugins"><a class="header" href="#obsidian-plugins">Obsidian Plugins</a></h2>
<p>One of Obsidian's greatest strengths is its internal and 3rd-party plugin offerings. Here are a couple of topics worth discussing.</p>
<h3 id="excalidraw"><a class="header" href="#excalidraw">Excalidraw</a></h3>
<p>The Excalidraw Obsidian plugin gives you the ability to simply illustrate thoughts and concepts. You can create meaningful and complicated diagrams that both inform as well as help you navigate your content. Because Excalidraw maintains its definitions in plain text, it can be saved to your git repository just like any other document.</p>
<h3 id="advanced-slides"><a class="header" href="#advanced-slides">Advanced Slides</a></h3>
<p>The Advanced Slides Obsidian plugin helps you create good looking presentations (also with Excalidraw illustrations) with minimal effort using markdown.</p>
<p>Imaging having the last 10 years of marketing's executive strategy presentations available to you in markdown so that you can feed it into AI. What conclusions can you draw from the past options, proposal, successes and failures. Knowing the past, where you have come from and where you are going right now creates a much more vivid understanding of the present, and it helps you craft a better plan for the future.</p>
<h3 id="git-1"><a class="header" href="#git-1">Git</a></h3>
<p>Git Obsidian plugins help you automate:</p>
<ul>
<li>Keeping off-computer copies of your documents</li>
<li>Version control of your documents</li>
<li>Collaboration with others</li>
<li>Complex workflows for recommending and approving changes</li>
</ul>
<p>By incorporating git into the writing process, you add a whole different level of AI engagement. AI not only knows what is currently published, but it can also know the decisions and concerns expressed along the way. Said another way, this feature gives you the ability to teach AI 'how' to think about your organization.</p>
<h3 id="ai"><a class="header" href="#ai">AI</a></h3>
<p>AI Obsidian plugins help you use AI with your writing processes. Different writing tasks require different features from AI. The existing AI plugins offer good feature coverage.</p>
<p>TODO:</p>
<h2 id="alternatives"><a class="header" href="#alternatives">Alternatives</a></h2>
<p>Obsidian is the tool we enjoy the most for what the chuck-stack needs. However, there are alternatives.</p>
<ul>
<li><a href="https://logseq.com/">Logseq</a> - similar to Obsidian, and it is open source; however, it does not produce as pure of markdown as Obsidian since it is more geared towards daily journals and outlines. (<a href="https://www.youtube.com/watch?v=RtZWVoTWv74">see discussion/comparison</a>)</li>
<li><a href="https://notepad-plus-plus.org/">Notepad++</a> - or any text editor that understand markdown.</li>
<li><a href="https://code.visualstudio.com/">vscode</a> - has great support for markdown documents.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="others"><a class="header" href="#others">Others</a></h1>
<p>The purpose of this page is to highlight other tools in the chuck-stack. These tools fall into the following categories:</p>
<ul>
<li>Additional critical path tools</li>
<li>Important but non critical path tools</li>
<li>Tools we are evaluating</li>
</ul>
<h2 id="additional-critical-path-tools"><a class="header" href="#additional-critical-path-tools">Additional Critical Path Tools</a></h2>
<p>Here are the tools we use every day:</p>
<ul>
<li><a href="https://rsync.net">rsync.net</a> - is an off-site storage service that runs on top of open source tools. It is pretty fantastic! It uses rsync as the local client, which is easily installed. It uses ZFS on the remote server to keep your data safe. It costs the same as AWS S3. And, it gives you immutable backups without any additional configuration. Said another way, it is easy, reasonably priced and works as intended out of the box. Notes about rsync.net:
<ul>
<li>The website is simple</li>
<li>The account management panel is overly simple</li>
<li>The service is awesome!</li>
</ul>
</li>
<li><a href="https://www.idempiere.org/">iDempiere (ERP)</a> - ERP for managing orders, inventory, invoices, payments, accounting and much of the data you need to execute operations in your organization. iDempiere is a mature, stable and fully-featured ERP that runs on PostgreSQL. We have 23+ years experience with the iDempiere codebase.</li>
<li><a href="https://rust-lang.github.io/mdBook/">mdbook</a> - simple static site generator that converts pure markdown pages into a website. What makes mdbook great is the simple installation, configuration and deployment.</li>
<li><a href="https://passwordstore.org/">Pass (secrets)</a> - is a command line tool that helps you manage secrets/passwords with gpg. It is simple, scriptable, auditable, distributed and secure. <a href="https://gnupg.org/">gpg</a> is an encryption program that provides cryptographic privacy and authentication for data communication. The Pass repository is available on almost all platforms. It integrates well with github.</li>
<li><a href="https://www.zabbix.com/">Zabbix (monitoring)</a> -  monitor resources and respond to events.</li>
<li><a href="https://github.com/jarun/buku">buku</a> - awesome terminal bookmark manager</li>
<li><a href="https://github.com/launchbadge/sqlx/tree/main/sqlx-cli">sqlx-cli</a> - sql migration tool</li>
</ul>
<h2 id="important-tools"><a class="header" href="#important-tools">Important Tools</a></h2>
<p>Here are tools we commonly use:</p>
<ul>
<li><a href="https://mattermost.com/">Mattermost</a> - Open source collaboration tool (similar to slack and github discussions). It is backed by PostgreSQL and run locally; therefore, it fits quite well in the chuck-stack.</li>
<li><a href="https://www.getdbt.com/">dbt (ETL)</a> - tool to transform transactional data into a form than can be consumed by BI or AI or ...</li>
<li><a href="https://www.metabase.com/">Metabase (BI)</a> - BI tool for visualizing and publishing data that runs on PostgreSQL.</li>
<li><a href="https://github.com/jarun/ddgr">ddgr</a> - DuckDuckGo search from the terminal</li>
</ul>
<h2 id="tools-we-are-evaluating"><a class="header" href="#tools-we-are-evaluating">Tools We Are Evaluating</a></h2>
<p>He are the tools we want to use more:</p>
<ul>
<li><a href="https://github.com/FiloSottile/age">age</a>/<a href="https://github.com/str4d/rage">rage</a> - modern, no configuration encryption tool. Here is a notable <a href="https://github.com/FiloSottile/age/discussions/432">discussion</a>.</li>
<li><a href="https://postgresml.org/">PostgresML (AI)</a> - PostgreSQL tool for AI training and inferencing directly out of your database.</li>
<li><a href="https://ollama.com/">Ollama (AI)</a> - AI tool for running generative AI (LLM) models locally.</li>
<li><a href="https://www.crowdsec.net/">CrowdSec (security)</a> - Proactively block known malicious IPs and activities.</li>
<li><a href="https://htmx.org/">htmx</a> - compelling way for small and medium organizations to create dynamic websites.</li>
<li><a href="https://mfontanini.github.io/presenterm/">presenterm</a> - simple terminal presentation tool backed by markdown</li>
<li><a href="https://github.com/pgcentralfoundation/pgrx">pgrx</a> - helps build rust-based extensions in PostgreSQL</li>
<li><a href="https://github.com/discourse/discourse/">discourse</a> - well featured discussion board</li>
<li><a href="https://typst.app/">typst</a> - text formattng and layout engine
<ul>
<li><a href="https://news.ycombinator.com/item?id=41014941">see discussion</a></li>
<li><a href="https://www.youtube.com/watch?v=sWmlbMh3ol8">see video</a></li>
<li>Plan to use to create printing documents like orders, invoices, ...</li>
<li>typst offers greater control over formatting than general markdown (color for example)</li>
</ul>
</li>
<li><a href="https://steampipe.io">steampipe</a> - connecting PostgreSQL to cloud apis via a FDW</li>
<li><a href="https://powerpipe.io/">powerpipe</a> - generating dashboard templates from configuration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chuck-stack-architecture"><a class="header" href="#chuck-stack-architecture">chuck-stack Architecture</a></h1>
<p>In the <a href="./introduction.html">introduction</a>, we state the chuck-stack is a collection of:</p>
<ol>
<li><a href="./stack-tools.html">well understood tools</a></li>
<li><a href="./best-practices.html">business best practices</a></li>
<li><a href="./stack-application.html">application framework</a></li>
</ol>
<p>The purpose of this page is to help you understand how the these tools fit together in deployment and usage. If you want to see the architecture in action, view the <a href="./picture-success.html#how-is-this-possible">picture of success</a>.</p>
<!-- TODO: this list needs help -->
<p>Here are the topics discussed on this page:</p>
<ul>
<li><a href="stack-architecture.html#configuration-over-code">Configuration Over Code</a></li>
<li><a href="stack-architecture.html#user-experience">User Experience</a></li>
<li>Change management</li>
<li>User management</li>
<li>Documentation management</li>
</ul>
<h2 id="configuration-over-code"><a class="header" href="#configuration-over-code">Configuration Over Code</a></h2>
<p>One common theme you will find throughout the chuck-stack is the desire for configuration over code. Inspecting the chuck-stack deployment highlights the extent of configuration. What little code that does exist comes in the form of high-value, human-readable work instructions.</p>
<p>Actions to deploy the chuck-stack:</p>
<ul>
<li>System configuration (NixOS)</li>
<li>Role configuration (nix-shell)</li>
<li>PostgreSQL configuration (SQL DDL)</li>
<li>Work Instructions (plain text)</li>
</ul>
<h3 id="nixos"><a class="header" href="#nixos">NixOS</a></h3>
<p>Before we discuss NixOS, you should know a little about the <a href="./tool-linux.html#nix">Nix package management</a> tool.</p>
<p>The chuck-stack uses NixOS to deploy server applications because of its ability to simply describe the tools and configuration needed. Nix takes care of the deployment for us. This concept is true the day we deploy and anytime we perform maintenance thereafter. You simply declare what you want, and Nix makes that configuration come into existence.</p>
<p>Here are the <a href="https://github.com/chuckstack/chuck-stack-nix/tree/main/nixos">chuck-stack NixOS repository configurations</a>.</p>
<p>Below is a diagram illustrating how you can simply add a NixOS configuration file to a server to create and configure important services.</p>
<p>diagram: nixos TODO</p>
<h3 id="nix-shell-1"><a class="header" href="#nix-shell-1">nix-shell</a></h3>
<p>The chuck-stack uses nix-shell to apply the proper role tools and configuration to the right users. Said another way, when a user connects to the chuck-stack, nix-shell applies all assigned roles and ensures the environment is configured so that the user can fulfill the role's duties.</p>
<p>Just like NixOS, nix-shell is configuration based. Here is a sample <a href="https://github.com/chuckstack/chuck-stack-nix/tree/main/nix-shell/">nix.shell</a> that installs and configures PostgreSQL. <!--TODO: need a better example that focuses on a role--></p>
<p>Here is a diagram showing how we use nix-shell.</p>
<p>diagram: nix-shell TODO</p>
<p>It is worth noting that both chuck-stack users and developers use nix-shell to perform their respective roles. While these role's tasks and tools may differ, we deliver the role work instructions and tools in the exact same way to all roles. This is an important point, and it differentiates the chuck-stack from its historical alternatives.</p>
<p>Here is an example of how a developer can use nix-shell to <a href="https://github.com/chuckstack/stk-app-sql/blob/main/test/shell.nix">test a SQL migration</a> in a matter of seconds.</p>
<h3 id="postgresql-2"><a class="header" href="#postgresql-2">PostgreSQL</a></h3>
<p>The chuck-stack uses <a href="./tool-postgresql.html">PostgreSQL</a> to manage data, users, roles, workflows, attributes, documents, and more...</p>
<p>SQL is one of the most expressive and well-known data and data-access standards in the world. The chuck-stack creates simplicity by moving almost all application configuration and logic into the database, and using PostgreSQL where it excels the most. We challenge you to find a more popular, better documented, more capable, and more secure user/role system (other than Linux).</p>
<p>The chuck-stack uses the tight integration between Linux (NixOS), PostgreSQL and Git to describe application deployment and operation. The below <a href="stack-architecture.html#administration-experience">Administration Experience</a> sections highlights a common workflow using these tools.</p>
<p>By maximizing the features that make PostgreSQL great, we minimize the skills (and thereby experts) needed to make changes to your organization's system. You can find more information about <a href="./success-postgresql.html">how we use PostgreSQL here</a>. If you want a lot more information, see the <a href="./postgres-conventions.html">PostgreSQL Conventions</a> page.</p>
<p>Diagram: TODO</p>
<h3 id="work-instructions"><a class="header" href="#work-instructions">Work Instructions</a></h3>
<p>Described well here TODO link</p>
<h2 id="user-experience"><a class="header" href="#user-experience">User Experience</a></h2>
<p>The majority of a user's experience is spent instructing the system via text or voice on what to do (much like with ChatGPT or Claude AI).</p>
<ul>
<li>Users connect via ssh into a remote session from any device (phone, tablet, laptop, or computer)</li>
<li>The remote session is configured by a nix-shell</li>
<li>The nix-shell launches <a href="./tool-zellij.html">Zellij</a> with one of a couple custom layouts</li>
<li>Users spend most of their time either interacting with the command line or AIChat's REPL</li>
<li>Users will typically create automation to remove as many manual steps as is possible</li>
</ul>
<!-- TODO: determine how users deploy a timer/cron task -->
<!-- TODO: determine best option for new users in text documents -->
<!-- TODO: reconcile use of local tools like Obsidian -->
<p>The user's experience is dictated by nix-shell. When a user connects, the system loads the appropriate nix-shell and makes sure the user has the tools available to execute the tasks assigned to their role(s).</p>
<h2 id="administration-experience"><a class="header" href="#administration-experience">Administration Experience</a></h2>
<p><a href="./tool-git.html">Git</a> plays a big role in chuck-stack administration workflows. Here is a typical scenario:</p>
<ul>
<li>Administrator needs to make a change - example: add a new user</li>
<li>Administrator makes a change to user.nix and commits the change</li>
<li>System automatically sees and deploys the updated configuration</li>
</ul>
<p>The Git branching feature dictates what environments get updated. A change to the 'Test1' branch will deploy changes to the 'Test1' UAT environment. A change to the 'Prod' branch will update the 'Prod' environment.</p>
<p>The Git PR (pull request) feature plays a big role in organizations where changes need to be vetted and approved by both AI and/or humans.</p>
<h2 id="todo-application-example"><a class="header" href="#todo-application-example">Todo Application Example</a></h2>
<p>Let's review the <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/stk-todo-app.nix">stk-todo-app.nix</a> example chuck-stack application configuration to better understand how the pieces come together. The stk-todo-app.nix is an example of a simple yet usable chuck-stack application.</p>
<h3 id="two-configurations"><a class="header" href="#two-configurations">Two Configurations</a></h3>
<p>The stk-todo-app has two configuration components:</p>
<ol>
<li><a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/stk-todo-app.nix">stk-todo-app.nix</a> - the nix configuration file</li>
<li><a href="https://github.com/chuckstack/stk-app-sql">stk-app-sql</a> - the database migrations repository</li>
</ol>
<p>The <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/stk-todo-app.nix">stk-todo-app.nix</a> configuration file creates a service to automatically clone and deploy the <a href="https://github.com/chuckstack/stk-app-sql">stk-app-sql</a> database migrations every time the service is started.</p>
<p>We want to make sure you understand just how incredible this scenario is... You simply update a brand new NixOS configuration to point to a nix application file and the system will automatically install, configure and run your application. Not only during installation, but it will do this as you make changes throughout time. That is almost magical.</p>
<h3 id="assumptions"><a class="header" href="#assumptions">Assumptions</a></h3>
<p>This section assumes <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/system.nix">system.nix</a> and <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/postgresql.nix">postgresql.nix</a> are also deployed at the same time. Said another way, stk-todo-app depends on these services. By separating the system and the postgresql nix configurations, the stk-todo-app remains as simple and ease to understand as possible.</p>
<h3 id="sql-migration"><a class="header" href="#sql-migration">SQL Migration</a></h3>
<p>Since the SQL migration concept is easier to explain, let's start here first. Database migrations are held in a dedicated Git repository. The typical chuck-stack organization will make frequent additions to the SQL migration repository. The reasons to make additions to migrations include:</p>
<ul>
<li>Making a DDL change to either the private or api database schemas</li>
<li>Adding and removing a new user or role</li>
<li>Fixing an error in a SQL table</li>
<li>Anything related to SQL data that needs change control and a permanent record</li>
</ul>
<p>The chuck-stack uses sqlx-cli to manage database migrations. Notice in the below nix configuration file that Nix only creates the database and nothing else. All other database configuration responsibilities are executed by sqlx-cli. This decision was made because sqlx-cli ensures a particular migration script is executed one time.</p>
<p>One might argue that the user.nix should be moved to the SQL migration repository at the time of deployment so that all user and role management changes are managed in the same repository. This change is under consideration.</p>
<h3 id="nix-configuration-review"><a class="header" href="#nix-configuration-review">Nix Configuration Review</a></h3>
<p>Here is a breakdown of the <a href="https://github.com/chuckstack/chuck-stack-nix/blob/main/nixos/stk-todo-app.nix">stk-todo-app.nix</a> file. Before we get into the details, let's first start with the highlights. Here is what the stk-todo-app.nix configuration does for you:</p>
<ul>
<li>Updates the PostgreSQL configuration to include the stk-todo-db database</li>
<li>Creates a service to deploy database migrations</li>
<li>Creates the <a href="./tool-postgrest.html">PostgREST</a> user and service to expose an API in addition to the CLI</li>
</ul>
<p>The first line is standard in all chuck-stack nix files.</p>
<pre><code class="language-nix">{ config, lib, pkgs, modulesPath, ... }:
</code></pre>
<p>The 'let' block establishes variables and defaults to be used in the rest of the file.</p>
<pre><code class="language-nix">  ...
  postgrestPort = 3000; # variable
  postgresUser = "postgrest";
  postgresDb = "stk_todo_db";
  ...

</code></pre>
<p>Included in the 'let' block is a bash script that will be deployed as a systemd service. We highlight this feature because we greatly appreciate the utility and simplicity of creating a simple bash service.</p>
<pre><code class="language-nix">  ...
  run-migrations = pkgs.writeScriptBin "run-migrations" ''
    #!${pkgs.bash}/bin/bash
    set -e

    # Set your database URL
    export DATABASE_URL="postgres:///stk_todo_db"

    # Set the Git repository URL and the local path where it should be cloned
    REPO_URL="https://github.com/chuckstack/stk-app-sql.git"
    CLONE_PATH="/tmp/db-migrations"

    # Ensure the clone directory is empty
    rm -rf "$CLONE_PATH"

    # Clone the repository
    ${pkgs.git}/bin/git clone "$REPO_URL" "$CLONE_PATH"

    # Change to the cloned directory
    cd "$CLONE_PATH"

    # Run the migrations
    ${pkgs.sqlx-cli}/bin/sqlx migrate run

    # Clean up
    cd /
    rm -rf "$CLONE_PATH"
  '';
  ...
</code></pre>
<h2 id="all-in-one-server"><a class="header" href="#all-in-one-server">All-In-One Server</a></h2>
<p>An all-in-one server describes a deployment scenario were all tools are deployed on a single virtualized server.</p>
<h3 id="why-consider-an-all-in-one"><a class="header" href="#why-consider-an-all-in-one">Why Consider an All-In-One</a></h3>
<p>Here are the benefits of an all-in-one deployment option:</p>
<ul>
<li>Least expensive</li>
<li>Simplest architecture</li>
<li>Most secure</li>
<li>Easiest to maintain a production environment</li>
<li>Easiest to create test environments</li>
</ul>
<h3 id="all-in-one-architecture"><a class="header" href="#all-in-one-architecture">All-In-One Architecture</a></h3>
<p>The following describes a typical all-in-one deployment:</p>
<ul>
<li>A single virtualized server running NixOS - note this server can run anywhere in the world</li>
<li>Configuration options/files are added to /etc/nixos/configuration.nix</li>
<li>postgresql.nix configures PostgreSQL to hold most if not all transactional details</li>
<li>user.nix maintains all users</li>
<li>Users ssh to this server to gain access to tools and data</li>
</ul>
<p>Here is a drawing representing a typical all-in-one:</p>
<p><img src="img/all-in-one-chuck-stack.svg" alt="all-in-one" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chuck-stack-best-practices"><a class="header" href="#chuck-stack-best-practices">chuck-stack Best Practices</a></h1>
<p>Best practices make the chuck-stack vision possible. This page is broken down into two types of best practices:</p>
<ol>
<li><a href="./best-practices.html#organization-best-practices">Organization</a></li>
<li><a href="./best-practices.html#technology-best-practices">Technology</a></li>
</ol>
<p>It is worth noting the chuck-stack.org site was created as an AI-first website, and it is intended be a pinnacle example of how to write for both humans and AI augmentation. Said another way, it should offer a great example of organization and technology best practices.</p>
<h2 id="organization-best-practices"><a class="header" href="#organization-best-practices">Organization Best Practices</a></h2>
<p>The single best thing you can do to accelerate AI adoption is to implement basic quality practices. If you do not have a quality program/book already, the following should be your first version:</p>
<blockquote>
<p>We are committed to exceeding business partner expectations by executing the following:</p>
<ul>
<li><a href="./best-practices.html#say-what-we-do">Say what we do</a>.</li>
<li>Do what we said we would do.</li>
<li>Prove that we did it.</li>
<li>Focus on continuous improvement.</li>
<li>Welcome feedback!</li>
</ul>
</blockquote>
<p>If you said nothing else to summarize your quality program, this would be enough!</p>
<h3 id="quality-program-principles"><a class="header" href="#quality-program-principles">Quality Program Principles</a></h3>
<p>Before we discuss 'Say what we do', let's first introduce some important principles to help you create something you are proud of and to save your <a href="./stack-faq.html#saving-heartbeats">heart beats</a>.</p>
<ul>
<li><strong>Be kind and concise</strong> - Write the absolute minimum number of words possible in your work instructions. Someone will need to maintain every word you write from now to eternity.</li>
<li><strong>Do not repeat yourself</strong> - Say something once, and reference it everywhere else.</li>
<li><strong>AI knows almost everything</strong> - Do not repeat what AI already knows in your work instructions. Your purpose in writing work instructions is to shrink AI's world so that it knows what is important to you and how you want it discussed. This simple principle will reduce your work instructions by half if not more!</li>
<li><strong>AI creates training</strong> - Rely on AI to build your training aids and quizzes. If you write clear work instructions. AI can handle the rest for you.</li>
<li><strong>Words are best</strong> - Words are your best tool to support your organization and AI.</li>
<li><strong>Pictures rot</strong> - they rot faster than words and are harder to maintain. If you can say it, then say it!</li>
<li><strong>Videos rot</strong> - they rot faster than pictures and are harder to maintain. If you can picture it, then picture it!</li>
<li><strong>State your purpose</strong> - when you do not know what to write, state your purpose. The purpose of this page is to... The rest will flow.</li>
<li><strong>No folders</strong> - all documents/files that you create as part of your work instruction should exist in a single folder/directory. Nested directory structures are an overly simple organization technique. Sub folders/directories should be avoided because of the future pain they will cause you. It is absolutely OK to have 10,000+ documents in a single directory.</li>
</ul>
<h3 id="say-what-we-do"><a class="header" href="#say-what-we-do">Say what we Do</a></h3>
<p>Work instructions are documents that state who does what and how. There are three work instruction types we need to document - that's it!</p>
<ul>
<li><code>Roles</code> - responsibilities of a person or system in an organization</li>
<li><code>Tasks</code> - actions to be performed by one or more roles</li>
<li><code>Tools</code> - software or mechanical devices used to perform one or more tasks</li>
</ul>
<p><code>Tasks</code> are easiest work instruction type to start with. It describes how a person or system performs an action. The easiest way to describe tasks is with bullets. Just start writing.</p>
<p>Many of the tasks require the use of tools. You will be tempted to include tool instructions in your tasks. Don't do it!  If you have a task that depends on a tool, reference it so that someone can find the dedicated tool instructions.</p>
<p>Here is a best practices example of a task work instruction referring to a tool:</p>
<blockquote>
<p>Find open orders using the ERP =&gt; Sales Order window =&gt; "Today's Open Order" search option. <u>Learn more...</u></p>
</blockquote>
<p>In this example, we do not show a picture or screenshot. We do not discuss how to find the ERP. We do not discuss how to navigate. We simply describe the exact destination, and we link to the tool work instructions for further reference.</p>
<p><code>Tools</code> are the next easiest work instructions to document. They simply describe how to navigate, execute, print, etc... The biggest challenge with tools instructions is finding the minimum documentation needed to create success. Error on the side of writing less and test your work instructions. You can always write more later.</p>
<p>Be consistent with how you refer to tool objects. Here are some example guidelines:</p>
<ul>
<li>Capitalize the name of a window or menu but lowercase the word 'window'. Example: Sales Order window</li>
<li>Use quotes to identify a specific item if there is a potential for confusion. Example: Payment Term window =&gt; "Net 10" record</li>
<li>Use breadcrumbs to represent multiple steps. Example: ERP =&gt; Sales Order window =&gt; Line subtab =&gt; Process toolbar =&gt; Copy Lines process</li>
</ul>
<p><code>Roles</code> are some of the most important work instructions to create. Roles describe the contract a person or system has with the organization. It describes what they should or should not do.</p>
<p>In the <a href="./picture-success.html">Picture of Success</a>, we describe how the role work instructions ensure a <a href="./terminology.html#superclerk">superclerk</a> does not create anything that violates the role contract. Said another way, properly defined roles give superclerks the freedom to innovate while remaining in the guardrails of their role.</p>
<h3 id="where-to-write"><a class="header" href="#where-to-write">Where to Write</a></h3>
<p>Before we continue with 'Do what we said we would do', Let's discuss best practices in creating and saving and using your work.</p>
<p>You will be tempted to use Microsoft Word or Google Docs to capture your words. Don't do it! If you do, your words will trapped in that format/container. You will be limited as to how you can use your words with AI or any other tool.</p>
<p>Instead, we strongly recommend you use a tool named <a href="./tools-obsidian.html">Obsidian</a> as your writing environment. It offers the same joyful writing tools; however, it saves your words in a plain text format called <a href="https://en.wikipedia.org/wiki/Markdown">markdown</a>. Markdown is quite possibly the most simple yet powerful tool you have in working with people and AI.</p>
<h2 id="technology-best-practices"><a class="header" href="#technology-best-practices">Technology Best Practices</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="postgresql-convention"><a class="header" href="#postgresql-convention">PostgreSQL Convention</a></h1>
<p>The chuck-stack PostgreSQL conventions aim to create a consistent, convention-based, scalable, and maintainable database structure.</p>
<p>We provide two high-level features by which most applications are built:</p>
<ul>
<li>Workflow - build around the stk_wf_request table and surrounding architecture</li>
<li>Attribute Tagging - build around the stk_attribute_tag architecture</li>
</ul>
<p>The below <a href="postgres-conventions.html#convention-summary">convention summary</a> creates a workflow and attributing tagging system that is both:</p>
<ul>
<li>Generic enough to support a wide variety of use cases</li>
<li>Simple enough to support rapid adoption</li>
</ul>
<blockquote>
<p>You can always ask AI (using AIChat) about any chuck-stack specific convention or PostgreSQL best practices and options. For example, you can ask AI:</p>
<pre><code>It seems more secure to disable PostgreSQL's TCP service and require clients to connect via unix socket. Is this true?
</code></pre>
</blockquote>
<h2 id="convention-summary"><a class="header" href="#convention-summary">Convention Summary</a></h2>
<p>Here are the goals that drive our conventions:</p>
<ul>
<li>Maximize  use of conventions and AI assistance to reduce learning/development time and complexity</li>
<li>Minimize  the number of experts needed to articulate and deploy a new feature</li>
</ul>
<p>Here is a summary of our conventions. Click on any link to learn more.</p>
<ol>
<li>
<p>Database Schema Structure:</p>
<ul>
<li>Private schema (<code>private</code>) to encapsulate the internal data model and logic</li>
<li>Public API schema (<code>api</code>) to expose a public interface providing data and logic to the outside world in a controlled way</li>
</ul>
</li>
<li>
<p>Table Conventions:</p>
<ul>
<li>Use a single UUID primary key column with a <code>&lt;table_name&gt;_uu</code> convention to support universal <code>table_name</code> + <code>record_uu</code> lookup across all tables</li>
<li>Prefix core tables with <code>stk_</code></li>
<li>Use noun-first naming (e.g., <code>stk_order_line</code>)</li>
<li>Minimize abbreviations to a known list to ensure maximum schema readability</li>
</ul>
</li>
<li>
<p>Column Conventions:</p>
<ul>
<li>Use mandatory columns: <code>stk_entity_uu</code>,<code>created</code>,<code>created_by_uu</code>,<code>updated</code>,<code>updated_by_uu</code>.</li>
<li>All madatory columns are set automatically during save because of either default value or triggers</li>
<li>All tables return automatically generated <code>table_name</code> and <code>record_uu</code> columns for easy and generic looks for attributes, statistics, change logs, ...</li>
<li>Use <code>_uu</code> suffix for primary and foreign keys</li>
<li>Use <code>text</code> type instead of <code>varchar</code> when possible</li>
<li>Boolean columns must have default values</li>
</ul>
</li>
<li>
<p>Enum and Type Conventions:</p>
<ul>
<li>Most important tables have have a supporting <code>_type</code> table where users can describe that record's behavior</li>
<li>Example: stk_actor table has a stk_actor_type table that describes the type of actor</li>
<li><code>_type</code> tables use enums for code-level logic</li>
<li>No <code>_uu</code> references should be made from code</li>
<li>Only enums should be referenced from code</li>
</ul>
</li>
<li>
<p>Function Conventions:</p>
<ul>
<li>Use <code>_p</code> suffix for function parameters</li>
<li>Use <code>_v</code> suffix for function variables</li>
</ul>
</li>
<li>
<p>Trigger Conventions:</p>
<ul>
<li>Triggers are heavily used to manage events in the chuck-stack</li>
<li>The <code>private.stk_trigger_create()</code> function helps ensure core trigger functions are applied to all tables</li>
</ul>
</li>
<li>
<p>Attribute Tagging:</p>
<ul>
<li>Makes use of the <code>table_name</code> and <code>record_uu</code> convention to associate an attribute tag to any record</li>
<li>Use JSON for flexible attribute storage (<code>stk_attribute_tag</code> table)</li>
</ul>
</li>
<li>
<p>System Configuration:</p>
<ul>
<li>Use <code>stk_system_config</code> table for system-wide settings</li>
</ul>
</li>
<li>
<p>Statistics:</p>
<ul>
<li>Makes use of the <code>table_name</code> and <code>record_uu</code> convention to associate a statistic to any record</li>
<li>Use <code>stk_statistic</code> table for denormalized statistical data</li>
</ul>
</li>
<li>
<p>Scalability Considerations:</p>
<ul>
<li>Use connection pooling</li>
<li>Implement table partitioning</li>
<li>Utilize physical/streaming replicas and logical replicas</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="private-and-api-schema"><a class="header" href="#private-and-api-schema">Private and API Schema</a></h1>
<p>We use multiple PostgreSQL schemas to create and expose our application logic to the rest of the world in a consistent and secure manner.</p>
<h2 id="private-schema"><a class="header" href="#private-schema">Private Schema</a></h2>
<p>We start with a private schema where we define our data model. The schema is named <code>private</code> as a convention because no outside system should interact with this internal schema directly. Said another way, the private schema is used to insulate internal details from the outside world.</p>
<p>The private schema primarily consists of:</p>
<ul>
<li>tables to persist data</li>
<li>functions to automate workflow</li>
</ul>
<h2 id="api-schemas"><a class="header" href="#api-schemas">API Schemas</a></h2>
<p>We create at least one publicly available api schema. The purpose of the api schemas are to expose <a href="https://en.wikipedia.org/wiki/Software_versioning">semantically versioned interfaces</a> to the outside world. It is possible to maintain multiple api schemas simultaneously in situations where you need two or more major versions versions available at the same time.</p>
<p>If you support a single exposed schema, you name the publicly available schema <code>api</code>. If you plan to support multiple schemas simultaneously, you can include the major version number in the schema name like <code>api_v1</code> or <code>api_v2</code>. It is not common to support multiple versions at the same time; however, it does happen.</p>
<p>The separation between private and api schemas allows you to change the private data structure and logic representations while publicly maintaining semantic version control.</p>
<p>The api schema will most commonly consist of:</p>
<ul>
<li>pass-through views for each of the private tables that can be exposed</li>
<li>convenience functions for data CRUD (create, read, updated and delete)</li>
</ul>
<p>An overly simple example of an api pass-though view would be:</p>
<pre><code class="language-sql">CREATE VIEW api.stk_todo AS SELECT * FROM private.stk_todo;
</code></pre>
<p>Note that PostgreSQL scopes the namespace for tables, view and functions at the schema level. This means you can have an api view named <code>api.stk_todo</code> and a private table named <code>private.stk_todo</code> in the same database. This fact is extremely convenient both in terms of managing the <code>private</code> versus <code>api</code> schema relationships as well as the public <code>api_v1</code> vs <code>api_v2</code> schemas should you need multiple api versions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abbreviations"><a class="header" href="#abbreviations">Abbreviations</a></h1>
<p>We believe we can create the following abbreviations without sacrificing understanding. The following words are expected to be abbreviated when creating database objects unless the abbreviation creates confusion in specific circumstances.</p>
<ul>
<li>business partner =&gt; bp</li>
<li>configuration =&gt; config</li>
<li>document =&gt; doc</li>
<li>document number =&gt; docno</li>
<li>identifier =&gt; id</li>
<li>index =&gt; idx</li>
<li>foreign key =&gt; fk</li>
<li>link =&gt; lnk</li>
<li>location =&gt; loc</li>
<li>management =&gt; mgt</li>
<li>partition =&gt; ptn</li>
<li>postgresql =&gt; psql</li>
<li>primary key =&gt; pk</li>
<li>sales representative =&gt; salesrep</li>
<li>stack =&gt; stk</li>
<li>transaction =&gt; trx</li>
<li>universal_unique identifier =&gt; uu</li>
<li>workflow =&gt; wf</li>
<li>workflow instance =&gt; wfi</li>
</ul>
<p>The definitive list of abbreviations is maintained in the stk_abbreviation table.</p>
<!-- TODO: find a way to dynamically build this list at the time of publishing -->
<div style="break-before: page; page-break-before: always;"></div><h1 id="table-convention"><a class="header" href="#table-convention">Table Convention</a></h1>
<p>This section discuss how we create tables in the private schema.</p>
<ul>
<li>uuid single primary key
<ul>
<li>see <a href="postgres-convention/./uuid.html">uuid page</a> for more information about why and how we implement this standard.</li>
<li>See the <a href="postgres-convention/./table-record-convention.html">Table and Record Reference</a> section for more information.</li>
</ul>
</li>
<li>Noun first table names - when naming tables the noun comes first and the adjective comes next. Example: stk_order_line and stk_order_tax where order is the noun and line and tax are the adjectives. The benefit of this approach is that like tables appear next to each other alphabetically.</li>
<li><code>stk_</code> prefix - all core chuck-stack tables will begin with <code>stk_</code>. Example: <code>stk_bp</code>.
<ul>
<li>Your organization should chose a table prefix that resembles your organization's name if you wish to add new tables or new columns. Example: the Good-Care Medical organization could have a prefix of <code>gcm_</code>.</li>
</ul>
</li>
<li><code>_lnk</code> link table suffix - link tables should have a table name suffix of <code>_lnk</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="column-convention"><a class="header" href="#column-convention">Column Convention</a></h1>
<ul>
<li>primary key <code>uu</code> - All tables have a single primary key named <code>uu</code>.</li>
<li>foreign keys <code>_uu</code> suffix - example <code>stk_some_other_table_uu</code>. There are times when this convention is not possible due to multiple references to the same table. When a duplicate is needed, add an adjective before the <code>_uu</code> suffix. Examples: <code>stk_bp_ship_to_uu</code> and <code>stk_bp_bill_to_uu</code>.</li>
<li>noun first column name - when naming columns the noun comes first and the adjective comes next. Example: stk_wf_state_next_uu where state is the noun and next is the adjective. The benefit of this approach is that like columns (and the resulting methods/calls) appear next to each other alphabetically.</li>
<li>text column - use columns of type text (instead of varchar with unspecified length). Only choose a varchar with a specific length when there is a compelling reason to do so. Even then try not to...</li>
<li>boolean column - boolean values must have a default value defined at the table level.</li>
<li>unique index - when creating unique index constraints, name the constraint using the table_name_column_name_uidx where <code>_uidx</code> represents the term unique index.</li>
</ul>
<h2 id="standard-columns"><a class="header" href="#standard-columns">Standard Columns</a></h2>
<p>These sections list the mandatory and optional columns found in chuck-stack tables. Notice that coding and naming by convention plays a role in primary key name and foreign key relationships. As you will see below, you know the primary key column name as a function of the table name. You know the foreign key table name as a function of the foreign key column name when the convention allows.</p>
<h3 id="mandatory-columns"><a class="header" href="#mandatory-columns">Mandatory Columns</a></h3>
<p>The purpose of this section is to list the columns that appear in every table that holds chuck-stack data.</p>
<ul>
<li>primary key - <code>uu</code></li>
<li><code>stk_entity_uu</code> - financial set of books that owns the record</li>
<li><code>created</code> - timestamptz indicating when the record was created.</li>
<li><code>created_by_uu</code> - uuid foreign key reference to the database user/role that created the record.</li>
<li><code>updated</code> - timestamptz indicating when the record was last updated.</li>
<li><code>updated_by_uu</code> - uuid foreign key reference to the database user/role that last updated the record.</li>
<li><code>table_name</code> - generated column that hard-codes the name of the table.</li>
<li><code>stk_session_uu</code> - (not implemented yet) must be set with every insert and update. This tells events (and everything else) what where the details (user,role,docdate, etc...) surrounding this change.</li>
</ul>
<p>Notes:</p>
<ul>
<li><code>stk_session</code> (not implemented yet) records become <code>is_processed</code> = true (immutable) after its first use.</li>
</ul>
<h3 id="optional-columns"><a class="header" href="#optional-columns">Optional Columns</a></h3>
<p>The purpose of this section is to list the columns you commonly find in chuck-stack tables. Many of the below columns are used in the <a href="postgres-convention/./sample-table-convention.html">sample table</a>.</p>
<ul>
<li><code>is_active</code> - boolean that indicates if a record can be modified. is_active also acts as a soft-delete. If a record has an is_active=false, the record should be be returned as an option for selection in future lists and drop down fields. This column must be present to update it after the initial save; therefore, it appears in most tables.</li>
<li><code>name</code> - text representing the name of the record.</li>
<li><code>description</code> - text representing the description of the record.</li>
<li><code>search_key</code> - user defined text. The purpose of this column is to allow users to create keys that are more easily remembered by humans. It is up to the implementor to determine if the search_key should be unique for any given table. If it should be unique, the implementor determines the unique criteria. search_key columns are most appropriate for tables that maintain a primary concept but the record is not considered transactional. Examples of non-transactional records include users, business partners, and products.</li>
<li><code>value</code> - text that is often used along with a <code>search_key</code> in a key-value pair.</li>
<li><code>docno</code> - user defined text. The purpose of this column is to allow the system to auto-populate auto-incrementing document numbers. It is up to the implementor to determine if the document_no should be unique. If it should be unique, the implementor determines the unique criteria. The document_no column is most appropriate for tables that represent transactional data. Examples of a transaction records include invoices, orders, and payments. Tables that have a search_key column will not have a document_no column. The opposite is also true. <!-- TODO: define and link implementor --></li>
<li><code>type_enum</code> - a type table's reference to its enum value. (<a href="postgres-convention/./enum-type-convention.html">see enum and type convetion</a>)</li>
<li><code>type_uu</code> - references the record's associated type record.</li>
<li><code>parent_uu</code> - references a record in the same table identified as being a parent.</li>
<li><code>record_json</code> - the record's jsonb column that holds less structured data.</li>
<li><code>table_name_uu_json</code> - jsonb object referencing <code>{"table_name": "","uu": ""}</code>. This is used by services tables (like <a href="postgres-convention/./attribute-tag.html">attribute tagging</a>) to link to the serviced record.</li>
<li><code>is_default</code> - boolean that indicates if a record should represent a default option. Typically, only one records can have is_default=true; however, there are circumstances where multiple records in the same table can have is_default=true based on unique record attributes. Implementors chose the unique criteria for any given table with a is_default column.</li>
<li><code>date_processed</code> - timestamptz indicating when the record was processed.</li>
<li><code>is_processed</code> - boolean derived/generated from <code>date_processed</code> automatically indicating if a record has reached its final state. Said another way, if a record's is_processed=true, then no part of the record should updated or deleted. TODO: we need a way to prevent children of processed records to also be assumed to be processed unless the record has its own is_processed column.</li>
<li><code>is_summary</code> - boolean that indicates if a record is intended to be a parent to other records in the same table.</li>
<li><code>is_template</code> - boolean that indicates if a record exists for the purpose of cloning to create new records.</li>
<li><code>is_valid</code> - boolean that indicates if a record has passed all validators <!-- TODO: define workflow validator - type of event workflow --></li>
<li><code>is_include</code> - boolean that indicates if a record is of type include. Including a record could potentially impact all records that are not included. Said another way, including a record could potentially exclude all other records.</li>
<li><code>is_exclude</code> - boolean that indicates if a record is of type exclude. Excluding a record only impacts that specified record.</li>
<li><code>is_singleton</code> - indicates that only a single record or object should exist for group or category. Used for example to indicate if more than one attribute tag is allowed for given combination of table_name, uu, stk_attribute_tag_type_uu. If <code>is_singleton</code>=Y, then only one instance of an attribute tag type is allowed per record.</li>
<li><code>batch_id</code> - text indicating this record was processed as part of a batch operation. A single record couple participate in multiple batches. if so, use the noun_adjective approach (example: batch_import_id).</li>
<li><code>table_name</code> - text referencing the name of a table. This column is often generated.</li>
<li><code>column_name</code> - text referencing the name of a column.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="table-and-record-convention"><a class="header" href="#table-and-record-convention">Table and Record Convention</a></h1>
<p>The purpose of this section is to describe a way to universally link and find data in the database based on a record's table_name and uu convention.</p>
<p>As described in <a href="postgres-convention/./table-convention.html">table convention</a>, all tables have a 'single' primary key (even if it is a link table). All tables have a primary key named <code>uu</code>. All tables have a generated value for <code>table_name</code>.  Said another way, if you know the table_name and uu of any given record, you can always:</p>
<ul>
<li>Load the actual record</li>
<li>Find any information associated with that record</li>
</ul>
<p>The reason we have a dedicated generated column for <code>table_name</code> is for the following reasons:</p>
<ul>
<li>Because the <code>table_name</code> + <code>uu</code> convention is so common, having it returned in all scenarios allows for easy finding/joining of additional features/services.</li>
<li>There are times when the value returned in <code>table_name</code> is not the actual table. This concept is true for partitions where the data is actually held in sub-tables but we want the data to show the name of the primary table.</li>
</ul>
<p>These conventions create simple ways to deliver universal services like attachments, change logs, <a href="postgres-convention/./attribute-tag.html">attribute tagging</a>, <a href="postgres-convention/./statistics-convention.html">denormalized statistics</a> with minimal logic and complexity. Said another way, they allow us to create many features that are shared across all records in all tables.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="uuid"><a class="header" href="#uuid">UUID</a></h1>
<p>The purpose of this page is to discuss topics related to using the UUID type.</p>
<h2 id="simple-primary-key"><a class="header" href="#simple-primary-key">Simple Primary Key</a></h2>
<p>All tables in the chuck-stack have a single primary uuid key named <code>uu</code>. Here are the reasons for this decision:</p>
<ul>
<li>Anyone/anything can create a uuid which means there is no central point of dependency or failure for creating ids</li>
<li>Being able to identify a record and retrieve its contents solely by its <code>table_name</code> and uuid creates a powerful and consistent naming convention</li>
<li>a single naming convention enables us to deploy generic and globally available features like change logs, attribute tagging, and more</li>
</ul>
<p>What about link tables? Yes, even link tables have a single uuid primary key. Giving any table a primary key makes it a first-class citizen in the chuck-stack, and it gives it all the features that go along with that citizenship. There is nothing preventing you from having both the primary key constraint on a table as well as any unique constraints needed to maintain integrity when creating links.</p>
<h2 id="uuid-version"><a class="header" href="#uuid-version">UUID Version</a></h2>
<h3 id="version-4"><a class="header" href="#version-4">Version 4</a></h3>
<p>The default version using by PostgreSQL and chuck-stack is version 4. It is the industry standard for generating a sufficiently concise and unique values. You can assume for all practical and reasonable purposes that a randomly generated v4 uuid will not collide with a pre-existing value.</p>
<h3 id="version-7"><a class="header" href="#version-7">Version 7</a></h3>
<p>Version 7 is a newer version that also embeds the timestamp into the ID. This concept is valuable for partitioning scenarios where you want to enable <code>partition by range</code> where you can separate records by date (like stk_change_log) into separate partition sub-tables.</p>
<p>Note that UUID v7 is not available in core PostgreSQL as of the time of writing. It is expected sometime around release 18. In the meantime, you can create your own implementation or look for an extension.</p>
<h2 id="partition"><a class="header" href="#partition">Partition</a></h2>
<p>Special considerations are needed when attempting to create a <code>partition by type</code> on a table that is supposed to have a single primary key.</p>
<p>PostgreSQL requires that tables that are <code>partition by type</code> have the designated <code>type</code> present in all unique constraints. This requirement breaks our 'single primary key' convention since you will be forced to create a compound key. Note that PostgreSQL will now allow you to create a foreign key unless the key is guaranteed to point to a single record.</p>
<p>Here is our solution (<a href="postgres-convention/./postgres-convention/sample-table-convention.html#partition-table-changes">illustrated in the sample table page</a>) to both preserve our convention and support the PostgreSQL unique constraint for partitioned tables:</p>
<ul>
<li>Create a 'primary' table to hold the unique primary key.</li>
<li>Name the primary table following the normal convention (example: <code>stk_some_table</code>).</li>
<li>Give the primary table a single primary key column named <code>uu</code>. No other columns exist in this table.</li>
<li>Create a partition table with the suffix <code>_part</code> (example: <code>stk_some_table_part</code>).
<ul>
<li>This table represents the typical chuck-stack columns, and its <code>uu</code> column is a foreign key reference back to the primary table's <code>uu</code> key.</li>
<li>Create the partition table as either <code>partiton by list</code> or <code>partition by range</code>.</li>
<li><a href="postgres-convention/./postgres-convention/sample-table-convention.html#partition-table-changes">Here is an example</a> by list.</li>
</ul>
</li>
<li>By default, we create only one partition sub-table using the <code>_default</code> suffix (example: <code>stk_some_table_part_default</code>).</li>
<li>All new records go into the <code>_default</code> table until additional partition sub-tables are needed.</li>
<li>Note that in Postgresql partitioning, the sub-tables (example: <code>stk_some_table_part_default</code>) actually hold the data. The <code>stk_some_table_part</code> acts as a facade so that users and code do not see the complexity of the partitioning details.</li>
<li>You can add more partition sub-tables later as is needed with little effort.</li>
<li>The chuck-stack creates generic partitioning insert, update and delete triggers that magically work when the above partitioning convention is used.</li>
</ul>
<p>While solution might seem complex to implement, the result is quite good, fast and reliable. Here are the benefits:</p>
<ul>
<li>We keep the simple primary key convention and naming convention</li>
<li>Users of the <code>api</code> schema have no knowledge that the table is partitioned</li>
<li>We can still use all the generic tools/services like attribute tagging, change log, and more with records in the partitioned tables</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json-vs-array-vs-table-vs-column"><a class="header" href="#json-vs-array-vs-table-vs-column">JSON vs Array vs Table vs Column</a></h1>
<p>When extending any model, you must decide how you wish to extend the model. Historically, you would add an extra column or table for every incremental unit of data. Examples include adding a <code>color</code> or <code>height</code> column to a product table. This concept has challenges:</p>
<ul>
<li>You can easily add hundreds of columns to a table for seldom used attributes.</li>
<li>The database becomes more complicated with ever column and table added.</li>
<li>Complicated databases are more difficult to maintains and reason about.</li>
</ul>
<h2 id="array-usage"><a class="header" href="#array-usage">Array Usage</a></h2>
<p>Instead of adding a traditional table or a link table to associate concepts in a one-to-many scenario, you can use an array of objects. The <code>private.stk_trigger_mgt</code> table uses this concept by creating a <code>table_name</code> TEXT[] column the holds an array of table names to drive what tables get what triggers.</p>
<p>Note that an array is a simple homogeneous structure. An array works well when all you need is the reference itself; however, this simplicity breaks down when you need additional information about the reference. Additional information might include:</p>
<ul>
<li>the direction of the reference</li>
<li>the state of the reference</li>
<li>dates in which the reference is valid</li>
</ul>
<p>When a simple array no longer supports the nature of the reference, you can consider using either <a href="postgres-convention/json-array-table-column.html#json-usage">json</a> or a <a href="postgres-convention/json-array-table-column.html#link-table-usage">link table</a>.</p>
<h2 id="json-usage"><a class="header" href="#json-usage">JSON Usage</a></h2>
<p>An alternative to adding an additional column is to make use of an <a href="postgres-convention/./attribute-tag.html">attribute tag</a> architecture like <code>stk_attribute_tag</code> where you can tag any record with as many attributes as you wish. In addition to adding simple attribute tags like <code>color</code> or <code>height</code>, you can also create compound attributes like this one that describes product packaging:</p>
<pre><code class="language-json">{
  "packagingType": "Bag",
  "material": "Kraft paper with aluminum lining",
  "dimensions": {
    "length": 20,
    "width": 10,
    "height": 5,
    "unit": "cm"
  },
  "weight": {
    "value": 250,
    "unit": "g"
  },
  "capacity": {
    "value": 500,
    "unit": "g"
  },
  "color": "Brown",
  "printMethod": "Flexography",
  "features": [
    "Resealable zip",
    "One-way degassing valve",
    "Standing pouch"
  ],
  "sustainabilityScore": 8.5
}
</code></pre>
<p>See <a href="postgres-convention/./attribute-tag.html">attribute tag</a> to learn more...</p>
<h2 id="json-references"><a class="header" href="#json-references">JSON References</a></h2>
<ul>
<li><a href="https://youtu.be/nxeUiRz4G-M">JSON in PostgreSQL</a></li>
<li><a href="https://youtu.be/amJo48ChLGs">JSON Schema Validation in PostgreSQL</a></li>
<li><a href="https://youtu.be/EwFjETYge9I">JSON Indexing in PostgreSQL</a></li>
</ul>
<h2 id="link-table-usage"><a class="header" href="#link-table-usage">Link Table Usage</a></h2>
<p>Link tables are traditionally used to create many-to-many relationships. It is a well understood and documented use case. The use of link tables in the chuck-stack is encouraged when needed.</p>
<p>One area where the chuck-stack differs from traditional link tables is the additional use of primary keys for 'every' table (including link tables) as described in the <a href="postgres-convention/./table-convention.html">table convention</a> page.</p>
<p>This additional requirement allows us to use features like <a href="postgres-convention/./attribute-tag.html">attribute tagging</a> and <a href="postgres-convention/./statistics-convention.html">statistics</a> on link tables. Said another way, this convention promotes link tables to first class citizens of the chuck-stack.</p>
<h2 id="json-type"><a class="header" href="#json-type">JSON Type</a></h2>
<p>We make heave use of the JSON schema standard to validate the proper use and structure of stored JSON objects.</p>
<p>The <a href="postgres-convention/./attribute-tag.html">attribute tag</a> architecture is a example use case of this schema standard so that we may represent complex data in a simplified manner. It is also an example of the <a href="postgres-convention/./enum-type-convention.html">enum + type</a> convention where the type record (<code>stk_attribute_tag_type_json</code> column) contains the JSON schema definition and the actual <code>stk_attribute_tag</code> table (<code>stk_attribute_tag_json</code> column) contains the instance or actual value of that JSON schema.</p>
<p>The above reference videos help illustrate these concepts.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enum-and-type-convention"><a class="header" href="#enum-and-type-convention">enum and Type Convention</a></h1>
<p>enums and types work closely in the chuck-stack. The enum is a developer tool used in code. A type record is an end-user tool used in transactions. Type tables contain enums thus creating the connection between the concepts.</p>
<h2 id="enum-convention"><a class="header" href="#enum-convention">enum Convention</a></h2>
<p>The chuck-stack makes heavy use of enums to minimize the amount of code and reduce the code's dependencies on transaction data.</p>
<p>No <code>uu</code> record should ever be referred to in code. Instead, create a record with a enum column representing how the code should behave and switch/case/if-else based on the value of the enum.</p>
<p>The proper way to name an enum column is 'type_enum'.</p>
<h2 id="type-convention"><a class="header" href="#type-convention">Type Convention</a></h2>
<p>The purpose of this section is to describe a way to ensure no transactional table directly contains an enum.</p>
<p>The proper convention to reference an enum is to create a facade table with a <code>_type</code> suffix that contains the enum. Transactional tables then reference the <code>type_uu</code> record. The purpose of this convention is to allow users to create multiple <code>type</code> records without requiring any changes to enums or code.</p>
<p>An enum is typically named the same as the type table with <code>_enum</code> suffix. For example, the <code>stk_doc_type</code> table has an enum column named <code>stk_doc_type_enum</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="system-configuration-convention"><a class="header" href="#system-configuration-convention">System Configuration Convention</a></h1>
<p>The purpose of this section is to describe a way to save and reference configuration settings without referencing a record's <code>_uu</code> directly from code.</p>
<p>The <code>stk_system_config</code> table contains a collection of <code>search_key</code> and json <code>configuration</code> pairs that describe how the system operates.</p>
<p>If code needs to reference a setting or configuration, it finds an entry in the <code>stk_system_config</code> table. Code can look up system configuration records based on the configuration's <code>search_key</code>.</p>
<p>System configurator records store <code>search_key</code> values is all caps so that it resembles the common convention of a constant.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="attribute-tagging"><a class="header" href="#attribute-tagging">Attribute Tagging</a></h1>
<p>The chuck-stack makes heavy use of <a href="postgres-convention/./json-array-table-column.html#json-type">JSON</a> and attributing tagging as a means to describe database objects and workflow. The attribute tag architecture begins with the <code>stk_attribute_tag</code> table. This architecture allows you to associate any collection of attributes with any record in the database.</p>
<h2 id="example-json"><a class="header" href="#example-json">Example JSON</a></h2>
<p>In addition to adding simple attribute tags like <code>color</code> or <code>height</code>, you can also create compound attributes like this one that describes product packaging:</p>
<pre><code class="language-json">{
  "packagingType": "Bag",
  "material": "Kraft paper with aluminum lining",
  "dimensions": {
    "length": 20,
    "width": 10,
    "height": 5,
    "unit": "cm"
  },
  "weight": {
    "value": 250,
    "unit": "g"
  },
  "capacity": {
    "value": 500,
    "unit": "g"
  },
  "color": "Brown",
  "printMethod": "Flexography",
  "features": [
    "Resealable zip",
    "One-way degassing valve",
    "Standing pouch"
  ],
  "sustainabilityScore": 8.5
}
</code></pre>
<h2 id="attribute-type"><a class="header" href="#attribute-type">Attribute Type</a></h2>
<p>You can define any number of attribute tag types. Each type defines the desire shape (and restriction) of an actual tag's JSON using the JSON schema standard. See the <a href="postgres-convention/./json-array-table-column.html#json-type">JSON</a> page for more implementation details.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="statistics-convention"><a class="header" href="#statistics-convention">Statistics Convention</a></h1>
<p>The <code>stk_statistic</code> table holds statistical details about a record. The goal of this table is to remove denormalized data/columns from transactional tables. By doing so, we improve performance, reduce locking potential and reduce change log activity for data that is derived from other normalized data.</p>
<p>You use the <a href="postgres-convention/./table-record-convention.html">Table and Record Reference</a> approach to associate a statistic to any given record.</p>
<p>Recent versions of PostgreSQL introduced the <code>upsert</code> option to easily find and update an existing record or insert a new statistic in a single command. A unique index on the foreign key pointing to its namesake table prevents duplicate records.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function-convention"><a class="header" href="#function-convention">Function Convention</a></h1>
<ul>
<li>All core chuck-stack function names should be <code>stk_</code></li>
<li>The function name should use a noun + verb format to describe its behavior</li>
<li>An example function name: <code>stk_table_type_create</code></li>
<li>All function parameter names should end with <code>_p</code> suffix. For example: name_p</li>
<li>All function declared variable names should end with <code>_v</code> suffix. For example: name_v</li>
</ul>
 <!-- - concept of function => create_from vs create_into -- attempt to support both when possible - TODO: better define these terms -->
<div style="break-before: page; page-break-before: always;"></div><h1 id="trigger-convention"><a class="header" href="#trigger-convention">Trigger Convention</a></h1>
<p>The purpose of this page is to describe how the chuck-stack uses triggers.</p>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>The chuck-stack makes heavy use of events. The default tool to manage database event execution is a PostgreSQL trigger.</p>
<p>Note that we will often refer to 'triggers' as a general database concept. It is important to note there are two parts to a trigger:</p>
<ul>
<li><strong>Trigger Function</strong> - function that describes what should happen when an event occurs</li>
<li><strong>Trigger Definition</strong> - database object that associates a table with a trigger function</li>
</ul>
<h2 id="convention"><a class="header" href="#convention">Convention</a></h2>
<p>Here are some important considerations to know when managing triggers:</p>
<ul>
<li>Triggers execute in alphanumeric order of the trigger definition name</li>
<li>Use number sequences as a name prefix to represent trigger execution order in the form: 'xxxxx' for example: '10100'</li>
<li>Triggers do not natively begin with numbers, therefore prefix all trigger function and definition names with 't'</li>
<li>Core chuck-stack trigger function names should include <code>_stk</code> after the function name's sequence</li>
<li>Example trigger function name: <code>t10100_stk_created_updated</code></li>
<li>Trigger definition name should be the same as the trigger function mame</li>
<li>Example trigger definition name when applied to stk_actor: <code>t10100_stk_created_updated</code></li>
<li>The conventions of starting both the trigger function and definition name with the <code>txxxxx</code> sequence is not required; however, it is convenient when navigating larger databases</li>
<li>Use <code>\dft private.*</code> in psql to list all trigger functions</li>
<li>It is possible to have multiple triggers share the same sequence but have different function names
<ul>
<li>Since not all triggers are applied to all tables, using different triggers with the same sequence can be convenient to further promote conventions</li>
<li>Take care when duplicating sequences to ensure you do not create confusion</li>
</ul>
</li>
</ul>
<p>Here are the recommended trigger sequence conventions:</p>
<ul>
<li>All numbers should be between 10000 and 99999</li>
<li>The first sequence in a range should be <code>xx100</code> to allow for adding preceding triggers in a range after the fact</li>
<li>The assumed increment is 10 to allow room for adding triggers between two existing triggers</li>
<li>Basic and fundamental functionality (like session management)</li>
<li>Here are the ranges:
<ul>
<li>10000 to 29999 - before insert/update/delete</li>
<li>30000 to 49999 - before request action</li>
<li>50000 to 59999 - request action</li>
<li>60000 to 79999 - after request action</li>
<li>80000 to 99999 - after insert/update/delete</li>
</ul>
</li>
</ul>
<h2 id="trigger-utilities"><a class="header" href="#trigger-utilities">Trigger Utilities</a></h2>
<p>Here are some utility functions to help make managing triggers easier.</p>
<h3 id="stk_trigger_create"><a class="header" href="#stk_trigger_create">stk_trigger_create()</a></h3>
<p>There are times when a single trigger function needs to be associated with many tables.</p>
<p>To make managing the trigger creation in this scenario easier, there exists a private.stk_trigger_create() function that will create all applicable triggers as described by records in the private.stk_trigger_mgt table.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="async"><a class="header" href="#async">Async</a></h1>
<p>The purpose of this page is to describe how the chuck-stack supports asynchronous events.</p>
<h2 id="summary-1"><a class="header" href="#summary-1">Summary</a></h2>
<p>The database goes to great lengths to execute event/trigger functions in a synchronous transaction; however, there are times when these function's execution time can be unpredictable or long-running.</p>
<p>chuck-stack provides several ways to execute event functionality without blocking a transaction and creating a slow user experience.</p>
<h2 id="considerations"><a class="header" href="#considerations">Considerations</a></h2>
<p>Here are our needs from our asynchronous solution:</p>
<ul>
<li><strong>audit</strong> - audit/prove that an event occured</li>
<li><strong>replay</strong> - in case of error, provide a way to remedy a situation and re-execute the event</li>
<li><strong>batch</strong> - provide a way to process multiple events in a single execution</li>
<li><strong>notify</strong> - send pg_notify signal to provide a PostgreSQL specific signal (see <a href="postgres-convention/./notify.html">Notify</a>)</li>
<li><strong>webhook</strong> - send a signal to resources outside of PostgreSQL</li>
</ul>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>Here are the steps to perform an asynchronous operation:</p>
<ul>
<li>Write a record into <code>stk_async</code> with the appropriate <code>stk_async_type</code> indicating that you need an operation performed</li>
<li>Determine how you wish to process the asynchronous operation:
<ul>
<li>Create a function that batch processes the unprocessed records on a timer</li>
<li>Create an application that uses the existing pg_notify() message that gets generated after insert to perform a more real-time execution (see <a href="postgres-convention/./notify.html">Notify</a>)</li>
<li>Extend the chuck-stack to perform an http webhook to notify external systems of the pending operation</li>
</ul>
</li>
</ul>
<h2 id="details"><a class="header" href="#details">Details</a></h2>
<p>Table: stk_async;stk_async_type</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notify"><a class="header" href="#notify">Notify</a></h1>
<p>The purpose of this page is to describe how the chuck-stack supports notifications.</p>
<h2 id="summary-2"><a class="header" href="#summary-2">Summary</a></h2>
<p>The chuck-stack uses <a href="https://www.postgresql.org/docs/current/sql-notify.html">PostgreSQL's notify</a> to provide notifications to other systems. The <code>t70100_stk_notify()</code> trigger function provides a generic chuck-stack notify implementation. By default, only the <code>stk_async</code> and <code>stk_async_type</code> tables include this trigger definition.</p>
<p>To include additional tables in the <code>t70100_stk_notify()</code> execution:</p>
<ul>
<li>modify the in the 'stk_notify' record in the <code>stk_trigger_mgt</code> table to include your new table in the <code>table_name</code> array column</li>
<li>execute the <code>private.stk_trigger_create()</code> function to update your tables with an appropriate trigger definition</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comments"><a class="header" href="#comments">Comments</a></h1>
<p>The purpose of this page is to discuss PostgreSQL object comments.</p>
<h2 id="summary-3"><a class="header" href="#summary-3">Summary</a></h2>
<p>PostgreSQL allows you to create a comment against almost anything. The only object we have found thus far that will not accept a comment is an enum value.</p>
<p>It is strongly recommended that PostgreSQL comments are the first place where you add documentation. Here are the reasons why:</p>
<ul>
<li>PostgreSQL can easily be query and extract current comments into user interfaces, documentation, AI</li>
<li>We do not want to repeat ourselves, and PostgreSQL allows to to comment on the very objects we are creating</li>
</ul>
<h2 id="considerations-1"><a class="header" href="#considerations-1">Considerations</a></h2>
<p>We do not have everything figured out about comments. Here are some considerations.</p>
<ul>
<li>Since we maintain two schemas, and each schema object can hold a comment, where is the best place to comment (api vs private schema vs both)? One could argue the private schema comments are for developers/maintainers of the system while api schema object comments are for users of the system.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sample-table"><a class="header" href="#sample-table">Sample Table</a></h1>
<p>The purpose of this section is to make it as easy as possible to create a new entity. All you need to do is copy the below SQL and perform a replace-all on 'changeme' to set the desired name. Once you are happy with the new SQL, add it to your sqlx migration script repository.</p>
<h2 id="variable-substitution"><a class="header" href="#variable-substitution">Variable Substitution</a></h2>
<p>Here is an example vim substitute command to update 'changeme' to 'request':</p>
<pre><code class="language-vim">:%s/changeme/request/g
</code></pre>
<p>The resulting tables and objects would resemble <code>stk_request</code>.</p>
<h2 id="normal-sample-table"><a class="header" href="#normal-sample-table">Normal Sample Table</a></h2>
<p>This section represents a template for creating a new entity that does not use partitioning (aka normal table/entity). The below SQL code does the following:</p>
<ul>
<li>follows the (<a href="postgres-convention/./table-convention.html">table conventions</a>)</li>
<li>follows the (<a href="postgres-convention/./table-record-convention.html">table and record conventions</a>)</li>
<li>creates typical columns (<a href="postgres-convention/./column-convention.html">see column convention</a>)</li>
<li>creates an enum (for code) (<a href="postgres-convention/./enum-type-convention.html#enum-convention">see enum</a>)</li>
<li>adds comments to each enum value</li>
<li>creates a facade type table around the enum (for users) (<a href="postgres-convention/./enum-type-convention.html#type-convention">see type</a>)</li>
<li>creates the actual table with a reference to the type</li>
<li>exposes the tables to the api schema (<a href="postgres-convention/./schema.html">see schema</a>)</li>
<li>adds comments to each table (<a href="postgres-convention/./comment.html">see comments</a>)</li>
<li>adds triggers to each table to set session data (<a href="postgres-convention/./trigger-convention.html">see trigger</a>)</li>
</ul>
<p>Simply copy and paste this script into a SQL editor and execute with the above substituted variables.</p>
<pre><code class="language-sql">-- set session to show stk_superuser as the actor performing all the tasks
SET stk.session = '{\"psql_user\": \"stk_superuser\"}';

---- type_section start ----
CREATE TYPE private.stk_changeme_type_enum AS ENUM (
    'NONE',
    'ACTION'
);
COMMENT ON TYPE private.stk_changeme_type_enum IS 'Enum used in code to automate and validate changeme types.';

INSERT INTO private.enum_comment (enum_type, enum_value, comment) VALUES
('stk_changeme_type_enum', 'NONE', 'General purpose with no automation or validation'),
('stk_changeme_type_enum', 'ACTION', 'Action purpose with no automation or validation')
;

CREATE TABLE private.stk_changeme_type (
  uu UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  table_name TEXT GENERATED ALWAYS AS ('stk_changeme_type') STORED,
  stk_entity_uu UUID NOT NULL REFERENCES private.stk_entity(uu),
  created TIMESTAMPTZ NOT NULL DEFAULT now(),
  created_by_uu UUID NOT NULL, -- no FK by convention
  updated TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_by_uu UUID NOT NULL, -- no FK by convention
  is_active BOOLEAN NOT NULL DEFAULT true,
  is_default BOOLEAN NOT NULL DEFAULT false,
  type_enum private.stk_changeme_type_enum NOT NULL,
  ----Prompt: ask the user if they need to store json
  --record_json JSONB NOT NULL DEFAULT '{}'::jsonb,
  search_key TEXT NOT NULL DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  description TEXT
);
COMMENT ON TABLE private.stk_changeme_type IS 'Holds the types of stk_changeme records. To see a list of all stk_changeme_type_enum enums and their comments, select from api.enum_value where enum_name is stk_changeme_type_enum.';

CREATE VIEW api.stk_changeme_type AS SELECT * FROM private.stk_changeme_type;
COMMENT ON VIEW api.stk_changeme_type IS 'Holds the types of stk_changeme records.';

-- create triggers and type records for newly created tables
SELECT private.stk_trigger_create();
SELECT private.stk_table_type_create('stk_changeme_type');
---- type_section end ----

---- primary_section start ----
CREATE TABLE private.stk_changeme (
  uu UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  table_name TEXT generated always AS ('stk_changeme') stored,
  stk_entity_uu UUID NOT NULL REFERENCES private.stk_entity(uu),
  created TIMESTAMPTZ NOT NULL DEFAULT now(),
  created_by_uu UUID NOT NULL, -- no FK by convention
  updated TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_by_uu UUID NOT NULL, -- no FK by convention
  is_active BOOLEAN NOT NULL DEFAULT true,
  ----Prompt: ask the user if they need to create templates
  --is_template BOOLEAN NOT NULL DEFAULT false,
  ----Prompt: ask the user if they need validation
  --is_valid BOOLEAN NOT NULL DEFAULT true,
  type_uu UUID NOT NULL REFERENCES private.stk_changeme_type(uu),
  ----Prompt: ask the user if they need to create parent child relationships inside the table
  --parent_uu UUID REFERENCES private.stk_changeme(uu),
  ----Prompt: ask the user if they need to store json
  --record_json JSONB NOT NULL DEFAULT '{}'::jsonb,
  ----Prompt: ask the user if they need to know when/if a record was processed
  --date_processed TIMESTAMPTZ,
  --is_processed BOOLEAN GENERATED ALWAYS AS (date_processed IS NOT NULL) STORED,
  search_key TEXT NOT NULL DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  description TEXT
);
COMMENT ON TABLE private.stk_changeme IS 'Holds changeme records';

CREATE VIEW api.stk_changeme AS SELECT * FROM private.stk_changeme;
COMMENT ON VIEW api.stk_changeme IS 'Holds changeme records';
---- primary_section end ----

-- create triggers for newly created tables
SELECT private.stk_trigger_create();
</code></pre>
<h2 id="partition-table-changes"><a class="header" href="#partition-table-changes">Partition Table Changes</a></h2>
<p>There are times when you know in advance that a table will be large. As a result, you can create the entity as a collection of partitioned tables in advance to prevent future work.</p>
<p>Below represents the changes needed to the <code>---- primary_section ----</code> to create a partitioned table. Here is the process to create a partitioned entity:</p>
<ul>
<li>Copy the above 'normal' script</li>
<li>Delete the <code>---- primary_section ----</code> section</li>
<li>Replace it with the following</li>
</ul>
<p>See the <a href="postgres-convention/./uuid.html#partition">UUID page</a> for more details about partitioning, primary keys, and the below structure.</p>
<pre><code class="language-sql">---- primary_section start ----
-- primary table
-- this table is needed to support both (1) partitioning and (2) being able to maintain a single primary key and single foreign key references
CREATE TABLE private.stk_changeme (
  uu UUID PRIMARY KEY DEFAULT gen_random_uuid()
);

-- partition table
CREATE TABLE private.stk_changeme_part (
  uu UUID NOT NULL REFERENCES private.stk_changeme(uu),
  table_name TEXT generated always AS ('stk_changeme') stored,
  stk_entity_uu UUID NOT NULL REFERENCES private.stk_entity(uu),
  created TIMESTAMPTZ NOT NULL DEFAULT now(),
  created_by_uu UUID NOT NULL, -- no FK by convention
  updated TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_by_uu UUID NOT NULL, -- no FK by convention
  is_active BOOLEAN NOT NULL DEFAULT true,
  ----Prompt: ask the user if they need to create templates
  --is_template BOOLEAN NOT NULL DEFAULT false,
  ----Prompt: ask the user if they need validation
  --is_valid BOOLEAN NOT NULL DEFAULT true,
  type_uu UUID NOT NULL REFERENCES private.stk_changeme_type(uu),
  ----Prompt: ask the user if they need to create parent child relationships inside the table
  --parent_uu UUID REFERENCES private.stk_changeme(uu),
  ----Prompt: ask the user if they need to store json
  --record_json JSONB NOT NULL DEFAULT '{}'::jsonb,
  ----Prompt: ask the user if they need to know when/if a record was processed
  --date_processed TIMESTAMPTZ,
  --is_processed BOOLEAN GENERATED ALWAYS AS (date_processed IS NOT NULL) STORED,
  search_key TEXT NOT NULL DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  description TEXT,
  primary key (uu, type_uu)
) PARTITION BY LIST (type_uu);
COMMENT ON TABLE private.stk_changeme_part IS 'Holds changeme records';

-- first partitioned table to hold the actual data -- others can be created later
CREATE TABLE private.stk_changeme_part_default PARTITION OF private.stk_changeme_part DEFAULT;

CREATE VIEW api.stk_changeme AS
SELECT stkp.* -- note all values reside in and are pulled from the stk_changeme_part table (not the primary stk_changeme table)
FROM private.stk_changeme stk
JOIN private.stk_changeme_part stkp on stk.uu = stkp.uu
;
COMMENT ON VIEW api.stk_changeme IS 'Holds changeme records';

CREATE TRIGGER t00010_generic_partition_insert
    INSTEAD OF INSERT ON api.stk_changeme
    FOR EACH ROW
    EXECUTE FUNCTION private.t00010_generic_partition_insert();

CREATE TRIGGER t00020_generic_partition_update
    INSTEAD OF UPDATE ON api.stk_changeme
    FOR EACH ROW
    EXECUTE FUNCTION private.t00020_generic_partition_update();

CREATE TRIGGER t00030_generic_partition_delete
    INSTEAD OF DELETE ON api.stk_changeme
    FOR EACH ROW
    EXECUTE FUNCTION private.t00030_generic_partition_delete();
---- primary_section end ----
</code></pre>
<h2 id="test-transactions"><a class="header" href="#test-transactions">Test Transactions</a></h2>
<p>Below are some sql statements you should be able to successfully execute through the api schema against your newly created entity.</p>
<pre><code class="language-sql">insert into api.stk_changeme (name, type_uu) values ('test1',(select uu from api.stk_changeme_type limit 1)) returning uu;
update api.stk_changeme set name = 'test1a' where name = 'test1' returning name;
select * from api.stk_changeme;
delete from api.stk_changeme where name = 'test1a' returning uu;

-- sample json if you include a json column: {"id": 123, "name": "John Doe", "email": "john@example.com", "active": true, "metadata": {"age": 30, "city": "New York"}}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scalability-considerations"><a class="header" href="#scalability-considerations">Scalability Considerations</a></h1>
<p>We consider the following topics when scaling PostgreSQL from just a couple of users through thousands of concurrent users.</p>
<ul>
<li>Connection pooling will be used to minimize the load placed by high connection/subscriber counts.</li>
<li>We will make heavy use of database partitions to support growth. There are no known reasons to create separate tables because of size.
<ul>
<li>table growth in size</li>
<li>record archives (example: old invoices that do not change)</li>
<li>See <a href="postgres-convention/./sample-table-convention.html#partition-table-changes">sample table</a> for an example of partitioning</li>
</ul>
</li>
<li>We will use both read (streaming/physical) replicas and logical replicas to support non-transactional loads.
<ul>
<li>Read replicas are good for supporting read-only queries</li>
<li>Logical replicas are good for transforming data to support external systems (BI, AI, ...) and calculating statistical data.</li>
</ul>
</li>
</ul>
<p>References:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=RHwglGf_z40">PostgreSQL clustering for high availability and fault tolerance</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="to-be-resolved"><a class="header" href="#to-be-resolved">To Be Resolved</a></h1>
<ul>
<li>how do document. Do not like the following becaues of the separation between <code>private</code> and <code>api</code>. The concern is that extra work is needed to keep everything in sync. It would be better to use the same convention as changelog (<code>table_name</code> + <code>column_name</code>) to keep the defintions.
<ul>
<li>Tables should have comments that describe the purpose of the table. Because AI is so proficient at understanding SQL DDL, we can define both how the table operates and why it exists in the same location. Because SQL is self describing, we can query table comments to obtain help documentation with no extra effort.</li>
<li>Both table and column comments can contain carriage returns; therefore, you can add human readable markdown and structured json, yaml, and toml data in your comments. Note: there is no convention in this bullet yet...</li>
<li>Consider using the column's description/comment to hold column_label and column_description
<ul>
<li>comment on column wf_process.name is '{"column_label": "Name", "column_description": "Name describing the record"}';</li>
<li>select pg_catalog.col_description(c.oid, col.ordinal_position::int)::json-&gt;&gt;'column_label' ...</li>
<li>see sql/readme.md for more details <!-- TODO: old reference - needs to be changed --></li>
</ul>
</li>
</ul>
</li>
<li>lazy locking (locking convention)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chuck-stack-application-framework"><a class="header" href="#chuck-stack-application-framework">chuck-stack Application Framework</a></h1>
<p>chuck-stack uses the previously discussed <a href="./stack-tools.html">tools</a> and <a href="./best-practices.html">best practices</a> to create an application framework for data and process management. The purpose of this page is to describe the chuck-stack application components.</p>
<h2 id="framework-goals"><a class="header" href="#framework-goals">Framework Goals</a></h2>
<p>Running an organization goes beyond simple CRUD (create, read, update and delete) database operations and running processes. The system needs to make the right tools available to the right person at the right time to make their jobs easier and more enjoyable.</p>
<ul>
<li>Minimize application framework code and complexity by using off-the-shelf tools that are easily deployed and used by people and AI.</li>
<li>Minimize the effort to create new business logic. Ideally, a single command will create the template for you. AI will draft the configuration for you.</li>
<li>Maximize who in an organization can automate business logic by supporting role-based contracts where role boundaries are well defined and AI can help ensure proper <a href="./stack-faq.html#what-is-capability-sandboxing">capability sandboxing</a> and data integrity.</li>
</ul>
<h2 id="framework-components"><a class="header" href="#framework-components">Framework Components</a></h2>
<p>The stack application consists of three components:</p>
<ol>
<li>Tool/role deployment</li>
<li>Workflow processes</li>
<li>Attribute tagging</li>
</ol>
<p>All three components are critical, and all three components are notoriously difficult to do well. The concepts are difficult to learn. The tools are difficult to install and maintain. It is incredible difficult to create an architecture that is both generic enough and easy enough for broad adoption.</p>
<p>All these statements were true until now. AI changes everything! What was previously tedious is now becoming a conversation. What was previously a black box is now becoming a blueprint for execution.</p>
<h2 id="toolrole-deployment"><a class="header" href="#toolrole-deployment">Tool/Role Deployment</a></h2>
<h2 id="workflow-details"><a class="header" href="#workflow-details">Workflow Details</a></h2>
<p>chuck-stack Workflows can be broken down into system and user workflows.</p>
<h3 id="system-workflows"><a class="header" href="#system-workflows">System Workflows</a></h3>
<p>Here are the important types of system facing workflows.</p>
<ul>
<li>Before Events (save, delete, update) - TODO - defined by psql</li>
<li>After Events (save, delete, update) - TODO - defined by psql</li>
<li>Functions - TODO - defined by psql</li>
<li>Interface Events - TODO (singleton or collection)
<ul>
<li>note that interface events can be triggered by user workflows</li>
<li>document validation is an example of an interface event</li>
</ul>
</li>
</ul>
<h3 id="user-workflows"><a class="header" href="#user-workflows">User Workflows</a></h3>
<p>Here are the important types of user facing workflows.</p>
<ul>
<li>Journal workflow - everyone in an organization should be able to record the events in an organization. More...</li>
<li>Discussion workflow - everyone in an organization should be able to collaborate with others in an organization. More...</li>
<li>To-do workflow - everyone in an organization should be able to manage a simple list of tasks. More...</li>
<li>Checklist workflow - roles in an organization often have periodic prescribed tasks. Checklists are a predefined and templated to-do tasks. More...</li>
<li>Queue workflow - as people manipulate data, some records will reach a state of importance. Queues are defined views into data that match a specific pattern automatically. When the pattern is found, present the user or role with the matching records.  More...</li>
<li>Notice workflow - events happen, and sometimes users and systems need to be notified. The notification workflow provides information based on the events that occur in an organization.  More...</li>
<li>Ad-hoc request workflow - users and systems often know what needs to happen and who needs to perform the action based on the events that occur in an organization. This is often referred to as institutional knowledge of action. Ad-hoc request workflows allow users or services to request action from a particular user, role or service.  More...</li>
<li>Orchestrated request workflow - There are times when an organization needs a formal, multi-step, orchestrated process where a request follows a pre-defined path.</li>
</ul>
<h3 id="document-action-workflows"><a class="header" href="#document-action-workflows">Document Action Workflows</a></h3>
<p>Document action workflows are simply an implementation of orchestrated request workflows that center around the life cycle of transactional documents such as orders, invoices, receipts, payments, statements, allocations, .... Here is an example life cycle of a Sales Order:</p>
<!-- TODO ensure the Action and Status vocabulary terms are consistent with the pg_workflow repo -->
<ul>
<li>Action - Status - Status Description</li>
<li>Draft - Drafted - initial state representing an idea</li>
<li>Prepare - Prepared - initial validations pass and it ready for further review</li>
<li>Submit - Submitted - makes document eligible for downstream action (only applicable to orders to enable receipts, invoices, ...)</li>
<li>Complete - Completed - terminal status for happy path</li>
<li>Reverse Correct - Reverse Corrected - terminal status resulting in the creation of an anti-document (with opposite sign) with exact same document date as the original. Both the original and the resulting reversed documents will have the same status.</li>
<li>Reverse Accrue - Reverse Accrued - terminal status resulting in the creation of an anti-document (with opposite sign) with document date set to a proposed new date. Both the original and the resulting reversed documents will have the same status.</li>
</ul>
<h2 id="attribute-tagging-details"><a class="header" href="#attribute-tagging-details">Attribute Tagging Details</a></h2>
<p><a href="./postgres-convention/attribute-tag.html">Attribute tagging</a> is the ability to associate a collection of attribute values with a given record. Any record can have many sets of attribute associated with it. The chuck-stack uses PostgreSQL's JSON capabilities to implement attribute tagging.</p>
<p>Before we get too far, we need to define some terms:</p>
<ul>
<li><strong>Attribute</strong> - a dimension or descriptive characteristic.
<ul>
<li>Examples include length, width, weight, type, category, Business Partner, ....</li>
</ul>
</li>
<li><strong>Attribute Value</strong> - the answer or value associated with an Attribute.
<ul>
<li>Examples include 10, "100lbs," "order", True, ...</li>
<li>Values can also be foreign keys to other tables such as a uuid pointing to a Business Partner table.</li>
</ul>
</li>
<li><strong>Attribute Set</strong> - a collection of Attributes.</li>
<li><strong>Attribute Set Instance</strong> - an Attribute Set with its Attributes Values assigned.</li>
</ul>
<!-- TODO: add to terminology.md page - this is the definition and term points here -->
<p>Here is an example of attribute tagging in chuck-stack:</p>
<ul>
<li>TODO - this section needs to be moved to conventions</li>
<li>TODO - need to explain that the psql json capabilities define what is possible. The chuck-stack convention reduces the capabilities to create structure and known practices.</li>
<li>TODO - need to discuss when to use a table (stk_business_partner) column (stk_payment_term) versus when to use an Attribute Set (instead of a new column).</li>
<li>There is a table (stk_attribute_set) that points to all dedicated Attribute Set tables</li>
<li>stk_attribute_set columns:
<ul>
<li>table_name</li>
<li>name</li>
<li>description</li>
<li>json_idx_text - holds the json constraint text that forms the attribute set structure</li>
<li>is_valid</li>
<li>plus all other mandatory chuck-stack columns</li>
</ul>
</li>
<li>There is a dedicated table per Attribute Set to hold its Attribute Set Instances (example: stk_attribute_set_contract)</li>
<li>All dedicated Attribute Set tables have the same columns:
<ul>
<li>table_name</li>
<li>record_uu</li>
<li>value (holds the json containing the attribute set instance)</li>
<li>plus all other mandatory chuck-stack columns</li>
</ul>
</li>
</ul>
<p>extra:
There are two key process features that make this vision a reality: 1) workflow and 2) attribute tagging.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stack-academy"><a class="header" href="#stack-academy">stack-academy</a></h1>
<p>To join the stack-academy, <a href="https://buy.stripe.com/fZebLI7Qw2kPfnifYZ">click here</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>
<p><strong>Most important thing</strong> to know about the stack-academy: we meet in a live open discussion 4 times per week. You can bring any question about the chuck-stack and ERP you wish to discuss.</p>
<p><strong>Second most important thing</strong> to know: you gain access to the chuck-stack online community.</p>
<p>The stack-academy exists to help your organization achieve success as quickly as possible. It's an online support infrastructure that teaches organizations how to install and use the tools, leverage best practices, and foster superclerk talent.</p>
<ul>
<li>Teach your technical staff how to best introduce the tools with your existing infrastructure.</li>
<li>Teach your operations team how to best prepare for AI automation and AI safety.</li>
<li>Teach your users how to use automation in their role.</li>
</ul>
<p>stack-academy is more than just technical training. Changing systems is difficult. We help you understand how to create the most benefit with the least effort. We help you implement your plan get the most from AI. We help you hire the right people to fill the <a href="./terminology.html#superclerk">superclerk</a> promise.</p>
<p>Here are the most common questions:</p>
<ul>
<li>What is the purpose of the stack-academy? We want to accelerate your learning curve and provide an interactive environment to overcome challenges.</li>
<li>Do you need to join to use the chuck-stack? No.</li>
<li>Do you need to join to get prioirty support? Yes.</li>
<li>Is there a way to get phone support? Yes, we hold multiple online meetings per week where anyone can bring any topic.</li>
<li>What is the minimum purchase? The stack-academy is a monthly subscription. The minimum purchase is one month. You may join and cancel as many times as is needed to accomplish your goals.</li>
<li>Are there special pricing considerations for individuals (students or aspiring integrators)? Yes. Complete this form for consideration.</li>
</ul>
<p>We look forward to working wth your organization! <a href="https://buy.stripe.com/fZebLI7Qw2kPfnifYZ">Join Now</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="terminology"><a class="header" href="#terminology">Terminology</a></h1>
<p>The purpose of this page is to define terminology used in the chuck-stack.org.</p>
<h2 id="conversational-enterprise-computing"><a class="header" href="#conversational-enterprise-computing">Conversational Enterprise Computing</a></h2>
<p>Conversational Enterprise Computing is where users manage enterprise data and processes through commanding and inquisitive interactions with the system using a keyboard or microphone. This conversational style is in stark contrast to ERP systems of the last 20 years where the users are inundated with tens of thousands of windows, tabs and fields.</p>
<p>Here are the hallmarks for conversational enterprise computing:</p>
<ul>
<li>System adapts to the user's style of communication.</li>
<li>System uses conversive interactions to drive normal data and process archetypes.</li>
<li>System shields supporting, routine data from the user and highlights high-value details.</li>
<li>Users explore data as is needed to the extent their role allows.</li>
<li>Users rely on self-service training and automation to maximize operational and transactional velocity and efficiency (<a href="./terminology.html#otve">OTVE</a>).</li>
<li>Systems uses work instructions to drive functionality and create guardrails (<a href="./best-practices.html">see best practices</a>).</li>
</ul>
<h2 id="data-pipeline"><a class="header" href="#data-pipeline">Data Pipeline</a></h2>
<p>Linux shell pipelines allow users to chain multiple commands together, where the output of one command becomes the input for the next. This is achieved using the pipe symbol (|) between commands. Pipelines enable complex data processing and manipulation tasks to be performed efficiently by combining simple, specialized tools.</p>
<p>This approach embodies the Unix philosophy of creating small, focused programs that work together seamlessly, allowing users to build sophisticated operations from basic building blocks.</p>
<h2 id="domain-dimension"><a class="header" href="#domain-dimension">Domain Dimension</a></h2>
<p>A domain dimension is how the chuck-stack refers to a database dimensions. The following domain dimensions exist in the chuck-stack upon installation.</p>
<ul>
<li>Entity*</li>
<li>Business Partner</li>
<li>Customer
<ul>
<li>reference to Business Partner</li>
<li>only used when Business Partner is not available</li>
</ul>
</li>
<li>Vendor
<ul>
<li>reference to Business Partner</li>
<li>only used when Business Partner is not available</li>
</ul>
</li>
<li>User</li>
<li>Employee
<ul>
<li>reference to User</li>
<li>only used when User is not available</li>
</ul>
</li>
<li>Department</li>
<li>Product</li>
<li>Asset</li>
<li>Center
<ul>
<li>also known as profit or cost center, line of business, division</li>
</ul>
</li>
<li>Project</li>
<li>Activity</li>
<li>Campaign</li>
<li>Region</li>
<li>Location</li>
<li>Warehouse</li>
</ul>
<p>* means mandatory for every table in the chuck-stack</p>
<p>The purpose of the default domain dimensions is to provide a collection of defaults that represent what most (say 80%) organizations use to manage their operations.</p>
<p>See:</p>
<ul>
<li>Domain Parent - many of the domains will have a reference to itself in the form of a parent record. Parent record is when <code>is_summary</code> = true. Examples include: Business Partner, Project, Activity, Campaign, ... Parent records are not used in transactions. Parent records are often used in reporting.</li>
<li>Domain Tree - used when more than a single depth (parent) is needed. Using a tree often requires recursion.</li>
</ul>
<h2 id="entity"><a class="header" href="#entity">Entity</a></h2>
<p>An Entity is a chuck-stack domain dimension that refers to a legal or taxation group. A single <a href="./terminology.html#tenant">Tenant</a> can have many Entities. An Entity can belong to only one Tenant. A special Entity named "<em>" (pronounced 'star') is created by default when the chuck-stack is installed. By convention, "</em>" means either default or shared depending on how the organization wishes to use it.</p>
<h2 id="instance"><a class="header" href="#instance">Instance</a></h2>
<p>An instance is how the chuck-stack refers to an installation or a unit of something.</p>
<p>For example, an instance of PostgreSQL is a unique installation of the PostgreSQL application. An instance of PostgreSQL can contain multiple databases.</p>
<p>For example, an instance of chuck-stack is a unique installation and deployment of the chuck-stack tools. An instance of the chuck-stack can contain multiple Tenants.</p>
<h2 id="organization"><a class="header" href="#organization">Organization</a></h2>
<p>An organization is how the chuck-stack refers to a group that uses the chuck-stack. An organization can be a formal for-profit or not-for-profit business, and an organization can be an informal band of people united by a common interest or cause.</p>
<h2 id="otve"><a class="header" href="#otve">OTVE</a></h2>
<p>Increasing Operational and Transaction Velocity and Efficiency (OTVE) is a hallmark of the chuck-stack and conversational enterprise computing. In fact, increasing OTVE is the first bullet of the chuck-stack purpose. To learn more about how the chuck-stack increases OTVE, view the <a href="./introduction.html">introduction</a>.</p>
<h2 id="postgresql-cluster"><a class="header" href="#postgresql-cluster">PostgreSQL Cluster</a></h2>
<p>A PostgreSQL Cluster refers to an installation of PostgreSQL. Any one PostgreSQL installation supports multiple databases - hence the term 'database cluster' or 'PostgreSQL cluster'.</p>
<h2 id="superclerk"><a class="header" href="#superclerk">SuperClerk</a></h2>
<p>A superclerk is someone performing a role who desires to better automate and perfect their role thus propeling the whole team to a new level performance. A superclerk seeks out the tools and the opportunity to do more. A superclerk can be anyone with a job to do. They can be an AP/AR Clerk, Sales Representative, Machinist, Controller, Manager, etc...</p>
<p>The best way to describe a superclerk is by example. Imagine a team of AP and AR clerks. The team spends the majority of the day transcribing data. A superclerk emerges thinking there must be a better way. The superclerk does the following:</p>
<ul>
<li>Ties AI to their email to classify which emails contain new invoices.</li>
<li>Automates sending the invoice to Google's AI document service for data extraction.</li>
<li>Automates mapping the extracted details into a format for invoice upload in the ERP.</li>
</ul>
<p>It is important to note that most IT departments could do the same; however, it is also important to note that most IT departments are severely understaffed and behind on existing projects. Identifying superclerks and giving them the tools to automate their roles changes the game and can create an order of magnitude of improvement in both velocity and efficiency.</p>
<h2 id="synergy"><a class="header" href="#synergy">Synergy</a></h2>
<p>Synergy in the chuck-stack is what happens when you add two or more parts to make a whole where the value of the whole is greater than the sum of the individual parts. Just about anyone can make 1 + 1 = 2. It takes synergy (like with work instruction + automation) to make 1 + 1 = 11. That is a picture synergy!</p>
<h2 id="tenant"><a class="header" href="#tenant">Tenant</a></h2>
<p>An installation of the chuck-stack represents a 'tenant'. There is a one-to-one relationship between a single PostgreSQL database and a chuck-stack 'tenant' or installation.</p>
<p>A chuck-stack tenant can contain one or more <a href="./terminology.html#entity">Entities</a>. There are times when a single organization manages completely disparate Entities. When these entities do not share any purpose, processes or data, the organization will often create Entities in separate Tenants to help ensure proper data isolation.</p>
<p>If you need multiple chuck-stack Tenants, you simply create multiple PostgreSQL databases and put a single chuck-stack tenant in each database. The same migration and deployment scripts can be executed across all tenants to ensure application usage consistency. You can host multiple chuck-stack Tenants in a single <a href="terminology.html#postgresql-cluster">PostgreSQL cluster</a>.</p>
<p>Said another way, the chuck-stack is multi-tenant software without being multi-tenant SaaS. There is no reason for us to try and create a single, monolithic service trying to cater all organizations in the world. Monolithic SaaS service carry inherent risks that make them susceptible to data breaches and cross-contamination.</p>
<p>Our goal is to use well tested and commonly understood database and networking services to create isolated tenants of the chuck-stack.</p>
<p>There are times when you need to aggregate information across multiple tenants into a single data warehouse (data lake). This is a commonly requested task supported by many data warehouse (data lake) solutions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roadmap"><a class="header" href="#roadmap">Roadmap</a></h1>
<p>The purpose of this page is to describe the application framework progress and deployment roadmap.</p>
<h2 id="summary-4"><a class="header" href="#summary-4">Summary</a></h2>
<!-- TODO: link to goals -->
<p>It is important to understand that the chuck-stack is not a typical software project. The goals are to support small and medium sized organizations by bringing together existing tools to create a platform. As such, most of the advancements of this project relate more to convention, configuration, documentation and deployment rather than coding.</p>
<h2 id="upcoming-milestones"><a class="header" href="#upcoming-milestones">Upcoming Milestones</a></h2>
<ul>
<li>more immediate
<ul>
<li>finish table_name and record_uu column convention (make all tables first-class citizens)</li>
<li>improve using nu to show data from database (complex nested JSON objects)</li>
<li>start reasoning about a 'window' that defined dynamic validation for FK</li>
<li>create remaining workflow objects</li>
</ul>
</li>
<li>thinking about
<ul>
<li>determine role strategy to allow nix-shell to deliver role tools for a given user (map between user and role)</li>
<li>create first agent (including rag + prompt + tools)</li>
<li>integrate obsidian =&gt; git into auto-deployed playground with rag</li>
</ul>
</li>
</ul>
<h2 id="completed-milestone"><a class="header" href="#completed-milestone">Completed Milestone</a></h2>
<h3 id="week-of-2024-12-13"><a class="header" href="#week-of-2024-12-13">Week of 2024-12-13</a></h3>
<ul>
<li>...</li>
</ul>
<h3 id="week-of-2024-11-08-through-2024-12-06"><a class="header" href="#week-of-2024-11-08-through-2024-12-06">Week of 2024-11-08 through 2024-12-06</a></h3>
<ul>
<li>created <a href="./postgres-convention/sample-table-convention.html">documentation</a> and testing for table partitioning</li>
<li>created first version of session with user and entity details</li>
<li>created first set to trigger management tools (primary way to implement event-based workflow)</li>
<li>refined enum + type + primary tables with provided samples</li>
<li>created following basic entities: actor, attribute tag, change log, entity (financial), request (workflow), statistic (denormalized data), system configurator (settings)</li>
<li>created first <a href="./postgres-convention/async.html">async</a> implementation</li>
<li>improved integration with <a href="https://github.com/sigoden/aichat">aichat</a>
<ul>
<li>sql tool (psql vs usql)</li>
<li>added documentation to test environment - started to use docs and DDL in inference</li>
</ul>
</li>
<li>created sequence naming/numbering convention to enforce proper execution sequence</li>
<li>resolved <a href="./terminology.html#tenant">tenant</a> and <a href="./terminology.html#entity">entity</a> strategy</li>
<li>deployed first aichat playground to support interacting with work instructions</li>
<li>deployed obsidian as a work instruction writing tool (phone, tablet, computer) that also commits to a git review workflow</li>
</ul>
<h3 id="week-of-2024-11-01"><a class="header" href="#week-of-2024-11-01">Week of 2024-11-01</a></h3>
<ul>
<li>Updated tools-incus to include better hardware getting started and budget</li>
<li>deployed first production stack to collect www.chuck-stack.org form submissions based on the stk_todo app</li>
<li>updated NixOS + stk_todo =&gt; nix-shell to run sqlx migrations as local db superuser (not postgres superuser)</li>
<li>created first version of stk_change_log - respresents first event</li>
</ul>
<h3 id="week-of-2024-10-25"><a class="header" href="#week-of-2024-10-25">Week of 2024-10-25</a></h3>
<ul>
<li>create nginx-fail2ban as first layer of protection against ssh, http and https</li>
<li>updated nginx to allow for most strict access and block openapi/swagger if needed</li>
<li>resolved initdb and made consistent between nixos and nix-shell test</li>
<li>created first postgrest process to accept web form submissions</li>
</ul>
<h3 id="week-of-2024-10-18"><a class="header" href="#week-of-2024-10-18">Week of 2024-10-18</a></h3>
<ul>
<li>completed version 2 of the simple todo app</li>
<li>replicate iDempiere's dashboard layout in Zellij</li>
<li>nginx serving reverse proxy in nix</li>
<li>sqlx-cli running migration scripts as nix service</li>
<li>stk-todo-app with first chuck-stack-like table</li>
<li>demonstrate role based PostgreSQL administration - see impersonation</li>
</ul>
<h3 id="week-of-2024-10-11"><a class="header" href="#week-of-2024-10-11">Week of 2024-10-11</a></h3>
<ul>
<li>postgrest service up and running</li>
<li>sqlx-cli test nix-shell (<a href="https://github.com/chuckstack/stk-app-sql/blob/main/test/shell.nix">link</a>)</li>
<li>implemented best practice for creating and hosting work instructions</li>
</ul>
<h3 id="prior"><a class="header" href="#prior">Prior</a></h3>
<ul>
<li>created first version of work instructions</li>
<li>replicate <a href="https://www.youtube.com/watch?v=ooWaPVvljlU">this video</a> in aichat with built in sql role sql.
<ul>
<li>cd to newly created directory and create new db</li>
<li>create new psql instance and log important details
<ul>
<li>auto table generate and keep DDL logs (https://github.com/RavitheAnalyst/Paris-Olympics-2024---Analysis/blob/main/athletes.csv)</li>
<li>query aggregation and chart visuals</li>
</ul>
</li>
<li>create new app and use (leverage stack conventions)</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-history"><a class="header" href="#project-history">Project History</a></h1>
<p>The purpose of this page is to give you the back story behind how chuck-stack.org came to exist.</p>
<h2 id="people"><a class="header" href="#people">People</a></h2>
<p>chuck-stack.org was created by Chuck Boecking.</p>
<h2 id="founding-beliefs"><a class="header" href="#founding-beliefs">Founding Beliefs</a></h2>
<p>The chuck-stack project was created based on Chuck's beliefs that:</p>
<ol>
<li>Conversation computing is better than presenting users with a sea of window, tabs and field.</li>
<li>The terminal is the fastest, most robust, economical, stable and secure medium to manage data and processes.</li>
<li>AI will fundamentally change how users will interact with software and the terminal will help lead the way.</li>
<li>Humans will fight to be relevant, and a new breed of superclerks will emerge to drive automation and efficiency in roles.</li>
</ol>
<h2 id="before-chuck-stack"><a class="header" href="#before-chuck-stack">Before chuck-stack</a></h2>
<p>Chuck has a MS degree in electrical engineering from Texas A&amp;M University.</p>
<p>Chuck worked as an engineer at National Instruments as it grew from just over $200M to $400M in annual revenue.</p>
<p>Chuck worked as the Director of It and HR at Velocity Electronics as it grew from $500K to $40M in annual revenue. The systems that Chuck installed eventually supported over $800M in annual global revenue.</p>
<p>Chuck spent 23 years supporting the iDempiere open source ERP code base and project.</p>
<h2 id="idempiere-backstory"><a class="header" href="#idempiere-backstory">iDempiere Backstory</a></h2>
<p>iDempiere started life as Compiere (also an open source ERP project). ADempiere was created as a fork from Compiere. iDempiere was created as a fork from ADempiere.</p>
<p>The iDempiere codebase played a significant part of Chuck's professional career. It was the foundation for Velocity's ERP system.</p>
<h2 id="erp-academy"><a class="header" href="#erp-academy">ERP Academy</a></h2>
<p>iDempiere was at the heart of Chuck's ERP Academy for 11 years where Chuck created over 800 videos on the topic of open source ERP and teaching students from over 60 countries.</p>
<p>During this time, Chuck lead 7 medium-sized iDempiere deployments and assisted in over 30 more deployments. Just as important as the deployments are the students that did not deploy iDempiere. The academy was based on guiding users to a true and natural fit. If iDempiere was not the best tool, our mission was to determine that opinion as quickly as possible.</p>
<p>This deep appreciation for someone's time and efforts was a cornerstone of the academy's success.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="references"><a class="header" href="#references">References</a></h1>
<p>The purpose of this page is to share important conceptional and technical references and resources.</p>
<ul>
<li><a href="https://youtu.be/Y6ZHV0RH0fQ">You code is worthless</a>
<ul>
<li>Discusses why you should not write code if you do not need to, and indirectly makes the case for why you should reward those who write code for you (tools providers).</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-of-conduct"><a class="header" href="#code-of-conduct">Code of Conduct</a></h1>
<p>This document explains one of the ways we will create a welcoming global community. Welcome to the team; please make others feel welcome as well!</p>
<h2 id="email"><a class="header" href="#email">EMail</a></h2>
<p>contact@chuboe.com</p>
<h2 id="conduct"><a class="header" href="#conduct">Conduct</a></h2>
<ul>
<li>We are committed to providing a friendly, safe and welcoming environment for all, regardless of level of experience, gender identity and expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion, nationality, or other similar characteristic.</li>
<li>Please avoid using overtly sexual aliases or other nicknames that might detract from a friendly, safe and welcoming environment for all.</li>
<li>Please be kind and courteous. There's no need to be mean or rude.</li>
<li>Respect that people have differences of opinion and that every design or implementation choice carries a trade-off and numerous costs. There is seldom a right answer.</li>
<li>Please keep unstructured critique to a minimum. If you have solid ideas you want to experiment with, make a fork and see how it works.</li>
<li>We will exclude you from interaction if you insult, demean or harass anyone. That is not welcome behavior. We interpret the term "harassment" as including the definition in the <a href="https://github.com/stumpsyn/policies/blob/master/citizen_code_of_conduct.md">Citizen Code of Conduct</a>; if you have any lack of clarity about what might be included in that concept, please read their definition.</li>
<li>In particular, we don't tolerate behavior that excludes people in socially marginalized groups.</li>
<li>Private harassment is also unacceptable. No matter who you are, if you feel you have been or are being harassed or made uncomfortable by a community member, please contact one of the channel ops or any of the chuck-stack moderation team immediately. Whether you're a regular contributor or a newcomer, we care about making this community a safe place for you and we've got your back.</li>
<li>Likewise any spamming, trolling, flaming, baiting or other attention-stealing behavior is not welcome.</li>
</ul>
<h2 id="moderation"><a class="header" href="#moderation">Moderation</a></h2>
<p>These are the policies for upholding our communitys standards of conduct. If you feel that a thread needs moderation, please contact the chuck-stack moderation team.</p>
<ul>
<li>Remarks that violate the chuck-stack standards of conduct, including hateful, hurtful, oppressive, or exclusionary remarks, are not allowed. (Cursing is allowed, but never targeting another user, and never in a hateful manner.)</li>
<li>Remarks that moderators find inappropriate, whether listed in the code of conduct or not, are also not allowed.</li>
<li>Moderators will first respond to such remarks with a warning.</li>
<li>If the warning is unheeded, the user will be "kicked," i.e., kicked out of the communication channel to cool off.</li>
<li>If the user comes back and continues to make trouble, they will be banned, i.e., indefinitely excluded.</li>
<li>Moderators may choose at their discretion to un-ban the user if it was a first offense and they offer the offended party a genuine apology.</li>
<li>If a moderator bans someone and you think it was unjustified, please take it up with that moderator, or with a different moderator, in private. Complaints about bans in-channel are not allowed.</li>
<li>Moderators are held to a higher standard than other community members. If a moderator creates an inappropriate situation, they should expect less leeway than others.</li>
</ul>
<p>In the chuck-stack community, we strive to go the extra step to look out for each other. Dont just aim to be technically unimpeachable, try to be your best self. In particular, avoid flirting with offensive or sensitive issues, particularly if theyre off-topic; this all too often leads to unnecessary fights, hurt feelings, and damaged trust; worse, it can drive people away from the community entirely.</p>
<p>And if someone takes issue with something you said or did, resist the urge to be defensive. Just stop doing what it was they complained about and apologize. Even if you feel you were misinterpreted or unfairly accused, chances are good there was something you couldve communicated better  remember that its your responsibility to make your fellow stackers comfortable. Everyone wants to get along and we are all here first and foremost because we want to talk about cool technology. You will find that people will be eager to assume good intent and forgive as long as you earn their trust.</p>
<p>The enforcement policies listed above apply to all official chuck-stack venues; including communication channels, repositories, and all forums.</p>
<h2 id="references-1"><a class="header" href="#references-1">References</a></h2>
<ul>
<li>Adapted from the rust-lang code of conduct.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="privacy-policy"><a class="header" href="#privacy-policy">Privacy Policy</a></h1>
<p>This privacy notice explains what we do with personal information.</p>
<p>We commit to upholding the key data protection principles and data subject rights described in global and local data protection regulations.</p>
<h2 id="cookies"><a class="header" href="#cookies">Cookies</a></h2>
<p>Like many websites, the services may use cookies to obtain certain types of information when your web browser accesses our site. Cookies are used most commonly to do things like tracking page views, identifying repeat users and utilizing login tokens for a session.</p>
<p>The services use session cookies to anonymously track a users session on the services to deliver a better experience. You can block or delete these cookies through your browsers settings.</p>
<p>You can set or amend your web browser controls to accept or refuse cookies. If you choose to reject cookies, you may still use our services though your access to some functionality may be restricted. As the means by which you can refuse cookies through your web browser controls vary from browser-to-browser, you should visit your browsers help menu for more information.</p>
<h2 id="data-transfers"><a class="header" href="#data-transfers">Data Transfers</a></h2>
<p>Use of the services is voluntary and users may choose whether or not they wish to use them. Because we offer our services to people in different countries and use technical infrastructure based in the United States, we may need to transfer your personal information across borders in order to deliver our services.</p>
<h2 id="information-security"><a class="header" href="#information-security">Information Security</a></h2>
<p>We maintain administrative, technical, and physical safeguards designed to protect the privacy and security of the information we maintain about you. The connection between your computer and our servers is encrypted using Secure Sockets Layer (SSL) software that encrypts that information. We use a digital certificate and secure pages will be identified by a padlock sign and https:// in the address bar.</p>
<p>However, no method of transmission or storage is 100% secure. As a result, while we strive to protect your personal information, you acknowledge that: (a) there are security and privacy limitations inherent to the Internet which are beyond our control; and (b) security, integrity, and privacy of any and all information and data exchanged between you and us cannot be guaranteed.</p>
<h2 id="your-rights"><a class="header" href="#your-rights">Your Rights</a></h2>
<p>Upon request, we will provide users with information about whether we hold any of their personal information. In certain cases, subject to relevant legal rights, users have the right to object to the processing of their personal information, to request changes, corrections, or the deletion of their personal information, and to obtain a copy of their personal information in an easily accessible format. In order to do this, users can contact us using the contact information set out at the bottom of this policy. We will respond to every request within a reasonable timeframe and may need to take reasonable steps to confirm identity before proceeding.</p>
<p>You can also withdraw your consent to our processing of your information and the use of our services, and/or delete your user account at any time, by using the contact information below to request that your personal information be deleted. If you are an EU resident and believe that our processing of your personal data is contrary to the EU General Data Protection Regulation, you have the right to lodge a complaint with the appropriate supervisory authority.</p>
<p>If you withdraw your consent to the use or sharing of your personal information for the purposes set out in this policy, we may not be able to provide you with our services. Please note that in certain cases we may continue to process your information after you have withdrawn consent and requested that we delete your information if we have a legal basis/need to do so.</p>
<h2 id="data-retention"><a class="header" href="#data-retention">Data Retention</a></h2>
<p>For personal data under its control, we will retain such data only for as long as is necessary for the purposes set out in this policy, or as needed to provide users with our services.</p>
<p>If a user no longer wishes to use our services then it may request deletion of its data at any time.</p>
<p>Notwithstanding the above, we will retain and use user information to the extent necessary to comply with our legal obligations (for example, if we are required to retain your information to comply with applicable tax/revenue laws), resolve disputes, and enforce our agreements. We may also retain log files for the purpose of internal analysis, for site safety, security and fraud prevention, to improve site functionality, or where we are legally required to retain them for longer time periods.</p>
<h2 id="childrens-privacy"><a class="header" href="#childrens-privacy">Children's Privacy</a></h2>
<p>The services are not directed to children and we do not knowingly collect personal information from anyone under the age of sixteen. If you are under the age of sixteen, your parent or guardian must provide their consent for you to use the services.</p>
<h2 id="third-party-services"><a class="header" href="#third-party-services">Third-party Services</a></h2>
<p>We use third-party services. See the third-party service's privacy policy if you have questions, comments or concerns.</p>
<h2 id="contact"><a class="header" href="#contact">Contact</a></h2>
<p>For data subject access requests, or any questions about this privacy notice, please contact contact@chuboe.com.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chuck-stack-blog"><a class="header" href="#chuck-stack-blog">chuck-stack Blog</a></h1>
<p>Here is a list of recent blogs. The sidebar contains the full list.</p>
<h2 id="letter-to-the-ceo"><a class="header" href="#letter-to-the-ceo">Letter to the CEO</a></h2>
<p>We find and cultivate <a href="./terminology.html#superclerk">Superclerks</a>. These superclerks effectively reduce headcount. The expectation is that the incremental increase in AI costs is less than the reduction in labor; therefore, you get a net savings.</p>
<p>Note that cost savings is not the biggest benefit. The biggest benefit is automation and accuracy. You get to surround yourself with smart people who know how to do/automate their jobs.</p>
<p>Let's find high-impact and low-effort tasks to document and automate...</p>
<p><a href="./blog-letter-ceo.html">Read more...</a></p>
<h2 id="the-cli-is-better"><a class="header" href="#the-cli-is-better">The CLI is Better</a></h2>
<p>The CLI creates more value for managing data and processes in small and medium sized organizations than just about any alternative. The purpose of this post is to explain what it is better than and why.</p>
<p><a href="./blog-cli-better.html">Read more...</a></p>
<h2 id="why-conversational-enterprise-computing-matters"><a class="header" href="#why-conversational-enterprise-computing-matters">Why Conversational Enterprise Computing Matters</a></h2>
<p>This article discusses why <a href="./terminology.html#conversational-enterprise-computing">Conversational Enterprise Computing</a> matters. It helps explain how the chuck-stack gives small and medium sized organizations a competitive advantage against both its peers as well as larger organizations.</p>
<p><a href="./blog-conversational-enterprise-computing.html">Read more...</a></p>
<h2 id="work-instructions-make-your-organization-sexy"><a class="header" href="#work-instructions-make-your-organization-sexy">Work Instructions Make your Organization Sexy</a></h2>
<p>Said no one ever... until now! This article describes how AI is changing how work instructions are created and increasing the value of your organization more than ever.</p>
<p><a href="./blog-work-instruction-sexy.html">Read more...</a></p>
<h2 id="we-live-in-a-markdown-world"><a class="header" href="#we-live-in-a-markdown-world">We Live in a Markdown World</a></h2>
<p>This article describes why markdown has become a better tool for documentation than both Microsoft Word and Google Docs. We believe that the use of markdown represents a point of inflection and a significant change in how documentation and training should be maintained and published.</p>
<p><a href="./blog-live-markdown-world.html">Read more...</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="letter-to-the-ceo-1"><a class="header" href="#letter-to-the-ceo-1">Letter to the CEO</a></h1>
<ul>
<li>Published: 2024-10-24</li>
<li>Updated: 2024-10-24</li>
<li>Author: Chuck Boecking</li>
</ul>
<h2 id="dear-ceo"><a class="header" href="#dear-ceo">Dear CEO</a></h2>
<p>Our hope and vision is that all ERP-Like interactions can occur via the CLI (just like ChatGPT or Claude's single text box). Users can either be long-winded or type in cryptic codes. It does not matter because the user gets to communicate the way they want to communicate. The AI will adopt to the human.</p>
<p>We will find and cultivate <a href="./terminology.html#superclerk">Superclerks</a>. These superclerks will effectively reduce headcount. The expectation is that the incremental increase in AI costs is less than the reduction in labor; therefore you will get a net savings. However, it is important to note that the cost savings is not the biggest benefit. The biggest benefit is automation and accuracy. You get to surround yourself with smart people who know how to do/automate their jobs.</p>
<p>The expectation is that we have one set/collection of <a href="./best-practices.html">work instructions</a> for everyone (humans and AI). The expectation is that AI follows and enforces these work instructions. If humans do not like the work instructions, they submit a change request (just like git - only easier).</p>
<p>It is also worth noting that the chuck-stack.org site is itself a work instruction. The expectation is that the site is the blueprint for building and enhancing the chuck-stack. Said another way, I am writing work instructions for AI and humans at the same time.</p>
<p>To get started, let's find a high-impact and low-effort task to document and automate. Here is an example:</p>
<ul>
<li>Scenario name: notify =&gt; categorize =&gt; extract data =&gt; do action</li>
<li>User shares email or Slack message with a known address</li>
<li>System reads the message, categorizes and extracts data (example: process order)</li>
<li>System drafts order and notifies user</li>
</ul>
<p>Here is what we like about this scenario:</p>
<ul>
<li>easy to prototype</li>
<li>easy to deploy</li>
<li>easy to measure results</li>
</ul>
<p>Does this help paint a picture of how to start creating AI success? Thanks again for your support!!!</p>
<h2 id="learn-more"><a class="header" href="#learn-more">Learn More</a></h2>
<p>If you want help executing the topics in this article, join the <a href="./stack-academy.html">stack-academy</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-cli-is-better-1"><a class="header" href="#the-cli-is-better-1">The CLI is Better</a></h1>
<ul>
<li>Published: 2024-10-02</li>
<li>Updated: 2024-10-02</li>
<li>Author: Chuck Boecking</li>
</ul>
<p>Better than what? Better than a web page? Better than the Python programming language?</p>
<p>The CLI creates more value for managing data and processes in small and medium sized organizations than just about any alternative. How is that possible? The purpose of this post is to explain what it is better than and why.</p>
<h2 id="the-cli-offers-greater-value"><a class="header" href="#the-cli-offers-greater-value">The CLI Offers Greater Value</a></h2>
<p>For small and medium organizations, a user can create more value for a given unit of time and effort from the CLI than with any other technology medium. At least that is what we believe based on our 25 years in ERP.</p>
<ul>
<li>It is better than building web frameworks (Angular, React, Rails, Django, Express, ... )</li>
<li>It is better than coding logic (Python, Go, Rust, Java, ...)</li>
<li>It is better than doing nothing (copy, pasting and sharing your life away in a web browser)</li>
</ul>
<h2 id="proof-by-example"><a class="header" href="#proof-by-example">Proof by Example</a></h2>
<p>Small and medium organizations live in a process-oriented world. There are constant demands to get things done. Research this.... Process that.... The more you can automate, the more productive your organization. If you can get everyone automating within their roles, the speed at which you operate changes in a drastic way.</p>
<p>Examples help highlight concepts. Let's use the following simple example:</p>
<blockquote>
<p>Find the most popular LLM and supply references.</p>
</blockquote>
<p>The following CLI <a href="./terminology.html#data-pipeline">pipeline</a> will search the web and perform an analysis on the results. Said another way, this one line will solve the problem.</p>
<pre><code class="language-bash">ddgr --json -x -n 25 "what is the most popular llm" | aichat -- which llm is most discussed
</code></pre>
<p>Let's break this one line down:</p>
<ul>
<li>ddgr is a cli tool to search duckduckgo and print the result to the CLI.</li>
<li>The "--json -c -n 25" told ddgr to return 25 results in json and include the url.</li>
<li>We know this because it is succinctly described in the help (ddgr -h).</li>
<li>The "|" pipe symbol tells ddgr to pass its results to <a href="./tool-aichat.html">AIChat</a>.</li>
<li>AIChat can format the results in any manner requested. By default, it will show what it believes is the most human readable format.</li>
<li>By adding another "|", you can send AIChat's result to the next command (example: save to a database).</li>
</ul>
<p>It is worth noting that I found ddgr by using AIChat. I installed ddgr temporary using the following one line <a href="./tool-linux.html#nix">Nix</a> shell command:</p>
<pre><code class="language-bash">nix-shell -p ddgr
</code></pre>
<h2 id="proof-by-python"><a class="header" href="#proof-by-python">Proof by Python</a></h2>
<p>We like picking on Python because is often deemed to be one of the most popular, idiomatic and friendly languages with good reasons. To perform the example's equivalent in Python, you would need to write in excess of 100 lines of code (possibly 1000's of lines if you wanted to support all the features above).</p>
<p>At this point, someone will come back and say "there is a Python package for that." And, they would probably be right. The right package can reduce the amount of code by more than half. However, you will often spend as much time looking and testing the packages as you do actually solving the problem. And after you succeed, you are left with a single-purpose application that might or might not ever be useful again.</p>
<p>It is not difficult to reason about which solution is "better".</p>
<ul>
<li>ddgr is easily found and installed</li>
<li>ddgr is well documented</li>
<li>ddgr is a general purpose tool that can be used in a variety of situations.</li>
<li><a href="./tool-aichat.html">AIChat</a> is amazing, well documented and general purpose as well.</li>
</ul>
<p>We basically took two general purpose tools, combined them together with a single character "|" and created a unique solution.</p>
<h2 id="everyone-needs-this"><a class="header" href="#everyone-needs-this">Everyone Needs This</a></h2>
<p>Our vision of success is enabling every user in small and medium organizations to gain and use high-value, low-effort tools like ddgr and AIChat to help themselves and solve problems in their everyday roles.</p>
<h2 id="learn-more-1"><a class="header" href="#learn-more-1">Learn More</a></h2>
<p>If you want help executing the topics in this article, join the <a href="./stack-academy.html">stack-academy</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-conversational-enterprise-computing-matters-1"><a class="header" href="#why-conversational-enterprise-computing-matters-1">Why Conversational Enterprise Computing Matters</a></h1>
<ul>
<li>Published: 2024-10-01</li>
<li>Updated: 2024-10-01</li>
<li>Author: Chuck Boecking</li>
</ul>
<p>The purpose of this page is to discuss why <a href="./terminology.html#conversational-enterprise-computing">Conversational Enterprise Computing</a> matters.</p>
<p>Let's start with the cascading benefits:</p>
<ul>
<li>The systems follows work instructions,</li>
<li>as a result, more people can contribute to <a href="./terminology.html#otve">OTVE</a></li>
<li>as a result, less computer code is required to deliver the application</li>
<li>as a result, infrastructure complexity can be reduced</li>
<li>as a result, fewer experts are needed to manage the application</li>
<li>as a result, more resources are available to improve work instructions (reference to the first bullet)</li>
<li>as a result, you maximize your ability to deliver on your organization's purpose</li>
</ul>
<p>In the <a href="./introduction.html#purpose">chuck-stack introduction</a>, we stated the following. This document helps explain you can use the cascading benefits of conversational enterprise computing to do more. Said another way, it shows how this statement is possible.</p>
<blockquote>
<p>If we succeed executing our purpose, we will give small and medium sized organizations a competitive advantage against both its peers as well as larger organizations.</p>
</blockquote>
<p>Note that conversational enterprise computing makes no references to what tools are used to create the application or how the application is delivered (web versus terminal). It is just a style or a type computing that sits in stark contrast to the last 20 years of ERP.</p>
<p>The chuck-stack positions itself as a leader in conversational enterprise computing by putting in the work to assemble the tools, document the best practices in one place, and teach anyone who is willing to learn. Said another way, we go to heroic efforts to make this style of computing available to everyone in every corner of the world.</p>
<h2 id="learn-more-2"><a class="header" href="#learn-more-2">Learn More</a></h2>
<p>If you want help executing the topics in this article, join the <a href="./stack-academy.html">stack-academy</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="work-instructions-make-your-organization-sexy-1"><a class="header" href="#work-instructions-make-your-organization-sexy-1">Work Instructions Make your Organization Sexy</a></h1>
<ul>
<li>Published: 2024-09-18</li>
<li>Updated: 2024-09-18</li>
<li>Author: Chuck Boecking</li>
</ul>
<p>Said no one ever... until now!</p>
<p>This article describes how AI is changing how work instructions are created and increasing the value of your organization more than ever.</p>
<h2 id="key-takeaways"><a class="header" href="#key-takeaways">Key Takeaways</a></h2>
<p>Here are the important points in this article. Work instructions:</p>
<ul>
<li>Are getting shorter - not longer</li>
<li>Feed automation</li>
<li>Give <a href="./terminology.html#superclerk">superclerks</a> more autonomy - which is good</li>
<li>Add value to the overall worth of your organization - which is great</li>
</ul>
<h2 id="trim-it-down"><a class="header" href="#trim-it-down">Trim it Down</a></h2>
<p>AI is playing a vital role in changing how work instructions are created. Work Instructions are getting shorter <strong>because</strong> you no longer need to say as much <strong>because</strong> AI can fill in the gaps with general knowledge <strong>because</strong> AI knows more about more than any one person.</p>
<p>Said another way, only write what is specific about your organization in your work instructions. Do not include general knowledge or concepts about your industry. Instead, rely on AI to help users create personalized discussions that go into more depth on an as needed basis. If someone needs to know more, they can always ask AI.</p>
<p>Your job, as someone in charge of maintaining work instruction, is to only write enough words to shrink AI's world down to what matters most to your organization's success. Work instructions should teach AI to use your vocabulary, your terms, your specifics.</p>
<p><a href="./best-practices.html">Learn more...</a></p>
<h2 id="words-are-liabilities"><a class="header" href="#words-are-liabilities">Words are Liabilities</a></h2>
<p>Think about it this way: Every word you write in your work instructions is a liability that will cost you in the future. It must be understood, explained, tested, reviewed and maintained. Every word you write consumes someone else's <a href="./stack-faq.html#saving-heartbeats">heartbeats</a>. Be kind by being deliberate and concise.</p>
<h2 id="integrate-ai-chat"><a class="header" href="#integrate-ai-chat">Integrate AI Chat</a></h2>
<p>Include a "let's discuss" link in each section of your work instructions. The link should open an AI chat dialog about that topic so users can ask questions, create learning aids, test knowledge, and more.</p>
<p>If you want a high-impact example of concise work instructions and the power of "let's discuss" with AI, look at the US Constitution. It is arguably one of the most meaningful work instructions in the modern world. Like many documents, most people have not read the Constitution*. AI makes the Constitution more available and more meaningful to more people. Here is what I mean:</p>
<ul>
<li>AI can learn almost any document immediately</li>
<li>AI is a kind and patient tutor</li>
<li>AI will take as little or as much time as you want on a topic</li>
<li>AI can teach at any learning level (primary to PhD)</li>
<li>AI helps you create personalized connections</li>
<li>AI can help you memorize important details or instructions</li>
</ul>
<p>I am often asked to help with systems training. My first question is: do you have work instructions? If answer is no, we cannot move forward - at least not with training. After all, why would you ever create training (about how to create and run a country for example) before you have the actual work instructions (Constitution for example)? Instructions come first, then everything else.</p>
<h2 id="automation-is-next"><a class="header" href="#automation-is-next">Automation is Next</a></h2>
<p>Hopefully I have convinced you to immediately start writing concise, AI-supported work instructions. However, there is more.. Not only will you gain operational velocity and efficiency from creating work instructions as discussed above, you also gain the ability to automate your organization.</p>
<p>AI will continue to perform more and more work for you. AI's current role mostly centers around thought labor; however, with tools like <a href="./tool-aichat.html">AIChat</a>, AI is starting to interact with systems and people on our behalf. Clear and concise work instructions do not apply solely to humans. One of AI's greatest strength is to read and apply knowledge. It only make sense that an AI can read and act on your work instructions.</p>
<p>However, not all systems are created equal. When you are forced to use a mouse to interact with the system, AI is limited in what it can do. Since the last 20 years of software was largely build around a mouse, simply saying "AI go do..." does not work in many cases. Luckily, the last 10 years have ushered in the concept of APIs where systems can talk to systems. AI can very much talk to systems via an API.</p>
<p>The chuck-stack brings AI interaction to a whole new level. There is little distinction between what a human can do versus what an AI can do. Said another way, chuck-stack enables everyday clerks to use AI and well-formed work instructions to remove complexity and automate tasks. What was tedious becomes scripted. Scripts become menu options. Options connect to form data <a href="./terminology.html#data-pipeline">pipelines</a>.</p>
<p>Conversational enterprise computing (the chuck-stack) will change how you think about business basics. As a result, I hope the mouse enjoys a pleasant retirement.</p>
<p><a href="./picture-success.html">Learn more...</a></p>
<p>I think you are starting to understand the big picture. Now, let's tie these concepts back to sexy.</p>
<h2 id="lets-get-sexy"><a class="header" href="#lets-get-sexy">Let's get Sexy</a></h2>
<p>Business basics have not changed.</p>
<ul>
<li>Say what we do.</li>
<li>Do what we said we would do.</li>
<li>Prove that we did it.</li>
<li>Focus on continuous improvement.</li>
<li>Welcome feedback!</li>
</ul>
<p>What's changed is how we do it. If you can do what this article suggests, it stands to reason that you will greatly increase the value of your organization. Better documentation with more automation results in more value. Anyone can make 1 + 1 = 2. It takes synergy (like with work instruction + automation) to make 1 + 1 = 11. That is what we do.</p>
<p>We take easy to understand <a href="./best-practices.html">concepts</a> and <a href="./stack-tools.html">tools</a> and create synergy that drives your operational and transactional velocity and efficiency. We make you more valuable!</p>
<h2 id="learn-more-3"><a class="header" href="#learn-more-3">Learn More</a></h2>
<p>If you want help executing the topics in this article, join the <a href="./stack-academy.html">stack-academy</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>
<h3 id="percentage-who-read-the-us-constitution"><a class="header" href="#percentage-who-read-the-us-constitution">Percentage Who Read The US Constitution</a></h3>
<p>It's difficult to provide an exact percentage of US citizens who have not read the Constitution, as I am not aware of a nationwide survey that has measured this specific information. However, various polls and studies over the years have indicated that a significant portion of Americans have not read the entire Constitution. If you want to know more about sources that would either prove or disprove these comments, I encourage you to ask AI.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="we-live-in-a-markdown-world-blog"><a class="header" href="#we-live-in-a-markdown-world-blog">We Live in a Markdown World Blog</a></h1>
<ul>
<li>Published: 2024-09-16</li>
<li>Updated: 2024-09-16</li>
<li>Author: Chuck Boecking</li>
</ul>
<p>This article describes why markdown has become a better tool for documentation than both Microsoft Word and Google Docs. We believe that the use of markdown and the benefits you gain from it represent a point of inflection and a significant change in how documentation and training should be maintained and published.</p>
<h2 id="call-to-action-use-markdown"><a class="header" href="#call-to-action-use-markdown">Call to Action: Use Markdown</a></h2>
<p>If you are working with the chuck-stack, all work instructions, content, documentation, instructions, tutorials, etc... should be created in markdown format.</p>
<p>Here are the reasons:</p>
<ul>
<li>Documents can be easily added to a repository (where the documentation is most relevant) and changes can be tracked and reviewed right next to the code/configuration.</li>
<li>The pull request review system is far superior to anything in word/gdoc for creating, reviewing, and publishing works.</li>
<li>Markdown editors like vscode, <a href="https://obsidian.md">obsidian</a>, and almost any modern text editor are as good as word/gdocs for transferring knowledge via formatted text.</li>
<li>We use <a href="./tool-aichat.html">AIChat</a> constantly. We can pass in markdown with no additional effort into any LLM of choice:
<ul>
<li>example: aichat -f somedoc.md -- please create a 3-question quiz on this material to check for general understanding</li>
</ul>
</li>
<li>Markdown docs can easily be turned into private and public project websites using tools like <a href="https://rust-lang.github.io/mdBook/">mdbook</a> with virtually no effort and almost no tooling. The resulting mdbook website augments the git pull request for edits from the whole team by providing a quick edit link on every page.</li>
</ul>
<p>For more reasons to consider markdown, see the <a href="./best-practices.html">chuck-stack best practices</a>.</p>
<h2 id="learn-more-4"><a class="header" href="#learn-more-4">Learn More</a></h2>
<p>If you want help executing the topics in this article, join the <a href="./stack-academy.html">stack-academy</a>. Not ready to join... We can always <a href="../learn-more.html">stay connected</a> to learn more.</p>

                        <br>
                        <p>Copyright &copy; <script>document.write(new Date().getFullYear())</script>, CHUBOE LLC. All rights reserved.</p> <!--chuboe changed-->
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
